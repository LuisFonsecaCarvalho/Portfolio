var Rh=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports);import"swiper/swiper-bundle.css";var zp=Rh((Np,Mr)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();/*! jQuery v3.5.1 | (c) JS Foundation and other contributors | jquery.org/license */(function(o,e){typeof Mr=="object"&&typeof Mr.exports=="object"?Mr.exports=o.document?e(o,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(o)})(typeof window<"u"?window:void 0,function(o,e){var t=[],i=Object.getPrototypeOf,n=t.slice,s=t.flat?function(r){return t.flat.call(r)}:function(r){return t.concat.apply([],r)},a=t.push,l=t.indexOf,c={},u=c.toString,f=c.hasOwnProperty,m=f.toString,y=m.call(Object),x={},w=function(r){return typeof r=="function"&&typeof r.nodeType!="number"},S=function(r){return r!=null&&r===r.window},A=o.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function F(r,h,p){var g,b,v=(p=p||A).createElement("script");if(v.text=r,h)for(g in E)(b=h[g]||h.getAttribute&&h.getAttribute(g))&&v.setAttribute(g,b);p.head.appendChild(v).parentNode.removeChild(v)}function L(r){return r==null?r+"":typeof r=="object"||typeof r=="function"?c[u.call(r)]||"object":typeof r}var N="3.5.1",d=function(r,h){return new d.fn.init(r,h)};function W(r){var h=!!r&&"length"in r&&r.length,p=L(r);return!w(r)&&!S(r)&&(p==="array"||h===0||typeof h=="number"&&0<h&&h-1 in r)}d.fn=d.prototype={jquery:N,constructor:d,length:0,toArray:function(){return n.call(this)},get:function(r){return r==null?n.call(this):r<0?this[r+this.length]:this[r]},pushStack:function(r){var h=d.merge(this.constructor(),r);return h.prevObject=this,h},each:function(r){return d.each(this,r)},map:function(r){return this.pushStack(d.map(this,function(h,p){return r.call(h,p,h)}))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(d.grep(this,function(r,h){return(h+1)%2}))},odd:function(){return this.pushStack(d.grep(this,function(r,h){return h%2}))},eq:function(r){var h=this.length,p=+r+(r<0?h:0);return this.pushStack(0<=p&&p<h?[this[p]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:t.sort,splice:t.splice},d.extend=d.fn.extend=function(){var r,h,p,g,b,v,T=arguments[0]||{},C=1,I=arguments.length,R=!1;for(typeof T=="boolean"&&(R=T,T=arguments[C]||{},C++),typeof T=="object"||w(T)||(T={}),C===I&&(T=this,C--);C<I;C++)if((r=arguments[C])!=null)for(h in r)g=r[h],h!=="__proto__"&&T!==g&&(R&&g&&(d.isPlainObject(g)||(b=Array.isArray(g)))?(p=T[h],v=b&&!Array.isArray(p)?[]:b||d.isPlainObject(p)?p:{},b=!1,T[h]=d.extend(R,v,g)):g!==void 0&&(T[h]=g));return T},d.extend({expando:"jQuery"+(N+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw new Error(r)},noop:function(){},isPlainObject:function(r){var h,p;return!(!r||u.call(r)!=="[object Object]")&&(!(h=i(r))||typeof(p=f.call(h,"constructor")&&h.constructor)=="function"&&m.call(p)===y)},isEmptyObject:function(r){var h;for(h in r)return!1;return!0},globalEval:function(r,h,p){F(r,{nonce:h&&h.nonce},p)},each:function(r,h){var p,g=0;if(W(r))for(p=r.length;g<p&&h.call(r[g],g,r[g])!==!1;g++);else for(g in r)if(h.call(r[g],g,r[g])===!1)break;return r},makeArray:function(r,h){var p=h||[];return r!=null&&(W(Object(r))?d.merge(p,typeof r=="string"?[r]:r):a.call(p,r)),p},inArray:function(r,h,p){return h==null?-1:l.call(h,r,p)},merge:function(r,h){for(var p=+h.length,g=0,b=r.length;g<p;g++)r[b++]=h[g];return r.length=b,r},grep:function(r,h,p){for(var g=[],b=0,v=r.length,T=!p;b<v;b++)!h(r[b],b)!==T&&g.push(r[b]);return g},map:function(r,h,p){var g,b,v=0,T=[];if(W(r))for(g=r.length;v<g;v++)(b=h(r[v],v,p))!=null&&T.push(b);else for(v in r)(b=h(r[v],v,p))!=null&&T.push(b);return s(T)},guid:1,support:x}),typeof Symbol=="function"&&(d.fn[Symbol.iterator]=t[Symbol.iterator]),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(r,h){c["[object "+h+"]"]=h.toLowerCase()});var G=function(r){var h,p,g,b,v,T,C,I,R,B,V,D,j,te,se,ie,Pe,Ve,pt,_e="sizzle"+1*new Date,he=r.document,ot=0,ve=0,ze=Ds(),es=Ds(),Ns=Ds(),mt=Ds(),Ki=function(M,_){return M===_&&(V=!0),0},dn={}.hasOwnProperty,at=[],fn=at.pop,It=at.push,Re=at.push,gt=at.slice,yt=function(M,_){for(var P=0,H=M.length;P<H;P++)if(M[P]===_)return P;return-1},ti="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ue="[\\x20\\t\\r\\n\\f]",Te="(?:\\\\[\\da-fA-F]{1,6}"+ue+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ge="\\["+ue+"*("+Te+")(?:"+ue+"*([*^$|!~]?=)"+ue+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Te+"))|)"+ue+"*\\]",xt=":("+Te+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ge+")*)|.*)\\)|)",Be=new RegExp(ue+"+","g"),bt=new RegExp("^"+ue+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ue+"+$","g"),pn=new RegExp("^"+ue+"*,"+ue+"*"),Os=new RegExp("^"+ue+"*([>+~]|"+ue+")"+ue+"*"),Th=new RegExp(ue+"|>"),Mh=new RegExp(xt),Sh=new RegExp("^"+Te+"$"),Fs={ID:new RegExp("^#("+Te+")"),CLASS:new RegExp("^\\.("+Te+")"),TAG:new RegExp("^("+Te+"|[*])"),ATTR:new RegExp("^"+Ge),PSEUDO:new RegExp("^"+xt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ue+"*(even|odd|(([+-]|)(\\d*)n|)"+ue+"*(?:([+-]|)"+ue+"*(\\d+)|))"+ue+"*\\)|)","i"),bool:new RegExp("^(?:"+ti+")$","i"),needsContext:new RegExp("^"+ue+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ue+"*((?:-\\d)?\\d*)"+ue+"*\\)|)(?=[^-]|$)","i")},Ah=/HTML$/i,Eh=/^(?:input|select|textarea|button)$/i,_h=/^h\d$/i,ts=/^[^{]+\{\s*\[native \w/,Ch=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,eo=/[+~]/,di=new RegExp("\\\\[\\da-fA-F]{1,6}"+ue+"?|\\\\([^\\r\\n\\f])","g"),fi=function(M,_){var P="0x"+M.slice(1)-65536;return _||(P<0?String.fromCharCode(P+65536):String.fromCharCode(P>>10|55296,1023&P|56320))},Ka=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Za=function(M,_){return _?M==="\0"?"ï¿½":M.slice(0,-1)+"\\"+M.charCodeAt(M.length-1).toString(16)+" ":"\\"+M},Ja=function(){D()},Ih=js(function(M){return M.disabled===!0&&M.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Re.apply(at=gt.call(he.childNodes),he.childNodes),at[he.childNodes.length].nodeType}catch{Re={apply:at.length?function(_,P){It.apply(_,gt.call(P))}:function(_,P){for(var H=_.length,O=0;_[H++]=P[O++];);_.length=H-1}}}function Ce(M,_,P,H){var O,U,Y,Z,Q,ce,ae,le=_&&_.ownerDocument,be=_?_.nodeType:9;if(P=P||[],typeof M!="string"||!M||be!==1&&be!==9&&be!==11)return P;if(!H&&(D(_),_=_||j,se)){if(be!==11&&(Q=Ch.exec(M)))if(O=Q[1]){if(be===9){if(!(Y=_.getElementById(O)))return P;if(Y.id===O)return P.push(Y),P}else if(le&&(Y=le.getElementById(O))&&pt(_,Y)&&Y.id===O)return P.push(Y),P}else{if(Q[2])return Re.apply(P,_.getElementsByTagName(M)),P;if((O=Q[3])&&p.getElementsByClassName&&_.getElementsByClassName)return Re.apply(P,_.getElementsByClassName(O)),P}if(p.qsa&&!mt[M+" "]&&(!ie||!ie.test(M))&&(be!==1||_.nodeName.toLowerCase()!=="object")){if(ae=M,le=_,be===1&&(Th.test(M)||Os.test(M))){for((le=eo.test(M)&&io(_.parentNode)||_)===_&&p.scope||((Z=_.getAttribute("id"))?Z=Z.replace(Ka,Za):_.setAttribute("id",Z=_e)),U=(ce=T(M)).length;U--;)ce[U]=(Z?"#"+Z:":scope")+" "+Bs(ce[U]);ae=ce.join(",")}try{return Re.apply(P,le.querySelectorAll(ae)),P}catch{mt(M,!0)}finally{Z===_e&&_.removeAttribute("id")}}}return I(M.replace(bt,"$1"),_,P,H)}function Ds(){var M=[];return function _(P,H){return M.push(P+" ")>g.cacheLength&&delete _[M.shift()],_[P+" "]=H}}function Gt(M){return M[_e]=!0,M}function Ut(M){var _=j.createElement("fieldset");try{return!!M(_)}catch{return!1}finally{_.parentNode&&_.parentNode.removeChild(_),_=null}}function to(M,_){for(var P=M.split("|"),H=P.length;H--;)g.attrHandle[P[H]]=_}function Qa(M,_){var P=_&&M,H=P&&M.nodeType===1&&_.nodeType===1&&M.sourceIndex-_.sourceIndex;if(H)return H;if(P){for(;P=P.nextSibling;)if(P===_)return-1}return M?1:-1}function kh(M){return function(_){return _.nodeName.toLowerCase()==="input"&&_.type===M}}function Ph(M){return function(_){var P=_.nodeName.toLowerCase();return(P==="input"||P==="button")&&_.type===M}}function el(M){return function(_){return"form"in _?_.parentNode&&_.disabled===!1?"label"in _?"label"in _.parentNode?_.parentNode.disabled===M:_.disabled===M:_.isDisabled===M||_.isDisabled!==!M&&Ih(_)===M:_.disabled===M:"label"in _&&_.disabled===M}}function Zi(M){return Gt(function(_){return _=+_,Gt(function(P,H){for(var O,U=M([],P.length,_),Y=U.length;Y--;)P[O=U[Y]]&&(P[O]=!(H[O]=P[O]))})})}function io(M){return M&&typeof M.getElementsByTagName<"u"&&M}for(h in p=Ce.support={},v=Ce.isXML=function(M){var _=M.namespaceURI,P=(M.ownerDocument||M).documentElement;return!Ah.test(_||P&&P.nodeName||"HTML")},D=Ce.setDocument=function(M){var _,P,H=M?M.ownerDocument||M:he;return H!=j&&H.nodeType===9&&H.documentElement&&(te=(j=H).documentElement,se=!v(j),he!=j&&(P=j.defaultView)&&P.top!==P&&(P.addEventListener?P.addEventListener("unload",Ja,!1):P.attachEvent&&P.attachEvent("onunload",Ja)),p.scope=Ut(function(O){return te.appendChild(O).appendChild(j.createElement("div")),typeof O.querySelectorAll<"u"&&!O.querySelectorAll(":scope fieldset div").length}),p.attributes=Ut(function(O){return O.className="i",!O.getAttribute("className")}),p.getElementsByTagName=Ut(function(O){return O.appendChild(j.createComment("")),!O.getElementsByTagName("*").length}),p.getElementsByClassName=ts.test(j.getElementsByClassName),p.getById=Ut(function(O){return te.appendChild(O).id=_e,!j.getElementsByName||!j.getElementsByName(_e).length}),p.getById?(g.filter.ID=function(O){var U=O.replace(di,fi);return function(Y){return Y.getAttribute("id")===U}},g.find.ID=function(O,U){if(typeof U.getElementById<"u"&&se){var Y=U.getElementById(O);return Y?[Y]:[]}}):(g.filter.ID=function(O){var U=O.replace(di,fi);return function(Y){var Z=typeof Y.getAttributeNode<"u"&&Y.getAttributeNode("id");return Z&&Z.value===U}},g.find.ID=function(O,U){if(typeof U.getElementById<"u"&&se){var Y,Z,Q,ce=U.getElementById(O);if(ce){if((Y=ce.getAttributeNode("id"))&&Y.value===O)return[ce];for(Q=U.getElementsByName(O),Z=0;ce=Q[Z++];)if((Y=ce.getAttributeNode("id"))&&Y.value===O)return[ce]}return[]}}),g.find.TAG=p.getElementsByTagName?function(O,U){return typeof U.getElementsByTagName<"u"?U.getElementsByTagName(O):p.qsa?U.querySelectorAll(O):void 0}:function(O,U){var Y,Z=[],Q=0,ce=U.getElementsByTagName(O);if(O==="*"){for(;Y=ce[Q++];)Y.nodeType===1&&Z.push(Y);return Z}return ce},g.find.CLASS=p.getElementsByClassName&&function(O,U){if(typeof U.getElementsByClassName<"u"&&se)return U.getElementsByClassName(O)},Pe=[],ie=[],(p.qsa=ts.test(j.querySelectorAll))&&(Ut(function(O){var U;te.appendChild(O).innerHTML="<a id='"+_e+"'></a><select id='"+_e+"-\r\\' msallowcapture=''><option selected=''></option></select>",O.querySelectorAll("[msallowcapture^='']").length&&ie.push("[*^$]="+ue+`*(?:''|"")`),O.querySelectorAll("[selected]").length||ie.push("\\["+ue+"*(?:value|"+ti+")"),O.querySelectorAll("[id~="+_e+"-]").length||ie.push("~="),(U=j.createElement("input")).setAttribute("name",""),O.appendChild(U),O.querySelectorAll("[name='']").length||ie.push("\\["+ue+"*name"+ue+"*="+ue+`*(?:''|"")`),O.querySelectorAll(":checked").length||ie.push(":checked"),O.querySelectorAll("a#"+_e+"+*").length||ie.push(".#.+[+~]"),O.querySelectorAll("\\\f"),ie.push("[\\r\\n\\f]")}),Ut(function(O){O.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var U=j.createElement("input");U.setAttribute("type","hidden"),O.appendChild(U).setAttribute("name","D"),O.querySelectorAll("[name=d]").length&&ie.push("name"+ue+"*[*^$|!~]?="),O.querySelectorAll(":enabled").length!==2&&ie.push(":enabled",":disabled"),te.appendChild(O).disabled=!0,O.querySelectorAll(":disabled").length!==2&&ie.push(":enabled",":disabled"),O.querySelectorAll("*,:x"),ie.push(",.*:")})),(p.matchesSelector=ts.test(Ve=te.matches||te.webkitMatchesSelector||te.mozMatchesSelector||te.oMatchesSelector||te.msMatchesSelector))&&Ut(function(O){p.disconnectedMatch=Ve.call(O,"*"),Ve.call(O,"[s!='']:x"),Pe.push("!=",xt)}),ie=ie.length&&new RegExp(ie.join("|")),Pe=Pe.length&&new RegExp(Pe.join("|")),_=ts.test(te.compareDocumentPosition),pt=_||ts.test(te.contains)?function(O,U){var Y=O.nodeType===9?O.documentElement:O,Z=U&&U.parentNode;return O===Z||!(!Z||Z.nodeType!==1||!(Y.contains?Y.contains(Z):O.compareDocumentPosition&&16&O.compareDocumentPosition(Z)))}:function(O,U){if(U){for(;U=U.parentNode;)if(U===O)return!0}return!1},Ki=_?function(O,U){if(O===U)return V=!0,0;var Y=!O.compareDocumentPosition-!U.compareDocumentPosition;return Y||(1&(Y=(O.ownerDocument||O)==(U.ownerDocument||U)?O.compareDocumentPosition(U):1)||!p.sortDetached&&U.compareDocumentPosition(O)===Y?O==j||O.ownerDocument==he&&pt(he,O)?-1:U==j||U.ownerDocument==he&&pt(he,U)?1:B?yt(B,O)-yt(B,U):0:4&Y?-1:1)}:function(O,U){if(O===U)return V=!0,0;var Y,Z=0,Q=O.parentNode,ce=U.parentNode,ae=[O],le=[U];if(!Q||!ce)return O==j?-1:U==j?1:Q?-1:ce?1:B?yt(B,O)-yt(B,U):0;if(Q===ce)return Qa(O,U);for(Y=O;Y=Y.parentNode;)ae.unshift(Y);for(Y=U;Y=Y.parentNode;)le.unshift(Y);for(;ae[Z]===le[Z];)Z++;return Z?Qa(ae[Z],le[Z]):ae[Z]==he?-1:le[Z]==he?1:0}),j},Ce.matches=function(M,_){return Ce(M,null,null,_)},Ce.matchesSelector=function(M,_){if(D(M),p.matchesSelector&&se&&!mt[_+" "]&&(!Pe||!Pe.test(_))&&(!ie||!ie.test(_)))try{var P=Ve.call(M,_);if(P||p.disconnectedMatch||M.document&&M.document.nodeType!==11)return P}catch{mt(_,!0)}return 0<Ce(_,j,null,[M]).length},Ce.contains=function(M,_){return(M.ownerDocument||M)!=j&&D(M),pt(M,_)},Ce.attr=function(M,_){(M.ownerDocument||M)!=j&&D(M);var P=g.attrHandle[_.toLowerCase()],H=P&&dn.call(g.attrHandle,_.toLowerCase())?P(M,_,!se):void 0;return H!==void 0?H:p.attributes||!se?M.getAttribute(_):(H=M.getAttributeNode(_))&&H.specified?H.value:null},Ce.escape=function(M){return(M+"").replace(Ka,Za)},Ce.error=function(M){throw new Error("Syntax error, unrecognized expression: "+M)},Ce.uniqueSort=function(M){var _,P=[],H=0,O=0;if(V=!p.detectDuplicates,B=!p.sortStable&&M.slice(0),M.sort(Ki),V){for(;_=M[O++];)_===M[O]&&(H=P.push(O));for(;H--;)M.splice(P[H],1)}return B=null,M},b=Ce.getText=function(M){var _,P="",H=0,O=M.nodeType;if(O){if(O===1||O===9||O===11){if(typeof M.textContent=="string")return M.textContent;for(M=M.firstChild;M;M=M.nextSibling)P+=b(M)}else if(O===3||O===4)return M.nodeValue}else for(;_=M[H++];)P+=b(_);return P},(g=Ce.selectors={cacheLength:50,createPseudo:Gt,match:Fs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(M){return M[1]=M[1].replace(di,fi),M[3]=(M[3]||M[4]||M[5]||"").replace(di,fi),M[2]==="~="&&(M[3]=" "+M[3]+" "),M.slice(0,4)},CHILD:function(M){return M[1]=M[1].toLowerCase(),M[1].slice(0,3)==="nth"?(M[3]||Ce.error(M[0]),M[4]=+(M[4]?M[5]+(M[6]||1):2*(M[3]==="even"||M[3]==="odd")),M[5]=+(M[7]+M[8]||M[3]==="odd")):M[3]&&Ce.error(M[0]),M},PSEUDO:function(M){var _,P=!M[6]&&M[2];return Fs.CHILD.test(M[0])?null:(M[3]?M[2]=M[4]||M[5]||"":P&&Mh.test(P)&&(_=T(P,!0))&&(_=P.indexOf(")",P.length-_)-P.length)&&(M[0]=M[0].slice(0,_),M[2]=P.slice(0,_)),M.slice(0,3))}},filter:{TAG:function(M){var _=M.replace(di,fi).toLowerCase();return M==="*"?function(){return!0}:function(P){return P.nodeName&&P.nodeName.toLowerCase()===_}},CLASS:function(M){var _=ze[M+" "];return _||(_=new RegExp("(^|"+ue+")"+M+"("+ue+"|$)"))&&ze(M,function(P){return _.test(typeof P.className=="string"&&P.className||typeof P.getAttribute<"u"&&P.getAttribute("class")||"")})},ATTR:function(M,_,P){return function(H){var O=Ce.attr(H,M);return O==null?_==="!=":!_||(O+="",_==="="?O===P:_==="!="?O!==P:_==="^="?P&&O.indexOf(P)===0:_==="*="?P&&-1<O.indexOf(P):_==="$="?P&&O.slice(-P.length)===P:_==="~="?-1<(" "+O.replace(Be," ")+" ").indexOf(P):_==="|="&&(O===P||O.slice(0,P.length+1)===P+"-"))}},CHILD:function(M,_,P,H,O){var U=M.slice(0,3)!=="nth",Y=M.slice(-4)!=="last",Z=_==="of-type";return H===1&&O===0?function(Q){return!!Q.parentNode}:function(Q,ce,ae){var le,be,Fe,de,Ue,We,nt=U!==Y?"nextSibling":"previousSibling",Ie=Q.parentNode,ii=Z&&Q.nodeName.toLowerCase(),Qe=!ae&&!Z,je=!1;if(Ie){if(U){for(;nt;){for(de=Q;de=de[nt];)if(Z?de.nodeName.toLowerCase()===ii:de.nodeType===1)return!1;We=nt=M==="only"&&!We&&"nextSibling"}return!0}if(We=[Y?Ie.firstChild:Ie.lastChild],Y&&Qe){for(je=(Ue=(le=(be=(Fe=(de=Ie)[_e]||(de[_e]={}))[de.uniqueID]||(Fe[de.uniqueID]={}))[M]||[])[0]===ot&&le[1])&&le[2],de=Ue&&Ie.childNodes[Ue];de=++Ue&&de&&de[nt]||(je=Ue=0)||We.pop();)if(de.nodeType===1&&++je&&de===Q){be[M]=[ot,Ue,je];break}}else if(Qe&&(je=Ue=(le=(be=(Fe=(de=Q)[_e]||(de[_e]={}))[de.uniqueID]||(Fe[de.uniqueID]={}))[M]||[])[0]===ot&&le[1]),je===!1)for(;(de=++Ue&&de&&de[nt]||(je=Ue=0)||We.pop())&&!((Z?de.nodeName.toLowerCase()===ii:de.nodeType===1)&&++je&&(Qe&&((be=(Fe=de[_e]||(de[_e]={}))[de.uniqueID]||(Fe[de.uniqueID]={}))[M]=[ot,je]),de===Q)););return(je-=O)===H||je%H==0&&0<=je/H}}},PSEUDO:function(M,_){var P,H=g.pseudos[M]||g.setFilters[M.toLowerCase()]||Ce.error("unsupported pseudo: "+M);return H[_e]?H(_):1<H.length?(P=[M,M,"",_],g.setFilters.hasOwnProperty(M.toLowerCase())?Gt(function(O,U){for(var Y,Z=H(O,_),Q=Z.length;Q--;)O[Y=yt(O,Z[Q])]=!(U[Y]=Z[Q])}):function(O){return H(O,0,P)}):H}},pseudos:{not:Gt(function(M){var _=[],P=[],H=C(M.replace(bt,"$1"));return H[_e]?Gt(function(O,U,Y,Z){for(var Q,ce=H(O,null,Z,[]),ae=O.length;ae--;)(Q=ce[ae])&&(O[ae]=!(U[ae]=Q))}):function(O,U,Y){return _[0]=O,H(_,null,Y,P),_[0]=null,!P.pop()}}),has:Gt(function(M){return function(_){return 0<Ce(M,_).length}}),contains:Gt(function(M){return M=M.replace(di,fi),function(_){return-1<(_.textContent||b(_)).indexOf(M)}}),lang:Gt(function(M){return Sh.test(M||"")||Ce.error("unsupported lang: "+M),M=M.replace(di,fi).toLowerCase(),function(_){var P;do if(P=se?_.lang:_.getAttribute("xml:lang")||_.getAttribute("lang"))return(P=P.toLowerCase())===M||P.indexOf(M+"-")===0;while((_=_.parentNode)&&_.nodeType===1);return!1}}),target:function(M){var _=r.location&&r.location.hash;return _&&_.slice(1)===M.id},root:function(M){return M===te},focus:function(M){return M===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(M.type||M.href||~M.tabIndex)},enabled:el(!1),disabled:el(!0),checked:function(M){var _=M.nodeName.toLowerCase();return _==="input"&&!!M.checked||_==="option"&&!!M.selected},selected:function(M){return M.parentNode&&M.parentNode.selectedIndex,M.selected===!0},empty:function(M){for(M=M.firstChild;M;M=M.nextSibling)if(M.nodeType<6)return!1;return!0},parent:function(M){return!g.pseudos.empty(M)},header:function(M){return _h.test(M.nodeName)},input:function(M){return Eh.test(M.nodeName)},button:function(M){var _=M.nodeName.toLowerCase();return _==="input"&&M.type==="button"||_==="button"},text:function(M){var _;return M.nodeName.toLowerCase()==="input"&&M.type==="text"&&((_=M.getAttribute("type"))==null||_.toLowerCase()==="text")},first:Zi(function(){return[0]}),last:Zi(function(M,_){return[_-1]}),eq:Zi(function(M,_,P){return[P<0?P+_:P]}),even:Zi(function(M,_){for(var P=0;P<_;P+=2)M.push(P);return M}),odd:Zi(function(M,_){for(var P=1;P<_;P+=2)M.push(P);return M}),lt:Zi(function(M,_,P){for(var H=P<0?P+_:_<P?_:P;0<=--H;)M.push(H);return M}),gt:Zi(function(M,_,P){for(var H=P<0?P+_:P;++H<_;)M.push(H);return M})}}).pseudos.nth=g.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})g.pseudos[h]=kh(h);for(h in{submit:!0,reset:!0})g.pseudos[h]=Ph(h);function tl(){}function Bs(M){for(var _=0,P=M.length,H="";_<P;_++)H+=M[_].value;return H}function js(M,_,P){var H=_.dir,O=_.next,U=O||H,Y=P&&U==="parentNode",Z=ve++;return _.first?function(Q,ce,ae){for(;Q=Q[H];)if(Q.nodeType===1||Y)return M(Q,ce,ae);return!1}:function(Q,ce,ae){var le,be,Fe,de=[ot,Z];if(ae){for(;Q=Q[H];)if((Q.nodeType===1||Y)&&M(Q,ce,ae))return!0}else for(;Q=Q[H];)if(Q.nodeType===1||Y)if(be=(Fe=Q[_e]||(Q[_e]={}))[Q.uniqueID]||(Fe[Q.uniqueID]={}),O&&O===Q.nodeName.toLowerCase())Q=Q[H]||Q;else{if((le=be[U])&&le[0]===ot&&le[1]===Z)return de[2]=le[2];if((be[U]=de)[2]=M(Q,ce,ae))return!0}return!1}}function no(M){return 1<M.length?function(_,P,H){for(var O=M.length;O--;)if(!M[O](_,P,H))return!1;return!0}:M[0]}function Hs(M,_,P,H,O){for(var U,Y=[],Z=0,Q=M.length,ce=_!=null;Z<Q;Z++)(U=M[Z])&&(P&&!P(U,H,O)||(Y.push(U),ce&&_.push(Z)));return Y}function so(M,_,P,H,O,U){return H&&!H[_e]&&(H=so(H)),O&&!O[_e]&&(O=so(O,U)),Gt(function(Y,Z,Q,ce){var ae,le,be,Fe=[],de=[],Ue=Z.length,We=Y||function(ii,Qe,je){for(var Wt=0,Vs=Qe.length;Wt<Vs;Wt++)Ce(ii,Qe[Wt],je);return je}(_||"*",Q.nodeType?[Q]:Q,[]),nt=!M||!Y&&_?We:Hs(We,Fe,M,Q,ce),Ie=P?O||(Y?M:Ue||H)?[]:Z:nt;if(P&&P(nt,Ie,Q,ce),H)for(ae=Hs(Ie,de),H(ae,[],Q,ce),le=ae.length;le--;)(be=ae[le])&&(Ie[de[le]]=!(nt[de[le]]=be));if(Y){if(O||M){if(O){for(ae=[],le=Ie.length;le--;)(be=Ie[le])&&ae.push(nt[le]=be);O(null,Ie=[],ae,ce)}for(le=Ie.length;le--;)(be=Ie[le])&&-1<(ae=O?yt(Y,be):Fe[le])&&(Y[ae]=!(Z[ae]=be))}}else Ie=Hs(Ie===Z?Ie.splice(Ue,Ie.length):Ie),O?O(null,Z,Ie,ce):Re.apply(Z,Ie)})}function ro(M){for(var _,P,H,O=M.length,U=g.relative[M[0].type],Y=U||g.relative[" "],Z=U?1:0,Q=js(function(le){return le===_},Y,!0),ce=js(function(le){return-1<yt(_,le)},Y,!0),ae=[function(le,be,Fe){var de=!U&&(Fe||be!==R)||((_=be).nodeType?Q(le,be,Fe):ce(le,be,Fe));return _=null,de}];Z<O;Z++)if(P=g.relative[M[Z].type])ae=[js(no(ae),P)];else{if((P=g.filter[M[Z].type].apply(null,M[Z].matches))[_e]){for(H=++Z;H<O&&!g.relative[M[H].type];H++);return so(1<Z&&no(ae),1<Z&&Bs(M.slice(0,Z-1).concat({value:M[Z-2].type===" "?"*":""})).replace(bt,"$1"),P,Z<H&&ro(M.slice(Z,H)),H<O&&ro(M=M.slice(H)),H<O&&Bs(M))}ae.push(P)}return no(ae)}return tl.prototype=g.filters=g.pseudos,g.setFilters=new tl,T=Ce.tokenize=function(M,_){var P,H,O,U,Y,Z,Q,ce=es[M+" "];if(ce)return _?0:ce.slice(0);for(Y=M,Z=[],Q=g.preFilter;Y;){for(U in P&&!(H=pn.exec(Y))||(H&&(Y=Y.slice(H[0].length)||Y),Z.push(O=[])),P=!1,(H=Os.exec(Y))&&(P=H.shift(),O.push({value:P,type:H[0].replace(bt," ")}),Y=Y.slice(P.length)),g.filter)!(H=Fs[U].exec(Y))||Q[U]&&!(H=Q[U](H))||(P=H.shift(),O.push({value:P,type:U,matches:H}),Y=Y.slice(P.length));if(!P)break}return _?Y.length:Y?Ce.error(M):es(M,Z).slice(0)},C=Ce.compile=function(M,_){var P,H,O,U,Y,Z,Q=[],ce=[],ae=Ns[M+" "];if(!ae){for(_||(_=T(M)),P=_.length;P--;)(ae=ro(_[P]))[_e]?Q.push(ae):ce.push(ae);(ae=Ns(M,(H=ce,U=0<(O=Q).length,Y=0<H.length,Z=function(le,be,Fe,de,Ue){var We,nt,Ie,ii=0,Qe="0",je=le&&[],Wt=[],Vs=R,il=le||Y&&g.find.TAG("*",Ue),nl=ot+=Vs==null?1:Math.random()||.1,zh=il.length;for(Ue&&(R=be==j||be||Ue);Qe!==zh&&(We=il[Qe])!=null;Qe++){if(Y&&We){for(nt=0,be||We.ownerDocument==j||(D(We),Fe=!se);Ie=H[nt++];)if(Ie(We,be||j,Fe)){de.push(We);break}Ue&&(ot=nl)}U&&((We=!Ie&&We)&&ii--,le&&je.push(We))}if(ii+=Qe,U&&Qe!==ii){for(nt=0;Ie=O[nt++];)Ie(je,Wt,be,Fe);if(le){if(0<ii)for(;Qe--;)je[Qe]||Wt[Qe]||(Wt[Qe]=fn.call(de));Wt=Hs(Wt)}Re.apply(de,Wt),Ue&&!le&&0<Wt.length&&1<ii+O.length&&Ce.uniqueSort(de)}return Ue&&(ot=nl,R=Vs),je},U?Gt(Z):Z))).selector=M}return ae},I=Ce.select=function(M,_,P,H){var O,U,Y,Z,Q,ce=typeof M=="function"&&M,ae=!H&&T(M=ce.selector||M);if(P=P||[],ae.length===1){if(2<(U=ae[0]=ae[0].slice(0)).length&&(Y=U[0]).type==="ID"&&_.nodeType===9&&se&&g.relative[U[1].type]){if(!(_=(g.find.ID(Y.matches[0].replace(di,fi),_)||[])[0]))return P;ce&&(_=_.parentNode),M=M.slice(U.shift().value.length)}for(O=Fs.needsContext.test(M)?0:U.length;O--&&(Y=U[O],!g.relative[Z=Y.type]);)if((Q=g.find[Z])&&(H=Q(Y.matches[0].replace(di,fi),eo.test(U[0].type)&&io(_.parentNode)||_))){if(U.splice(O,1),!(M=H.length&&Bs(U)))return Re.apply(P,H),P;break}}return(ce||C(M,ae))(H,_,!se,P,!_||eo.test(M)&&io(_.parentNode)||_),P},p.sortStable=_e.split("").sort(Ki).join("")===_e,p.detectDuplicates=!!V,D(),p.sortDetached=Ut(function(M){return 1&M.compareDocumentPosition(j.createElement("fieldset"))}),Ut(function(M){return M.innerHTML="<a href='#'></a>",M.firstChild.getAttribute("href")==="#"})||to("type|href|height|width",function(M,_,P){if(!P)return M.getAttribute(_,_.toLowerCase()==="type"?1:2)}),p.attributes&&Ut(function(M){return M.innerHTML="<input/>",M.firstChild.setAttribute("value",""),M.firstChild.getAttribute("value")===""})||to("value",function(M,_,P){if(!P&&M.nodeName.toLowerCase()==="input")return M.defaultValue}),Ut(function(M){return M.getAttribute("disabled")==null})||to(ti,function(M,_,P){var H;if(!P)return M[_]===!0?_.toLowerCase():(H=M.getAttributeNode(_))&&H.specified?H.value:null}),Ce}(o);d.find=G,d.expr=G.selectors,d.expr[":"]=d.expr.pseudos,d.uniqueSort=d.unique=G.uniqueSort,d.text=G.getText,d.isXMLDoc=G.isXML,d.contains=G.contains,d.escapeSelector=G.escape;var q=function(r,h,p){for(var g=[],b=p!==void 0;(r=r[h])&&r.nodeType!==9;)if(r.nodeType===1){if(b&&d(r).is(p))break;g.push(r)}return g},ne=function(r,h){for(var p=[];r;r=r.nextSibling)r.nodeType===1&&r!==h&&p.push(r);return p},X=d.expr.match.needsContext;function $(r,h){return r.nodeName&&r.nodeName.toLowerCase()===h.toLowerCase()}var J=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function K(r,h,p){return w(h)?d.grep(r,function(g,b){return!!h.call(g,b,g)!==p}):h.nodeType?d.grep(r,function(g){return g===h!==p}):typeof h!="string"?d.grep(r,function(g){return-1<l.call(h,g)!==p}):d.filter(h,r,p)}d.filter=function(r,h,p){var g=h[0];return p&&(r=":not("+r+")"),h.length===1&&g.nodeType===1?d.find.matchesSelector(g,r)?[g]:[]:d.find.matches(r,d.grep(h,function(b){return b.nodeType===1}))},d.fn.extend({find:function(r){var h,p,g=this.length,b=this;if(typeof r!="string")return this.pushStack(d(r).filter(function(){for(h=0;h<g;h++)if(d.contains(b[h],this))return!0}));for(p=this.pushStack([]),h=0;h<g;h++)d.find(r,b[h],p);return 1<g?d.uniqueSort(p):p},filter:function(r){return this.pushStack(K(this,r||[],!1))},not:function(r){return this.pushStack(K(this,r||[],!0))},is:function(r){return!!K(this,typeof r=="string"&&X.test(r)?d(r):r||[],!1).length}});var oe,ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(d.fn.init=function(r,h,p){var g,b;if(!r)return this;if(p=p||oe,typeof r=="string"){if(!(g=r[0]==="<"&&r[r.length-1]===">"&&3<=r.length?[null,r,null]:ge.exec(r))||!g[1]&&h)return!h||h.jquery?(h||p).find(r):this.constructor(h).find(r);if(g[1]){if(h=h instanceof d?h[0]:h,d.merge(this,d.parseHTML(g[1],h&&h.nodeType?h.ownerDocument||h:A,!0)),J.test(g[1])&&d.isPlainObject(h))for(g in h)w(this[g])?this[g](h[g]):this.attr(g,h[g]);return this}return(b=A.getElementById(g[2]))&&(this[0]=b,this.length=1),this}return r.nodeType?(this[0]=r,this.length=1,this):w(r)?p.ready!==void 0?p.ready(r):r(d):d.makeArray(r,this)}).prototype=d.fn,oe=d(A);var Me=/^(?:parents|prev(?:Until|All))/,it={children:!0,contents:!0,next:!0,prev:!0};function Ye(r,h){for(;(r=r[h])&&r.nodeType!==1;);return r}d.fn.extend({has:function(r){var h=d(r,this),p=h.length;return this.filter(function(){for(var g=0;g<p;g++)if(d.contains(this,h[g]))return!0})},closest:function(r,h){var p,g=0,b=this.length,v=[],T=typeof r!="string"&&d(r);if(!X.test(r)){for(;g<b;g++)for(p=this[g];p&&p!==h;p=p.parentNode)if(p.nodeType<11&&(T?-1<T.index(p):p.nodeType===1&&d.find.matchesSelector(p,r))){v.push(p);break}}return this.pushStack(1<v.length?d.uniqueSort(v):v)},index:function(r){return r?typeof r=="string"?l.call(d(r),this[0]):l.call(this,r.jquery?r[0]:r):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,h){return this.pushStack(d.uniqueSort(d.merge(this.get(),d(r,h))))},addBack:function(r){return this.add(r==null?this.prevObject:this.prevObject.filter(r))}}),d.each({parent:function(r){var h=r.parentNode;return h&&h.nodeType!==11?h:null},parents:function(r){return q(r,"parentNode")},parentsUntil:function(r,h,p){return q(r,"parentNode",p)},next:function(r){return Ye(r,"nextSibling")},prev:function(r){return Ye(r,"previousSibling")},nextAll:function(r){return q(r,"nextSibling")},prevAll:function(r){return q(r,"previousSibling")},nextUntil:function(r,h,p){return q(r,"nextSibling",p)},prevUntil:function(r,h,p){return q(r,"previousSibling",p)},siblings:function(r){return ne((r.parentNode||{}).firstChild,r)},children:function(r){return ne(r.firstChild)},contents:function(r){return r.contentDocument!=null&&i(r.contentDocument)?r.contentDocument:($(r,"template")&&(r=r.content||r),d.merge([],r.childNodes))}},function(r,h){d.fn[r]=function(p,g){var b=d.map(this,h,p);return r.slice(-5)!=="Until"&&(g=p),g&&typeof g=="string"&&(b=d.filter(g,b)),1<this.length&&(it[r]||d.uniqueSort(b),Me.test(r)&&b.reverse()),this.pushStack(b)}});var xe=/[^\x20\t\r\n\f]+/g;function Se(r){return r}function ke(r){throw r}function ht(r,h,p,g){var b;try{r&&w(b=r.promise)?b.call(r).done(h).fail(p):r&&w(b=r.then)?b.call(r,h,p):h.apply(void 0,[r].slice(g))}catch(v){p.apply(void 0,[v])}}d.Callbacks=function(r){var h,p;r=typeof r=="string"?(h=r,p={},d.each(h.match(xe)||[],function(D,j){p[j]=!0}),p):d.extend({},r);var g,b,v,T,C=[],I=[],R=-1,B=function(){for(T=T||r.once,v=g=!0;I.length;R=-1)for(b=I.shift();++R<C.length;)C[R].apply(b[0],b[1])===!1&&r.stopOnFalse&&(R=C.length,b=!1);r.memory||(b=!1),g=!1,T&&(C=b?[]:"")},V={add:function(){return C&&(b&&!g&&(R=C.length-1,I.push(b)),function D(j){d.each(j,function(te,se){w(se)?r.unique&&V.has(se)||C.push(se):se&&se.length&&L(se)!=="string"&&D(se)})}(arguments),b&&!g&&B()),this},remove:function(){return d.each(arguments,function(D,j){for(var te;-1<(te=d.inArray(j,C,te));)C.splice(te,1),te<=R&&R--}),this},has:function(D){return D?-1<d.inArray(D,C):0<C.length},empty:function(){return C&&(C=[]),this},disable:function(){return T=I=[],C=b="",this},disabled:function(){return!C},lock:function(){return T=I=[],b||g||(C=b=""),this},locked:function(){return!!T},fireWith:function(D,j){return T||(j=[D,(j=j||[]).slice?j.slice():j],I.push(j),g||B()),this},fire:function(){return V.fireWith(this,arguments),this},fired:function(){return!!v}};return V},d.extend({Deferred:function(r){var h=[["notify","progress",d.Callbacks("memory"),d.Callbacks("memory"),2],["resolve","done",d.Callbacks("once memory"),d.Callbacks("once memory"),0,"resolved"],["reject","fail",d.Callbacks("once memory"),d.Callbacks("once memory"),1,"rejected"]],p="pending",g={state:function(){return p},always:function(){return b.done(arguments).fail(arguments),this},catch:function(v){return g.then(null,v)},pipe:function(){var v=arguments;return d.Deferred(function(T){d.each(h,function(C,I){var R=w(v[I[4]])&&v[I[4]];b[I[1]](function(){var B=R&&R.apply(this,arguments);B&&w(B.promise)?B.promise().progress(T.notify).done(T.resolve).fail(T.reject):T[I[0]+"With"](this,R?[B]:arguments)})}),v=null}).promise()},then:function(v,T,C){var I=0;function R(B,V,D,j){return function(){var te=this,se=arguments,ie=function(){var Ve,pt;if(!(B<I)){if((Ve=D.apply(te,se))===V.promise())throw new TypeError("Thenable self-resolution");pt=Ve&&(typeof Ve=="object"||typeof Ve=="function")&&Ve.then,w(pt)?j?pt.call(Ve,R(I,V,Se,j),R(I,V,ke,j)):(I++,pt.call(Ve,R(I,V,Se,j),R(I,V,ke,j),R(I,V,Se,V.notifyWith))):(D!==Se&&(te=void 0,se=[Ve]),(j||V.resolveWith)(te,se))}},Pe=j?ie:function(){try{ie()}catch(Ve){d.Deferred.exceptionHook&&d.Deferred.exceptionHook(Ve,Pe.stackTrace),I<=B+1&&(D!==ke&&(te=void 0,se=[Ve]),V.rejectWith(te,se))}};B?Pe():(d.Deferred.getStackHook&&(Pe.stackTrace=d.Deferred.getStackHook()),o.setTimeout(Pe))}}return d.Deferred(function(B){h[0][3].add(R(0,B,w(C)?C:Se,B.notifyWith)),h[1][3].add(R(0,B,w(v)?v:Se)),h[2][3].add(R(0,B,w(T)?T:ke))}).promise()},promise:function(v){return v!=null?d.extend(v,g):g}},b={};return d.each(h,function(v,T){var C=T[2],I=T[5];g[T[1]]=C.add,I&&C.add(function(){p=I},h[3-v][2].disable,h[3-v][3].disable,h[0][2].lock,h[0][3].lock),C.add(T[3].fire),b[T[0]]=function(){return b[T[0]+"With"](this===b?void 0:this,arguments),this},b[T[0]+"With"]=C.fireWith}),g.promise(b),r&&r.call(b,b),b},when:function(r){var h=arguments.length,p=h,g=Array(p),b=n.call(arguments),v=d.Deferred(),T=function(C){return function(I){g[C]=this,b[C]=1<arguments.length?n.call(arguments):I,--h||v.resolveWith(g,b)}};if(h<=1&&(ht(r,v.done(T(p)).resolve,v.reject,!h),v.state()==="pending"||w(b[p]&&b[p].then)))return v.then();for(;p--;)ht(b[p],T(p),v.reject);return v.promise()}});var ci=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;d.Deferred.exceptionHook=function(r,h){o.console&&o.console.warn&&r&&ci.test(r.name)&&o.console.warn("jQuery.Deferred exception: "+r.message,r.stack,h)},d.readyException=function(r){o.setTimeout(function(){throw r})};var Vi=d.Deferred();function hi(){A.removeEventListener("DOMContentLoaded",hi),o.removeEventListener("load",hi),d.ready()}d.fn.ready=function(r){return Vi.then(r).catch(function(h){d.readyException(h)}),this},d.extend({isReady:!1,readyWait:1,ready:function(r){(r===!0?--d.readyWait:d.isReady)||(d.isReady=!0)!==r&&0<--d.readyWait||Vi.resolveWith(A,[d])}}),d.ready.then=Vi.then,A.readyState==="complete"||A.readyState!=="loading"&&!A.documentElement.doScroll?o.setTimeout(d.ready):(A.addEventListener("DOMContentLoaded",hi),o.addEventListener("load",hi));var Ot=function(r,h,p,g,b,v,T){var C=0,I=r.length,R=p==null;if(L(p)==="object")for(C in b=!0,p)Ot(r,h,C,p[C],!0,v,T);else if(g!==void 0&&(b=!0,w(g)||(T=!0),R&&(T?(h.call(r,g),h=null):(R=h,h=function(B,V,D){return R.call(d(B),D)})),h))for(;C<I;C++)h(r[C],p,T?g:g.call(r[C],C,h(r[C],p)));return b?r:R?h.call(r):I?h(r[0],p):v},Dr=/^-ms-/,Br=/-([a-z])/g;function Ss(r,h){return h.toUpperCase()}function ut(r){return r.replace(Dr,"ms-").replace(Br,Ss)}var Ai=function(r){return r.nodeType===1||r.nodeType===9||!+r.nodeType};function Gi(){this.expando=d.expando+Gi.uid++}Gi.uid=1,Gi.prototype={cache:function(r){var h=r[this.expando];return h||(h={},Ai(r)&&(r.nodeType?r[this.expando]=h:Object.defineProperty(r,this.expando,{value:h,configurable:!0}))),h},set:function(r,h,p){var g,b=this.cache(r);if(typeof h=="string")b[ut(h)]=p;else for(g in h)b[ut(g)]=h[g];return b},get:function(r,h){return h===void 0?this.cache(r):r[this.expando]&&r[this.expando][ut(h)]},access:function(r,h,p){return h===void 0||h&&typeof h=="string"&&p===void 0?this.get(r,h):(this.set(r,h,p),p!==void 0?p:h)},remove:function(r,h){var p,g=r[this.expando];if(g!==void 0){if(h!==void 0)for(p=(h=Array.isArray(h)?h.map(ut):(h=ut(h))in g?[h]:h.match(xe)||[]).length;p--;)delete g[h[p]];(h===void 0||d.isEmptyObject(g))&&(r.nodeType?r[this.expando]=void 0:delete r[this.expando])}},hasData:function(r){var h=r[this.expando];return h!==void 0&&!d.isEmptyObject(h)}};var re=new Gi,$e=new Gi,As=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Es=/[A-Z]/g;function _s(r,h,p){var g,b;if(p===void 0&&r.nodeType===1)if(g="data-"+h.replace(Es,"-$&").toLowerCase(),typeof(p=r.getAttribute(g))=="string"){try{p=(b=p)==="true"||b!=="false"&&(b==="null"?null:b===+b+""?+b:As.test(b)?JSON.parse(b):b)}catch{}$e.set(r,h,p)}else p=void 0;return p}d.extend({hasData:function(r){return $e.hasData(r)||re.hasData(r)},data:function(r,h,p){return $e.access(r,h,p)},removeData:function(r,h){$e.remove(r,h)},_data:function(r,h,p){return re.access(r,h,p)},_removeData:function(r,h){re.remove(r,h)}}),d.fn.extend({data:function(r,h){var p,g,b,v=this[0],T=v&&v.attributes;if(r===void 0){if(this.length&&(b=$e.get(v),v.nodeType===1&&!re.get(v,"hasDataAttrs"))){for(p=T.length;p--;)T[p]&&(g=T[p].name).indexOf("data-")===0&&(g=ut(g.slice(5)),_s(v,g,b[g]));re.set(v,"hasDataAttrs",!0)}return b}return typeof r=="object"?this.each(function(){$e.set(this,r)}):Ot(this,function(C){var I;if(v&&C===void 0)return(I=$e.get(v,r))!==void 0||(I=_s(v,r))!==void 0?I:void 0;this.each(function(){$e.set(this,r,C)})},null,h,1<arguments.length,null,!0)},removeData:function(r){return this.each(function(){$e.remove(this,r)})}}),d.extend({queue:function(r,h,p){var g;if(r)return h=(h||"fx")+"queue",g=re.get(r,h),p&&(!g||Array.isArray(p)?g=re.access(r,h,d.makeArray(p)):g.push(p)),g||[]},dequeue:function(r,h){h=h||"fx";var p=d.queue(r,h),g=p.length,b=p.shift(),v=d._queueHooks(r,h);b==="inprogress"&&(b=p.shift(),g--),b&&(h==="fx"&&p.unshift("inprogress"),delete v.stop,b.call(r,function(){d.dequeue(r,h)},v)),!g&&v&&v.empty.fire()},_queueHooks:function(r,h){var p=h+"queueHooks";return re.get(r,p)||re.access(r,p,{empty:d.Callbacks("once memory").add(function(){re.remove(r,[h+"queue",p])})})}}),d.fn.extend({queue:function(r,h){var p=2;return typeof r!="string"&&(h=r,r="fx",p--),arguments.length<p?d.queue(this[0],r):h===void 0?this:this.each(function(){var g=d.queue(this,r,h);d._queueHooks(this,r),r==="fx"&&g[0]!=="inprogress"&&d.dequeue(this,r)})},dequeue:function(r){return this.each(function(){d.dequeue(this,r)})},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,h){var p,g=1,b=d.Deferred(),v=this,T=this.length,C=function(){--g||b.resolveWith(v,[v])};for(typeof r!="string"&&(h=r,r=void 0),r=r||"fx";T--;)(p=re.get(v[T],r+"queueHooks"))&&p.empty&&(g++,p.empty.add(C));return C(),b.promise(h)}});var Cs=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ei=new RegExp("^(?:([+-])=|)("+Cs+")([a-z%]*)$","i"),dt=["Top","Right","Bottom","Left"],ft=A.documentElement,_i=function(r){return d.contains(r.ownerDocument,r)},jr={composed:!0};ft.getRootNode&&(_i=function(r){return d.contains(r.ownerDocument,r)||r.getRootNode(jr)===r.ownerDocument});var Ui=function(r,h){return(r=h||r).style.display==="none"||r.style.display===""&&_i(r)&&d.css(r,"display")==="none"};function Is(r,h,p,g){var b,v,T=20,C=g?function(){return g.cur()}:function(){return d.css(r,h,"")},I=C(),R=p&&p[3]||(d.cssNumber[h]?"":"px"),B=r.nodeType&&(d.cssNumber[h]||R!=="px"&&+I)&&Ei.exec(d.css(r,h));if(B&&B[3]!==R){for(I/=2,R=R||B[3],B=+I||1;T--;)d.style(r,h,B+R),(1-v)*(1-(v=C()/I||.5))<=0&&(T=0),B/=v;B*=2,d.style(r,h,B+R),p=p||[]}return p&&(B=+B||+I||0,b=p[1]?B+(p[1]+1)*p[2]:+p[2],g&&(g.unit=R,g.start=B,g.end=b)),b}var qn={};function ui(r,h){for(var p,g,b,v,T,C,I,R=[],B=0,V=r.length;B<V;B++)(g=r[B]).style&&(p=g.style.display,h?(p==="none"&&(R[B]=re.get(g,"display")||null,R[B]||(g.style.display="")),g.style.display===""&&Ui(g)&&(R[B]=(I=T=v=void 0,T=(b=g).ownerDocument,C=b.nodeName,(I=qn[C])||(v=T.body.appendChild(T.createElement(C)),I=d.css(v,"display"),v.parentNode.removeChild(v),I==="none"&&(I="block"),qn[C]=I)))):p!=="none"&&(R[B]="none",re.set(g,"display",p)));for(B=0;B<V;B++)R[B]!=null&&(r[B].style.display=R[B]);return r}d.fn.extend({show:function(){return ui(this,!0)},hide:function(){return ui(this)},toggle:function(r){return typeof r=="boolean"?r?this.show():this.hide():this.each(function(){Ui(this)?d(this).show():d(this).hide()})}});var Ft,Wi,qi=/^(?:checkbox|radio)$/i,Xn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ks=/^$|^module$|\/(?:java|ecma)script/i;Ft=A.createDocumentFragment().appendChild(A.createElement("div")),(Wi=A.createElement("input")).setAttribute("type","radio"),Wi.setAttribute("checked","checked"),Wi.setAttribute("name","t"),Ft.appendChild(Wi),x.checkClone=Ft.cloneNode(!0).cloneNode(!0).lastChild.checked,Ft.innerHTML="<textarea>x</textarea>",x.noCloneChecked=!!Ft.cloneNode(!0).lastChild.defaultValue,Ft.innerHTML="<option></option>",x.option=!!Ft.lastChild;var rt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ze(r,h){var p;return p=typeof r.getElementsByTagName<"u"?r.getElementsByTagName(h||"*"):typeof r.querySelectorAll<"u"?r.querySelectorAll(h||"*"):[],h===void 0||h&&$(r,h)?d.merge([r],p):p}function cn(r,h){for(var p=0,g=r.length;p<g;p++)re.set(r[p],"globalEval",!h||re.get(h[p],"globalEval"))}rt.tbody=rt.tfoot=rt.colgroup=rt.caption=rt.thead,rt.th=rt.td,x.option||(rt.optgroup=rt.option=[1,"<select multiple='multiple'>","</select>"]);var Ci=/<|&#?\w+;/;function Hr(r,h,p,g,b){for(var v,T,C,I,R,B,V=h.createDocumentFragment(),D=[],j=0,te=r.length;j<te;j++)if((v=r[j])||v===0)if(L(v)==="object")d.merge(D,v.nodeType?[v]:v);else if(Ci.test(v)){for(T=T||V.appendChild(h.createElement("div")),C=(Xn.exec(v)||["",""])[1].toLowerCase(),I=rt[C]||rt._default,T.innerHTML=I[1]+d.htmlPrefilter(v)+I[2],B=I[0];B--;)T=T.lastChild;d.merge(D,T.childNodes),(T=V.firstChild).textContent=""}else D.push(h.createTextNode(v));for(V.textContent="",j=0;v=D[j++];)if(g&&-1<d.inArray(v,g))b&&b.push(v);else if(R=_i(v),T=Ze(V.appendChild(v),"script"),R&&cn(T),p)for(B=0;v=T[B++];)ks.test(v.type||"")&&p.push(v);return V}var k=/^key/,ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fe=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Ne(){return!1}function ei(r,h){return r===function(){try{return A.activeElement}catch{}}()==(h==="focus")}function Je(r,h,p,g,b,v){var T,C;if(typeof h=="object"){for(C in typeof p!="string"&&(g=g||p,p=void 0),h)Je(r,C,p,g,h[C],v);return r}if(g==null&&b==null?(b=p,g=p=void 0):b==null&&(typeof p=="string"?(b=g,g=void 0):(b=g,g=p,p=void 0)),b===!1)b=Ne;else if(!b)return r;return v===1&&(T=b,(b=function(I){return d().off(I),T.apply(this,arguments)}).guid=T.guid||(T.guid=d.guid++)),r.each(function(){d.event.add(this,h,b,g,p)})}function Yn(r,h,p){p?(re.set(r,h,!1),d.event.add(r,h,{namespace:!1,handler:function(g){var b,v,T=re.get(this,h);if(1&g.isTrigger&&this[h]){if(T.length)(d.event.special[h]||{}).delegateType&&g.stopPropagation();else if(T=n.call(arguments),re.set(this,h,T),b=p(this,h),this[h](),T!==(v=re.get(this,h))||b?re.set(this,h,!1):v={},T!==v)return g.stopImmediatePropagation(),g.preventDefault(),v.value}else T.length&&(re.set(this,h,{value:d.event.trigger(d.extend(T[0],d.Event.prototype),T.slice(1),this)}),g.stopImmediatePropagation())}})):re.get(r,h)===void 0&&d.event.add(r,h,we)}d.event={global:{},add:function(r,h,p,g,b){var v,T,C,I,R,B,V,D,j,te,se,ie=re.get(r);if(Ai(r))for(p.handler&&(p=(v=p).handler,b=v.selector),b&&d.find.matchesSelector(ft,b),p.guid||(p.guid=d.guid++),(I=ie.events)||(I=ie.events=Object.create(null)),(T=ie.handle)||(T=ie.handle=function(Pe){return typeof d<"u"&&d.event.triggered!==Pe.type?d.event.dispatch.apply(r,arguments):void 0}),R=(h=(h||"").match(xe)||[""]).length;R--;)j=se=(C=fe.exec(h[R])||[])[1],te=(C[2]||"").split(".").sort(),j&&(V=d.event.special[j]||{},j=(b?V.delegateType:V.bindType)||j,V=d.event.special[j]||{},B=d.extend({type:j,origType:se,data:g,handler:p,guid:p.guid,selector:b,needsContext:b&&d.expr.match.needsContext.test(b),namespace:te.join(".")},v),(D=I[j])||((D=I[j]=[]).delegateCount=0,V.setup&&V.setup.call(r,g,te,T)!==!1||r.addEventListener&&r.addEventListener(j,T)),V.add&&(V.add.call(r,B),B.handler.guid||(B.handler.guid=p.guid)),b?D.splice(D.delegateCount++,0,B):D.push(B),d.event.global[j]=!0)},remove:function(r,h,p,g,b){var v,T,C,I,R,B,V,D,j,te,se,ie=re.hasData(r)&&re.get(r);if(ie&&(I=ie.events)){for(R=(h=(h||"").match(xe)||[""]).length;R--;)if(j=se=(C=fe.exec(h[R])||[])[1],te=(C[2]||"").split(".").sort(),j){for(V=d.event.special[j]||{},D=I[j=(g?V.delegateType:V.bindType)||j]||[],C=C[2]&&new RegExp("(^|\\.)"+te.join("\\.(?:.*\\.|)")+"(\\.|$)"),T=v=D.length;v--;)B=D[v],!b&&se!==B.origType||p&&p.guid!==B.guid||C&&!C.test(B.namespace)||g&&g!==B.selector&&(g!=="**"||!B.selector)||(D.splice(v,1),B.selector&&D.delegateCount--,V.remove&&V.remove.call(r,B));T&&!D.length&&(V.teardown&&V.teardown.call(r,te,ie.handle)!==!1||d.removeEvent(r,j,ie.handle),delete I[j])}else for(j in I)d.event.remove(r,j+h[R],p,g,!0);d.isEmptyObject(I)&&re.remove(r,"handle events")}},dispatch:function(r){var h,p,g,b,v,T,C=new Array(arguments.length),I=d.event.fix(r),R=(re.get(this,"events")||Object.create(null))[I.type]||[],B=d.event.special[I.type]||{};for(C[0]=I,h=1;h<arguments.length;h++)C[h]=arguments[h];if(I.delegateTarget=this,!B.preDispatch||B.preDispatch.call(this,I)!==!1){for(T=d.event.handlers.call(this,I,R),h=0;(b=T[h++])&&!I.isPropagationStopped();)for(I.currentTarget=b.elem,p=0;(v=b.handlers[p++])&&!I.isImmediatePropagationStopped();)I.rnamespace&&v.namespace!==!1&&!I.rnamespace.test(v.namespace)||(I.handleObj=v,I.data=v.data,(g=((d.event.special[v.origType]||{}).handle||v.handler).apply(b.elem,C))!==void 0&&(I.result=g)===!1&&(I.preventDefault(),I.stopPropagation()));return B.postDispatch&&B.postDispatch.call(this,I),I.result}},handlers:function(r,h){var p,g,b,v,T,C=[],I=h.delegateCount,R=r.target;if(I&&R.nodeType&&!(r.type==="click"&&1<=r.button)){for(;R!==this;R=R.parentNode||this)if(R.nodeType===1&&(r.type!=="click"||R.disabled!==!0)){for(v=[],T={},p=0;p<I;p++)T[b=(g=h[p]).selector+" "]===void 0&&(T[b]=g.needsContext?-1<d(b,this).index(R):d.find(b,this,null,[R]).length),T[b]&&v.push(g);v.length&&C.push({elem:R,handlers:v})}}return R=this,I<h.length&&C.push({elem:R,handlers:h.slice(I)}),C},addProp:function(r,h){Object.defineProperty(d.Event.prototype,r,{enumerable:!0,configurable:!0,get:w(h)?function(){if(this.originalEvent)return h(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[r]},set:function(p){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:p})}})},fix:function(r){return r[d.expando]?r:new d.Event(r)},special:{load:{noBubble:!0},click:{setup:function(r){var h=this||r;return qi.test(h.type)&&h.click&&$(h,"input")&&Yn(h,"click",we),!1},trigger:function(r){var h=this||r;return qi.test(h.type)&&h.click&&$(h,"input")&&Yn(h,"click"),!0},_default:function(r){var h=r.target;return qi.test(h.type)&&h.click&&$(h,"input")&&re.get(h,"click")||$(h,"a")}},beforeunload:{postDispatch:function(r){r.result!==void 0&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}}},d.removeEvent=function(r,h,p){r.removeEventListener&&r.removeEventListener(h,p)},d.Event=function(r,h){if(!(this instanceof d.Event))return new d.Event(r,h);r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||r.defaultPrevented===void 0&&r.returnValue===!1?we:Ne,this.target=r.target&&r.target.nodeType===3?r.target.parentNode:r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget):this.type=r,h&&d.extend(this,h),this.timeStamp=r&&r.timeStamp||Date.now(),this[d.expando]=!0},d.Event.prototype={constructor:d.Event,isDefaultPrevented:Ne,isPropagationStopped:Ne,isImmediatePropagationStopped:Ne,isSimulated:!1,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=we,r&&!this.isSimulated&&r.preventDefault()},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=we,r&&!this.isSimulated&&r.stopPropagation()},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=we,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()}},d.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(r){var h=r.button;return r.which==null&&k.test(r.type)?r.charCode!=null?r.charCode:r.keyCode:!r.which&&h!==void 0&&ee.test(r.type)?1&h?1:2&h?3:4&h?2:0:r.which}},d.event.addProp),d.each({focus:"focusin",blur:"focusout"},function(r,h){d.event.special[r]={setup:function(){return Yn(this,r,ei),!1},trigger:function(){return Yn(this,r),!0},delegateType:h}}),d.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(r,h){d.event.special[r]={delegateType:h,bindType:h,handle:function(p){var g,b=p.relatedTarget,v=p.handleObj;return b&&(b===this||d.contains(this,b))||(p.type=v.origType,g=v.handler.apply(this,arguments),p.type=h),g}}}),d.fn.extend({on:function(r,h,p,g){return Je(this,r,h,p,g)},one:function(r,h,p,g){return Je(this,r,h,p,g,1)},off:function(r,h,p){var g,b;if(r&&r.preventDefault&&r.handleObj)return g=r.handleObj,d(r.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if(typeof r=="object"){for(b in r)this.off(b,h,r[b]);return this}return h!==!1&&typeof h!="function"||(p=h,h=void 0),p===!1&&(p=Ne),this.each(function(){d.event.remove(this,r,p,h)})}});var Vr=/<script|<style|<link/i,Ps=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ct(r,h){return $(r,"table")&&$(h.nodeType!==11?h:h.firstChild,"tr")&&d(r).children("tbody")[0]||r}function Xi(r){return r.type=(r.getAttribute("type")!==null)+"/"+r.type,r}function Bt(r){return(r.type||"").slice(0,5)==="true/"?r.type=r.type.slice(5):r.removeAttribute("type"),r}function Ii(r,h){var p,g,b,v,T,C;if(h.nodeType===1){if(re.hasData(r)&&(C=re.get(r).events))for(b in re.remove(h,"handle events"),C)for(p=0,g=C[b].length;p<g;p++)d.event.add(h,b,C[b][p]);$e.hasData(r)&&(v=$e.access(r),T=d.extend({},v),$e.set(h,T))}}function jt(r,h,p,g){h=s(h);var b,v,T,C,I,R,B=0,V=r.length,D=V-1,j=h[0],te=w(j);if(te||1<V&&typeof j=="string"&&!x.checkClone&&Ps.test(j))return r.each(function(se){var ie=r.eq(se);te&&(h[0]=j.call(this,se,ie.html())),jt(ie,h,p,g)});if(V&&(v=(b=Hr(h,r[0].ownerDocument,!1,r,g)).firstChild,b.childNodes.length===1&&(b=v),v||g)){for(C=(T=d.map(Ze(b,"script"),Xi)).length;B<V;B++)I=b,B!==D&&(I=d.clone(I,!0,!0),C&&d.merge(T,Ze(I,"script"))),p.call(r[B],I,B);if(C)for(R=T[T.length-1].ownerDocument,d.map(T,Bt),B=0;B<C;B++)I=T[B],ks.test(I.type||"")&&!re.access(I,"globalEval")&&d.contains(R,I)&&(I.src&&(I.type||"").toLowerCase()!=="module"?d._evalUrl&&!I.noModule&&d._evalUrl(I.src,{nonce:I.nonce||I.getAttribute("nonce")},R):F(I.textContent.replace(Dt,""),I,R))}return r}function $n(r,h,p){for(var g,b=h?d.filter(h,r):r,v=0;(g=b[v])!=null;v++)p||g.nodeType!==1||d.cleanData(Ze(g)),g.parentNode&&(p&&_i(g)&&cn(Ze(g,"script")),g.parentNode.removeChild(g));return r}d.extend({htmlPrefilter:function(r){return r},clone:function(r,h,p){var g,b,v,T,C,I,R,B=r.cloneNode(!0),V=_i(r);if(!(x.noCloneChecked||r.nodeType!==1&&r.nodeType!==11||d.isXMLDoc(r)))for(T=Ze(B),g=0,b=(v=Ze(r)).length;g<b;g++)C=v[g],I=T[g],(R=I.nodeName.toLowerCase())==="input"&&qi.test(C.type)?I.checked=C.checked:R!=="input"&&R!=="textarea"||(I.defaultValue=C.defaultValue);if(h)if(p)for(v=v||Ze(r),T=T||Ze(B),g=0,b=v.length;g<b;g++)Ii(v[g],T[g]);else Ii(r,B);return 0<(T=Ze(B,"script")).length&&cn(T,!V&&Ze(r,"script")),B},cleanData:function(r){for(var h,p,g,b=d.event.special,v=0;(p=r[v])!==void 0;v++)if(Ai(p)){if(h=p[re.expando]){if(h.events)for(g in h.events)b[g]?d.event.remove(p,g):d.removeEvent(p,g,h.handle);p[re.expando]=void 0}p[$e.expando]&&(p[$e.expando]=void 0)}}}),d.fn.extend({detach:function(r){return $n(this,r,!0)},remove:function(r){return $n(this,r)},text:function(r){return Ot(this,function(h){return h===void 0?d.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=h)})},null,r,arguments.length)},append:function(){return jt(this,arguments,function(r){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||Ct(this,r).appendChild(r)})},prepend:function(){return jt(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var h=Ct(this,r);h.insertBefore(r,h.firstChild)}})},before:function(){return jt(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this)})},after:function(){return jt(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)})},empty:function(){for(var r,h=0;(r=this[h])!=null;h++)r.nodeType===1&&(d.cleanData(Ze(r,!1)),r.textContent="");return this},clone:function(r,h){return r=r!=null&&r,h=h??r,this.map(function(){return d.clone(this,r,h)})},html:function(r){return Ot(this,function(h){var p=this[0]||{},g=0,b=this.length;if(h===void 0&&p.nodeType===1)return p.innerHTML;if(typeof h=="string"&&!Vr.test(h)&&!rt[(Xn.exec(h)||["",""])[1].toLowerCase()]){h=d.htmlPrefilter(h);try{for(;g<b;g++)(p=this[g]||{}).nodeType===1&&(d.cleanData(Ze(p,!1)),p.innerHTML=h);p=0}catch{}}p&&this.empty().append(h)},null,r,arguments.length)},replaceWith:function(){var r=[];return jt(this,arguments,function(h){var p=this.parentNode;d.inArray(this,r)<0&&(d.cleanData(Ze(this)),p&&p.replaceChild(h,this))},r)}}),d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,h){d.fn[r]=function(p){for(var g,b=[],v=d(p),T=v.length-1,C=0;C<=T;C++)g=C===T?this:this.clone(!0),d(v[C])[h](g),a.apply(b,g.get());return this.pushStack(b)}});var Gr=new RegExp("^("+Cs+")(?!px)[a-z%]+$","i"),zs=function(r){var h=r.ownerDocument.defaultView;return h&&h.opener||(h=o),h.getComputedStyle(r)},_a=function(r,h,p){var g,b,v={};for(b in h)v[b]=r.style[b],r.style[b]=h[b];for(b in g=p.call(r),h)r.style[b]=v[b];return g},th=new RegExp(dt.join("|"),"i");function Kn(r,h,p){var g,b,v,T,C=r.style;return(p=p||zs(r))&&((T=p.getPropertyValue(h)||p[h])!==""||_i(r)||(T=d.style(r,h)),!x.pixelBoxStyles()&&Gr.test(T)&&th.test(h)&&(g=C.width,b=C.minWidth,v=C.maxWidth,C.minWidth=C.maxWidth=C.width=T,T=p.width,C.width=g,C.minWidth=b,C.maxWidth=v)),T!==void 0?T+"":T}function Ca(r,h){return{get:function(){if(!r())return(this.get=h).apply(this,arguments);delete this.get}}}(function(){function r(){if(R){I.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",R.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ft.appendChild(I).appendChild(R);var B=o.getComputedStyle(R);p=B.top!=="1%",C=h(B.marginLeft)===12,R.style.right="60%",v=h(B.right)===36,g=h(B.width)===36,R.style.position="absolute",b=h(R.offsetWidth/3)===12,ft.removeChild(I),R=null}}function h(B){return Math.round(parseFloat(B))}var p,g,b,v,T,C,I=A.createElement("div"),R=A.createElement("div");R.style&&(R.style.backgroundClip="content-box",R.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle=R.style.backgroundClip==="content-box",d.extend(x,{boxSizingReliable:function(){return r(),g},pixelBoxStyles:function(){return r(),v},pixelPosition:function(){return r(),p},reliableMarginLeft:function(){return r(),C},scrollboxSize:function(){return r(),b},reliableTrDimensions:function(){var B,V,D,j;return T==null&&(B=A.createElement("table"),V=A.createElement("tr"),D=A.createElement("div"),B.style.cssText="position:absolute;left:-11111px",V.style.height="1px",D.style.height="9px",ft.appendChild(B).appendChild(V).appendChild(D),j=o.getComputedStyle(V),T=3<parseInt(j.height),ft.removeChild(B)),T}}))})();var Ia=["Webkit","Moz","ms"],ka=A.createElement("div").style,Pa={};function Ur(r){var h=d.cssProps[r]||Pa[r];return h||(r in ka?r:Pa[r]=function(p){for(var g=p[0].toUpperCase()+p.slice(1),b=Ia.length;b--;)if((p=Ia[b]+g)in ka)return p}(r)||r)}var ih=/^(none|table(?!-c[ea]).+)/,za=/^--/,nh={position:"absolute",visibility:"hidden",display:"block"},Ra={letterSpacing:"0",fontWeight:"400"};function La(r,h,p){var g=Ei.exec(h);return g?Math.max(0,g[2]-(p||0))+(g[3]||"px"):h}function Wr(r,h,p,g,b,v){var T=h==="width"?1:0,C=0,I=0;if(p===(g?"border":"content"))return 0;for(;T<4;T+=2)p==="margin"&&(I+=d.css(r,p+dt[T],!0,b)),g?(p==="content"&&(I-=d.css(r,"padding"+dt[T],!0,b)),p!=="margin"&&(I-=d.css(r,"border"+dt[T]+"Width",!0,b))):(I+=d.css(r,"padding"+dt[T],!0,b),p!=="padding"?I+=d.css(r,"border"+dt[T]+"Width",!0,b):C+=d.css(r,"border"+dt[T]+"Width",!0,b));return!g&&0<=v&&(I+=Math.max(0,Math.ceil(r["offset"+h[0].toUpperCase()+h.slice(1)]-v-I-C-.5))||0),I}function Na(r,h,p){var g=zs(r),b=(!x.boxSizingReliable()||p)&&d.css(r,"boxSizing",!1,g)==="border-box",v=b,T=Kn(r,h,g),C="offset"+h[0].toUpperCase()+h.slice(1);if(Gr.test(T)){if(!p)return T;T="auto"}return(!x.boxSizingReliable()&&b||!x.reliableTrDimensions()&&$(r,"tr")||T==="auto"||!parseFloat(T)&&d.css(r,"display",!1,g)==="inline")&&r.getClientRects().length&&(b=d.css(r,"boxSizing",!1,g)==="border-box",(v=C in r)&&(T=r[C])),(T=parseFloat(T)||0)+Wr(r,h,p||(b?"border":"content"),v,g,T)+"px"}function Ht(r,h,p,g,b){return new Ht.prototype.init(r,h,p,g,b)}d.extend({cssHooks:{opacity:{get:function(r,h){if(h){var p=Kn(r,"opacity");return p===""?"1":p}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(r,h,p,g){if(r&&r.nodeType!==3&&r.nodeType!==8&&r.style){var b,v,T,C=ut(h),I=za.test(h),R=r.style;if(I||(h=Ur(C)),T=d.cssHooks[h]||d.cssHooks[C],p===void 0)return T&&"get"in T&&(b=T.get(r,!1,g))!==void 0?b:R[h];(v=typeof p)=="string"&&(b=Ei.exec(p))&&b[1]&&(p=Is(r,h,b),v="number"),p!=null&&p==p&&(v!=="number"||I||(p+=b&&b[3]||(d.cssNumber[C]?"":"px")),x.clearCloneStyle||p!==""||h.indexOf("background")!==0||(R[h]="inherit"),T&&"set"in T&&(p=T.set(r,p,g))===void 0||(I?R.setProperty(h,p):R[h]=p))}},css:function(r,h,p,g){var b,v,T,C=ut(h);return za.test(h)||(h=Ur(C)),(T=d.cssHooks[h]||d.cssHooks[C])&&"get"in T&&(b=T.get(r,!0,p)),b===void 0&&(b=Kn(r,h,g)),b==="normal"&&h in Ra&&(b=Ra[h]),p===""||p?(v=parseFloat(b),p===!0||isFinite(v)?v||0:b):b}}),d.each(["height","width"],function(r,h){d.cssHooks[h]={get:function(p,g,b){if(g)return!ih.test(d.css(p,"display"))||p.getClientRects().length&&p.getBoundingClientRect().width?Na(p,h,b):_a(p,nh,function(){return Na(p,h,b)})},set:function(p,g,b){var v,T=zs(p),C=!x.scrollboxSize()&&T.position==="absolute",I=(C||b)&&d.css(p,"boxSizing",!1,T)==="border-box",R=b?Wr(p,h,b,I,T):0;return I&&C&&(R-=Math.ceil(p["offset"+h[0].toUpperCase()+h.slice(1)]-parseFloat(T[h])-Wr(p,h,"border",!1,T)-.5)),R&&(v=Ei.exec(g))&&(v[3]||"px")!=="px"&&(p.style[h]=g,g=d.css(p,h)),La(0,g,R)}}}),d.cssHooks.marginLeft=Ca(x.reliableMarginLeft,function(r,h){if(h)return(parseFloat(Kn(r,"marginLeft"))||r.getBoundingClientRect().left-_a(r,{marginLeft:0},function(){return r.getBoundingClientRect().left}))+"px"}),d.each({margin:"",padding:"",border:"Width"},function(r,h){d.cssHooks[r+h]={expand:function(p){for(var g=0,b={},v=typeof p=="string"?p.split(" "):[p];g<4;g++)b[r+dt[g]+h]=v[g]||v[g-2]||v[0];return b}},r!=="margin"&&(d.cssHooks[r+h].set=La)}),d.fn.extend({css:function(r,h){return Ot(this,function(p,g,b){var v,T,C={},I=0;if(Array.isArray(g)){for(v=zs(p),T=g.length;I<T;I++)C[g[I]]=d.css(p,g[I],!1,v);return C}return b!==void 0?d.style(p,g,b):d.css(p,g)},r,h,1<arguments.length)}}),((d.Tween=Ht).prototype={constructor:Ht,init:function(r,h,p,g,b,v){this.elem=r,this.prop=p,this.easing=b||d.easing._default,this.options=h,this.start=this.now=this.cur(),this.end=g,this.unit=v||(d.cssNumber[p]?"":"px")},cur:function(){var r=Ht.propHooks[this.prop];return r&&r.get?r.get(this):Ht.propHooks._default.get(this)},run:function(r){var h,p=Ht.propHooks[this.prop];return this.options.duration?this.pos=h=d.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):this.pos=h=r,this.now=(this.end-this.start)*h+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),p&&p.set?p.set(this):Ht.propHooks._default.set(this),this}}).init.prototype=Ht.prototype,(Ht.propHooks={_default:{get:function(r){var h;return r.elem.nodeType!==1||r.elem[r.prop]!=null&&r.elem.style[r.prop]==null?r.elem[r.prop]:(h=d.css(r.elem,r.prop,""))&&h!=="auto"?h:0},set:function(r){d.fx.step[r.prop]?d.fx.step[r.prop](r):r.elem.nodeType!==1||!d.cssHooks[r.prop]&&r.elem.style[Ur(r.prop)]==null?r.elem[r.prop]=r.now:d.style(r.elem,r.prop,r.now+r.unit)}}}).scrollTop=Ht.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}},d.easing={linear:function(r){return r},swing:function(r){return .5-Math.cos(r*Math.PI)/2},_default:"swing"},d.fx=Ht.prototype.init,d.fx.step={};var hn,Rs,un,Oa,sh=/^(?:toggle|show|hide)$/,rh=/queueHooks$/;function qr(){Rs&&(A.hidden===!1&&o.requestAnimationFrame?o.requestAnimationFrame(qr):o.setTimeout(qr,d.fx.interval),d.fx.tick())}function Fa(){return o.setTimeout(function(){hn=void 0}),hn=Date.now()}function Ls(r,h){var p,g=0,b={height:r};for(h=h?1:0;g<4;g+=2-h)b["margin"+(p=dt[g])]=b["padding"+p]=r;return h&&(b.opacity=b.width=r),b}function Da(r,h,p){for(var g,b=(Vt.tweeners[h]||[]).concat(Vt.tweeners["*"]),v=0,T=b.length;v<T;v++)if(g=b[v].call(p,h,r))return g}function Vt(r,h,p){var g,b,v=0,T=Vt.prefilters.length,C=d.Deferred().always(function(){delete I.elem}),I=function(){if(b)return!1;for(var V=hn||Fa(),D=Math.max(0,R.startTime+R.duration-V),j=1-(D/R.duration||0),te=0,se=R.tweens.length;te<se;te++)R.tweens[te].run(j);return C.notifyWith(r,[R,j,D]),j<1&&se?D:(se||C.notifyWith(r,[R,1,0]),C.resolveWith(r,[R]),!1)},R=C.promise({elem:r,props:d.extend({},h),opts:d.extend(!0,{specialEasing:{},easing:d.easing._default},p),originalProperties:h,originalOptions:p,startTime:hn||Fa(),duration:p.duration,tweens:[],createTween:function(V,D){var j=d.Tween(r,R.opts,V,D,R.opts.specialEasing[V]||R.opts.easing);return R.tweens.push(j),j},stop:function(V){var D=0,j=V?R.tweens.length:0;if(b)return this;for(b=!0;D<j;D++)R.tweens[D].run(1);return V?(C.notifyWith(r,[R,1,0]),C.resolveWith(r,[R,V])):C.rejectWith(r,[R,V]),this}}),B=R.props;for(!function(V,D){var j,te,se,ie,Pe;for(j in V)if(se=D[te=ut(j)],ie=V[j],Array.isArray(ie)&&(se=ie[1],ie=V[j]=ie[0]),j!==te&&(V[te]=ie,delete V[j]),(Pe=d.cssHooks[te])&&"expand"in Pe)for(j in ie=Pe.expand(ie),delete V[te],ie)j in V||(V[j]=ie[j],D[j]=se);else D[te]=se}(B,R.opts.specialEasing);v<T;v++)if(g=Vt.prefilters[v].call(R,r,B,R.opts))return w(g.stop)&&(d._queueHooks(R.elem,R.opts.queue).stop=g.stop.bind(g)),g;return d.map(B,Da,R),w(R.opts.start)&&R.opts.start.call(r,R),R.progress(R.opts.progress).done(R.opts.done,R.opts.complete).fail(R.opts.fail).always(R.opts.always),d.fx.timer(d.extend(I,{elem:r,anim:R,queue:R.opts.queue})),R}d.Animation=d.extend(Vt,{tweeners:{"*":[function(r,h){var p=this.createTween(r,h);return Is(p.elem,r,Ei.exec(h),p),p}]},tweener:function(r,h){w(r)?(h=r,r=["*"]):r=r.match(xe);for(var p,g=0,b=r.length;g<b;g++)p=r[g],Vt.tweeners[p]=Vt.tweeners[p]||[],Vt.tweeners[p].unshift(h)},prefilters:[function(r,h,p){var g,b,v,T,C,I,R,B,V="width"in h||"height"in h,D=this,j={},te=r.style,se=r.nodeType&&Ui(r),ie=re.get(r,"fxshow");for(g in p.queue||((T=d._queueHooks(r,"fx")).unqueued==null&&(T.unqueued=0,C=T.empty.fire,T.empty.fire=function(){T.unqueued||C()}),T.unqueued++,D.always(function(){D.always(function(){T.unqueued--,d.queue(r,"fx").length||T.empty.fire()})})),h)if(b=h[g],sh.test(b)){if(delete h[g],v=v||b==="toggle",b===(se?"hide":"show")){if(b!=="show"||!ie||ie[g]===void 0)continue;se=!0}j[g]=ie&&ie[g]||d.style(r,g)}if((I=!d.isEmptyObject(h))||!d.isEmptyObject(j))for(g in V&&r.nodeType===1&&(p.overflow=[te.overflow,te.overflowX,te.overflowY],(R=ie&&ie.display)==null&&(R=re.get(r,"display")),(B=d.css(r,"display"))==="none"&&(R?B=R:(ui([r],!0),R=r.style.display||R,B=d.css(r,"display"),ui([r]))),(B==="inline"||B==="inline-block"&&R!=null)&&d.css(r,"float")==="none"&&(I||(D.done(function(){te.display=R}),R==null&&(B=te.display,R=B==="none"?"":B)),te.display="inline-block")),p.overflow&&(te.overflow="hidden",D.always(function(){te.overflow=p.overflow[0],te.overflowX=p.overflow[1],te.overflowY=p.overflow[2]})),I=!1,j)I||(ie?"hidden"in ie&&(se=ie.hidden):ie=re.access(r,"fxshow",{display:R}),v&&(ie.hidden=!se),se&&ui([r],!0),D.done(function(){for(g in se||ui([r]),re.remove(r,"fxshow"),j)d.style(r,g,j[g])})),I=Da(se?ie[g]:0,g,D),g in ie||(ie[g]=I.start,se&&(I.end=I.start,I.start=0))}],prefilter:function(r,h){h?Vt.prefilters.unshift(r):Vt.prefilters.push(r)}}),d.speed=function(r,h,p){var g=r&&typeof r=="object"?d.extend({},r):{complete:p||!p&&h||w(r)&&r,duration:r,easing:p&&h||h&&!w(h)&&h};return d.fx.off?g.duration=0:typeof g.duration!="number"&&(g.duration in d.fx.speeds?g.duration=d.fx.speeds[g.duration]:g.duration=d.fx.speeds._default),g.queue!=null&&g.queue!==!0||(g.queue="fx"),g.old=g.complete,g.complete=function(){w(g.old)&&g.old.call(this),g.queue&&d.dequeue(this,g.queue)},g},d.fn.extend({fadeTo:function(r,h,p,g){return this.filter(Ui).css("opacity",0).show().end().animate({opacity:h},r,p,g)},animate:function(r,h,p,g){var b=d.isEmptyObject(r),v=d.speed(h,p,g),T=function(){var C=Vt(this,d.extend({},r),v);(b||re.get(this,"finish"))&&C.stop(!0)};return T.finish=T,b||v.queue===!1?this.each(T):this.queue(v.queue,T)},stop:function(r,h,p){var g=function(b){var v=b.stop;delete b.stop,v(p)};return typeof r!="string"&&(p=h,h=r,r=void 0),h&&this.queue(r||"fx",[]),this.each(function(){var b=!0,v=r!=null&&r+"queueHooks",T=d.timers,C=re.get(this);if(v)C[v]&&C[v].stop&&g(C[v]);else for(v in C)C[v]&&C[v].stop&&rh.test(v)&&g(C[v]);for(v=T.length;v--;)T[v].elem!==this||r!=null&&T[v].queue!==r||(T[v].anim.stop(p),b=!1,T.splice(v,1));!b&&p||d.dequeue(this,r)})},finish:function(r){return r!==!1&&(r=r||"fx"),this.each(function(){var h,p=re.get(this),g=p[r+"queue"],b=p[r+"queueHooks"],v=d.timers,T=g?g.length:0;for(p.finish=!0,d.queue(this,r,[]),b&&b.stop&&b.stop.call(this,!0),h=v.length;h--;)v[h].elem===this&&v[h].queue===r&&(v[h].anim.stop(!0),v.splice(h,1));for(h=0;h<T;h++)g[h]&&g[h].finish&&g[h].finish.call(this);delete p.finish})}}),d.each(["toggle","show","hide"],function(r,h){var p=d.fn[h];d.fn[h]=function(g,b,v){return g==null||typeof g=="boolean"?p.apply(this,arguments):this.animate(Ls(h,!0),g,b,v)}}),d.each({slideDown:Ls("show"),slideUp:Ls("hide"),slideToggle:Ls("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(r,h){d.fn[r]=function(p,g,b){return this.animate(h,p,g,b)}}),d.timers=[],d.fx.tick=function(){var r,h=0,p=d.timers;for(hn=Date.now();h<p.length;h++)(r=p[h])()||p[h]!==r||p.splice(h--,1);p.length||d.fx.stop(),hn=void 0},d.fx.timer=function(r){d.timers.push(r),d.fx.start()},d.fx.interval=13,d.fx.start=function(){Rs||(Rs=!0,qr())},d.fx.stop=function(){Rs=null},d.fx.speeds={slow:600,fast:200,_default:400},d.fn.delay=function(r,h){return r=d.fx&&d.fx.speeds[r]||r,h=h||"fx",this.queue(h,function(p,g){var b=o.setTimeout(p,r);g.stop=function(){o.clearTimeout(b)}})},un=A.createElement("input"),Oa=A.createElement("select").appendChild(A.createElement("option")),un.type="checkbox",x.checkOn=un.value!=="",x.optSelected=Oa.selected,(un=A.createElement("input")).value="t",un.type="radio",x.radioValue=un.value==="t";var Ba,Zn=d.expr.attrHandle;d.fn.extend({attr:function(r,h){return Ot(this,d.attr,r,h,1<arguments.length)},removeAttr:function(r){return this.each(function(){d.removeAttr(this,r)})}}),d.extend({attr:function(r,h,p){var g,b,v=r.nodeType;if(v!==3&&v!==8&&v!==2)return typeof r.getAttribute>"u"?d.prop(r,h,p):(v===1&&d.isXMLDoc(r)||(b=d.attrHooks[h.toLowerCase()]||(d.expr.match.bool.test(h)?Ba:void 0)),p!==void 0?p===null?void d.removeAttr(r,h):b&&"set"in b&&(g=b.set(r,p,h))!==void 0?g:(r.setAttribute(h,p+""),p):b&&"get"in b&&(g=b.get(r,h))!==null?g:(g=d.find.attr(r,h))==null?void 0:g)},attrHooks:{type:{set:function(r,h){if(!x.radioValue&&h==="radio"&&$(r,"input")){var p=r.value;return r.setAttribute("type",h),p&&(r.value=p),h}}}},removeAttr:function(r,h){var p,g=0,b=h&&h.match(xe);if(b&&r.nodeType===1)for(;p=b[g++];)r.removeAttribute(p)}}),Ba={set:function(r,h,p){return h===!1?d.removeAttr(r,p):r.setAttribute(p,p),p}},d.each(d.expr.match.bool.source.match(/\w+/g),function(r,h){var p=Zn[h]||d.find.attr;Zn[h]=function(g,b,v){var T,C,I=b.toLowerCase();return v||(C=Zn[I],Zn[I]=T,T=p(g,b,v)!=null?I:null,Zn[I]=C),T}});var oh=/^(?:input|select|textarea|button)$/i,ah=/^(?:a|area)$/i;function Yi(r){return(r.match(xe)||[]).join(" ")}function $i(r){return r.getAttribute&&r.getAttribute("class")||""}function Xr(r){return Array.isArray(r)?r:typeof r=="string"&&r.match(xe)||[]}d.fn.extend({prop:function(r,h){return Ot(this,d.prop,r,h,1<arguments.length)},removeProp:function(r){return this.each(function(){delete this[d.propFix[r]||r]})}}),d.extend({prop:function(r,h,p){var g,b,v=r.nodeType;if(v!==3&&v!==8&&v!==2)return v===1&&d.isXMLDoc(r)||(h=d.propFix[h]||h,b=d.propHooks[h]),p!==void 0?b&&"set"in b&&(g=b.set(r,p,h))!==void 0?g:r[h]=p:b&&"get"in b&&(g=b.get(r,h))!==null?g:r[h]},propHooks:{tabIndex:{get:function(r){var h=d.find.attr(r,"tabindex");return h?parseInt(h,10):oh.test(r.nodeName)||ah.test(r.nodeName)&&r.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),x.optSelected||(d.propHooks.selected={get:function(r){var h=r.parentNode;return h&&h.parentNode&&h.parentNode.selectedIndex,null},set:function(r){var h=r.parentNode;h&&(h.selectedIndex,h.parentNode&&h.parentNode.selectedIndex)}}),d.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){d.propFix[this.toLowerCase()]=this}),d.fn.extend({addClass:function(r){var h,p,g,b,v,T,C,I=0;if(w(r))return this.each(function(R){d(this).addClass(r.call(this,R,$i(this)))});if((h=Xr(r)).length){for(;p=this[I++];)if(b=$i(p),g=p.nodeType===1&&" "+Yi(b)+" "){for(T=0;v=h[T++];)g.indexOf(" "+v+" ")<0&&(g+=v+" ");b!==(C=Yi(g))&&p.setAttribute("class",C)}}return this},removeClass:function(r){var h,p,g,b,v,T,C,I=0;if(w(r))return this.each(function(R){d(this).removeClass(r.call(this,R,$i(this)))});if(!arguments.length)return this.attr("class","");if((h=Xr(r)).length){for(;p=this[I++];)if(b=$i(p),g=p.nodeType===1&&" "+Yi(b)+" "){for(T=0;v=h[T++];)for(;-1<g.indexOf(" "+v+" ");)g=g.replace(" "+v+" "," ");b!==(C=Yi(g))&&p.setAttribute("class",C)}}return this},toggleClass:function(r,h){var p=typeof r,g=p==="string"||Array.isArray(r);return typeof h=="boolean"&&g?h?this.addClass(r):this.removeClass(r):w(r)?this.each(function(b){d(this).toggleClass(r.call(this,b,$i(this),h),h)}):this.each(function(){var b,v,T,C;if(g)for(v=0,T=d(this),C=Xr(r);b=C[v++];)T.hasClass(b)?T.removeClass(b):T.addClass(b);else r!==void 0&&p!=="boolean"||((b=$i(this))&&re.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||r===!1?"":re.get(this,"__className__")||""))})},hasClass:function(r){var h,p,g=0;for(h=" "+r+" ";p=this[g++];)if(p.nodeType===1&&-1<(" "+Yi($i(p))+" ").indexOf(h))return!0;return!1}});var lh=/\r/g;d.fn.extend({val:function(r){var h,p,g,b=this[0];return arguments.length?(g=w(r),this.each(function(v){var T;this.nodeType===1&&((T=g?r.call(this,v,d(this).val()):r)==null?T="":typeof T=="number"?T+="":Array.isArray(T)&&(T=d.map(T,function(C){return C==null?"":C+""})),(h=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()])&&"set"in h&&h.set(this,T,"value")!==void 0||(this.value=T))})):b?(h=d.valHooks[b.type]||d.valHooks[b.nodeName.toLowerCase()])&&"get"in h&&(p=h.get(b,"value"))!==void 0?p:typeof(p=b.value)=="string"?p.replace(lh,""):p??"":void 0}}),d.extend({valHooks:{option:{get:function(r){var h=d.find.attr(r,"value");return h??Yi(d.text(r))}},select:{get:function(r){var h,p,g,b=r.options,v=r.selectedIndex,T=r.type==="select-one",C=T?null:[],I=T?v+1:b.length;for(g=v<0?I:T?v:0;g<I;g++)if(((p=b[g]).selected||g===v)&&!p.disabled&&(!p.parentNode.disabled||!$(p.parentNode,"optgroup"))){if(h=d(p).val(),T)return h;C.push(h)}return C},set:function(r,h){for(var p,g,b=r.options,v=d.makeArray(h),T=b.length;T--;)((g=b[T]).selected=-1<d.inArray(d.valHooks.option.get(g),v))&&(p=!0);return p||(r.selectedIndex=-1),v}}}}),d.each(["radio","checkbox"],function(){d.valHooks[this]={set:function(r,h){if(Array.isArray(h))return r.checked=-1<d.inArray(d(r).val(),h)}},x.checkOn||(d.valHooks[this].get=function(r){return r.getAttribute("value")===null?"on":r.value})}),x.focusin="onfocusin"in o;var ja=/^(?:focusinfocus|focusoutblur)$/,Ha=function(r){r.stopPropagation()};d.extend(d.event,{trigger:function(r,h,p,g){var b,v,T,C,I,R,B,V,D=[p||A],j=f.call(r,"type")?r.type:r,te=f.call(r,"namespace")?r.namespace.split("."):[];if(v=V=T=p=p||A,p.nodeType!==3&&p.nodeType!==8&&!ja.test(j+d.event.triggered)&&(-1<j.indexOf(".")&&(j=(te=j.split(".")).shift(),te.sort()),I=j.indexOf(":")<0&&"on"+j,(r=r[d.expando]?r:new d.Event(j,typeof r=="object"&&r)).isTrigger=g?2:3,r.namespace=te.join("."),r.rnamespace=r.namespace?new RegExp("(^|\\.)"+te.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=p),h=h==null?[r]:d.makeArray(h,[r]),B=d.event.special[j]||{},g||!B.trigger||B.trigger.apply(p,h)!==!1)){if(!g&&!B.noBubble&&!S(p)){for(C=B.delegateType||j,ja.test(C+j)||(v=v.parentNode);v;v=v.parentNode)D.push(v),T=v;T===(p.ownerDocument||A)&&D.push(T.defaultView||T.parentWindow||o)}for(b=0;(v=D[b++])&&!r.isPropagationStopped();)V=v,r.type=1<b?C:B.bindType||j,(R=(re.get(v,"events")||Object.create(null))[r.type]&&re.get(v,"handle"))&&R.apply(v,h),(R=I&&v[I])&&R.apply&&Ai(v)&&(r.result=R.apply(v,h),r.result===!1&&r.preventDefault());return r.type=j,g||r.isDefaultPrevented()||B._default&&B._default.apply(D.pop(),h)!==!1||!Ai(p)||I&&w(p[j])&&!S(p)&&((T=p[I])&&(p[I]=null),d.event.triggered=j,r.isPropagationStopped()&&V.addEventListener(j,Ha),p[j](),r.isPropagationStopped()&&V.removeEventListener(j,Ha),d.event.triggered=void 0,T&&(p[I]=T)),r.result}},simulate:function(r,h,p){var g=d.extend(new d.Event,p,{type:r,isSimulated:!0});d.event.trigger(g,null,h)}}),d.fn.extend({trigger:function(r,h){return this.each(function(){d.event.trigger(r,h,this)})},triggerHandler:function(r,h){var p=this[0];if(p)return d.event.trigger(r,h,p,!0)}}),x.focusin||d.each({focus:"focusin",blur:"focusout"},function(r,h){var p=function(g){d.event.simulate(h,g.target,d.event.fix(g))};d.event.special[h]={setup:function(){var g=this.ownerDocument||this.document||this,b=re.access(g,h);b||g.addEventListener(r,p,!0),re.access(g,h,(b||0)+1)},teardown:function(){var g=this.ownerDocument||this.document||this,b=re.access(g,h)-1;b?re.access(g,h,b):(g.removeEventListener(r,p,!0),re.remove(g,h))}}});var Jn=o.location,Va={guid:Date.now()},Yr=/\?/;d.parseXML=function(r){var h;if(!r||typeof r!="string")return null;try{h=new o.DOMParser().parseFromString(r,"text/xml")}catch{h=void 0}return h&&!h.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+r),h};var ch=/\[\]$/,Ga=/\r?\n/g,hh=/^(?:submit|button|image|reset|file)$/i,uh=/^(?:input|select|textarea|keygen)/i;function $r(r,h,p,g){var b;if(Array.isArray(h))d.each(h,function(v,T){p||ch.test(r)?g(r,T):$r(r+"["+(typeof T=="object"&&T!=null?v:"")+"]",T,p,g)});else if(p||L(h)!=="object")g(r,h);else for(b in h)$r(r+"["+b+"]",h[b],p,g)}d.param=function(r,h){var p,g=[],b=function(v,T){var C=w(T)?T():T;g[g.length]=encodeURIComponent(v)+"="+encodeURIComponent(C??"")};if(r==null)return"";if(Array.isArray(r)||r.jquery&&!d.isPlainObject(r))d.each(r,function(){b(this.name,this.value)});else for(p in r)$r(p,r[p],h,b);return g.join("&")},d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=d.prop(this,"elements");return r?d.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&!d(this).is(":disabled")&&uh.test(this.nodeName)&&!hh.test(r)&&(this.checked||!qi.test(r))}).map(function(r,h){var p=d(this).val();return p==null?null:Array.isArray(p)?d.map(p,function(g){return{name:h.name,value:g.replace(Ga,`\r
`)}}):{name:h.name,value:p.replace(Ga,`\r
`)}}).get()}});var dh=/%20/g,fh=/#.*$/,ph=/([?&])_=[^&]*/,mh=/^(.*?):[ \t]*([^\r\n]*)$/gm,gh=/^(?:GET|HEAD)$/,yh=/^\/\//,Ua={},Kr={},Wa="*/".concat("*"),Zr=A.createElement("a");function qa(r){return function(h,p){typeof h!="string"&&(p=h,h="*");var g,b=0,v=h.toLowerCase().match(xe)||[];if(w(p))for(;g=v[b++];)g[0]==="+"?(g=g.slice(1)||"*",(r[g]=r[g]||[]).unshift(p)):(r[g]=r[g]||[]).push(p)}}function Xa(r,h,p,g){var b={},v=r===Kr;function T(C){var I;return b[C]=!0,d.each(r[C]||[],function(R,B){var V=B(h,p,g);return typeof V!="string"||v||b[V]?v?!(I=V):void 0:(h.dataTypes.unshift(V),T(V),!1)}),I}return T(h.dataTypes[0])||!b["*"]&&T("*")}function Jr(r,h){var p,g,b=d.ajaxSettings.flatOptions||{};for(p in h)h[p]!==void 0&&((b[p]?r:g||(g={}))[p]=h[p]);return g&&d.extend(!0,r,g),r}Zr.href=Jn.href,d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Jn.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Jn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wa,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,h){return h?Jr(Jr(r,d.ajaxSettings),h):Jr(d.ajaxSettings,r)},ajaxPrefilter:qa(Ua),ajaxTransport:qa(Kr),ajax:function(r,h){typeof r=="object"&&(h=r,r=void 0),h=h||{};var p,g,b,v,T,C,I,R,B,V,D=d.ajaxSetup({},h),j=D.context||D,te=D.context&&(j.nodeType||j.jquery)?d(j):d.event,se=d.Deferred(),ie=d.Callbacks("once memory"),Pe=D.statusCode||{},Ve={},pt={},_e="canceled",he={readyState:0,getResponseHeader:function(ve){var ze;if(I){if(!v)for(v={};ze=mh.exec(b);)v[ze[1].toLowerCase()+" "]=(v[ze[1].toLowerCase()+" "]||[]).concat(ze[2]);ze=v[ve.toLowerCase()+" "]}return ze==null?null:ze.join(", ")},getAllResponseHeaders:function(){return I?b:null},setRequestHeader:function(ve,ze){return I==null&&(ve=pt[ve.toLowerCase()]=pt[ve.toLowerCase()]||ve,Ve[ve]=ze),this},overrideMimeType:function(ve){return I==null&&(D.mimeType=ve),this},statusCode:function(ve){var ze;if(ve)if(I)he.always(ve[he.status]);else for(ze in ve)Pe[ze]=[Pe[ze],ve[ze]];return this},abort:function(ve){var ze=ve||_e;return p&&p.abort(ze),ot(0,ze),this}};if(se.promise(he),D.url=((r||D.url||Jn.href)+"").replace(yh,Jn.protocol+"//"),D.type=h.method||h.type||D.method||D.type,D.dataTypes=(D.dataType||"*").toLowerCase().match(xe)||[""],D.crossDomain==null){C=A.createElement("a");try{C.href=D.url,C.href=C.href,D.crossDomain=Zr.protocol+"//"+Zr.host!=C.protocol+"//"+C.host}catch{D.crossDomain=!0}}if(D.data&&D.processData&&typeof D.data!="string"&&(D.data=d.param(D.data,D.traditional)),Xa(Ua,D,h,he),I)return he;for(B in(R=d.event&&D.global)&&d.active++==0&&d.event.trigger("ajaxStart"),D.type=D.type.toUpperCase(),D.hasContent=!gh.test(D.type),g=D.url.replace(fh,""),D.hasContent?D.data&&D.processData&&(D.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(D.data=D.data.replace(dh,"+")):(V=D.url.slice(g.length),D.data&&(D.processData||typeof D.data=="string")&&(g+=(Yr.test(g)?"&":"?")+D.data,delete D.data),D.cache===!1&&(g=g.replace(ph,"$1"),V=(Yr.test(g)?"&":"?")+"_="+Va.guid+++V),D.url=g+V),D.ifModified&&(d.lastModified[g]&&he.setRequestHeader("If-Modified-Since",d.lastModified[g]),d.etag[g]&&he.setRequestHeader("If-None-Match",d.etag[g])),(D.data&&D.hasContent&&D.contentType!==!1||h.contentType)&&he.setRequestHeader("Content-Type",D.contentType),he.setRequestHeader("Accept",D.dataTypes[0]&&D.accepts[D.dataTypes[0]]?D.accepts[D.dataTypes[0]]+(D.dataTypes[0]!=="*"?", "+Wa+"; q=0.01":""):D.accepts["*"]),D.headers)he.setRequestHeader(B,D.headers[B]);if(D.beforeSend&&(D.beforeSend.call(j,he,D)===!1||I))return he.abort();if(_e="abort",ie.add(D.complete),he.done(D.success),he.fail(D.error),p=Xa(Kr,D,h,he)){if(he.readyState=1,R&&te.trigger("ajaxSend",[he,D]),I)return he;D.async&&0<D.timeout&&(T=o.setTimeout(function(){he.abort("timeout")},D.timeout));try{I=!1,p.send(Ve,ot)}catch(ve){if(I)throw ve;ot(-1,ve)}}else ot(-1,"No Transport");function ot(ve,ze,es,Ns){var mt,Ki,dn,at,fn,It=ze;I||(I=!0,T&&o.clearTimeout(T),p=void 0,b=Ns||"",he.readyState=0<ve?4:0,mt=200<=ve&&ve<300||ve===304,es&&(at=function(Re,gt,yt){for(var ti,ue,Te,Ge,xt=Re.contents,Be=Re.dataTypes;Be[0]==="*";)Be.shift(),ti===void 0&&(ti=Re.mimeType||gt.getResponseHeader("Content-Type"));if(ti){for(ue in xt)if(xt[ue]&&xt[ue].test(ti)){Be.unshift(ue);break}}if(Be[0]in yt)Te=Be[0];else{for(ue in yt){if(!Be[0]||Re.converters[ue+" "+Be[0]]){Te=ue;break}Ge||(Ge=ue)}Te=Te||Ge}if(Te)return Te!==Be[0]&&Be.unshift(Te),yt[Te]}(D,he,es)),!mt&&-1<d.inArray("script",D.dataTypes)&&(D.converters["text script"]=function(){}),at=function(Re,gt,yt,ti){var ue,Te,Ge,xt,Be,bt={},pn=Re.dataTypes.slice();if(pn[1])for(Ge in Re.converters)bt[Ge.toLowerCase()]=Re.converters[Ge];for(Te=pn.shift();Te;)if(Re.responseFields[Te]&&(yt[Re.responseFields[Te]]=gt),!Be&&ti&&Re.dataFilter&&(gt=Re.dataFilter(gt,Re.dataType)),Be=Te,Te=pn.shift()){if(Te==="*")Te=Be;else if(Be!=="*"&&Be!==Te){if(!(Ge=bt[Be+" "+Te]||bt["* "+Te])){for(ue in bt)if((xt=ue.split(" "))[1]===Te&&(Ge=bt[Be+" "+xt[0]]||bt["* "+xt[0]])){Ge===!0?Ge=bt[ue]:bt[ue]!==!0&&(Te=xt[0],pn.unshift(xt[1]));break}}if(Ge!==!0)if(Ge&&Re.throws)gt=Ge(gt);else try{gt=Ge(gt)}catch(Os){return{state:"parsererror",error:Ge?Os:"No conversion from "+Be+" to "+Te}}}}return{state:"success",data:gt}}(D,at,he,mt),mt?(D.ifModified&&((fn=he.getResponseHeader("Last-Modified"))&&(d.lastModified[g]=fn),(fn=he.getResponseHeader("etag"))&&(d.etag[g]=fn)),ve===204||D.type==="HEAD"?It="nocontent":ve===304?It="notmodified":(It=at.state,Ki=at.data,mt=!(dn=at.error))):(dn=It,!ve&&It||(It="error",ve<0&&(ve=0))),he.status=ve,he.statusText=(ze||It)+"",mt?se.resolveWith(j,[Ki,It,he]):se.rejectWith(j,[he,It,dn]),he.statusCode(Pe),Pe=void 0,R&&te.trigger(mt?"ajaxSuccess":"ajaxError",[he,D,mt?Ki:dn]),ie.fireWith(j,[he,It]),R&&(te.trigger("ajaxComplete",[he,D]),--d.active||d.event.trigger("ajaxStop")))}return he},getJSON:function(r,h,p){return d.get(r,h,p,"json")},getScript:function(r,h){return d.get(r,void 0,h,"script")}}),d.each(["get","post"],function(r,h){d[h]=function(p,g,b,v){return w(g)&&(v=v||b,b=g,g=void 0),d.ajax(d.extend({url:p,type:h,dataType:v,data:g,success:b},d.isPlainObject(p)&&p))}}),d.ajaxPrefilter(function(r){var h;for(h in r.headers)h.toLowerCase()==="content-type"&&(r.contentType=r.headers[h]||"")}),d._evalUrl=function(r,h,p){return d.ajax({url:r,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(g){d.globalEval(g,h,p)}})},d.fn.extend({wrapAll:function(r){var h;return this[0]&&(w(r)&&(r=r.call(this[0])),h=d(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&h.insertBefore(this[0]),h.map(function(){for(var p=this;p.firstElementChild;)p=p.firstElementChild;return p}).append(this)),this},wrapInner:function(r){return w(r)?this.each(function(h){d(this).wrapInner(r.call(this,h))}):this.each(function(){var h=d(this),p=h.contents();p.length?p.wrapAll(r):h.append(r)})},wrap:function(r){var h=w(r);return this.each(function(p){d(this).wrapAll(h?r.call(this,p):r)})},unwrap:function(r){return this.parent(r).not("body").each(function(){d(this).replaceWith(this.childNodes)}),this}}),d.expr.pseudos.hidden=function(r){return!d.expr.pseudos.visible(r)},d.expr.pseudos.visible=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)},d.ajaxSettings.xhr=function(){try{return new o.XMLHttpRequest}catch{}};var xh={0:200,1223:204},Qn=d.ajaxSettings.xhr();x.cors=!!Qn&&"withCredentials"in Qn,x.ajax=Qn=!!Qn,d.ajaxTransport(function(r){var h,p;if(x.cors||Qn&&!r.crossDomain)return{send:function(g,b){var v,T=r.xhr();if(T.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(v in r.xhrFields)T[v]=r.xhrFields[v];for(v in r.mimeType&&T.overrideMimeType&&T.overrideMimeType(r.mimeType),r.crossDomain||g["X-Requested-With"]||(g["X-Requested-With"]="XMLHttpRequest"),g)T.setRequestHeader(v,g[v]);h=function(C){return function(){h&&(h=p=T.onload=T.onerror=T.onabort=T.ontimeout=T.onreadystatechange=null,C==="abort"?T.abort():C==="error"?typeof T.status!="number"?b(0,"error"):b(T.status,T.statusText):b(xh[T.status]||T.status,T.statusText,(T.responseType||"text")!=="text"||typeof T.responseText!="string"?{binary:T.response}:{text:T.responseText},T.getAllResponseHeaders()))}},T.onload=h(),p=T.onerror=T.ontimeout=h("error"),T.onabort!==void 0?T.onabort=p:T.onreadystatechange=function(){T.readyState===4&&o.setTimeout(function(){h&&p()})},h=h("abort");try{T.send(r.hasContent&&r.data||null)}catch(C){if(h)throw C}},abort:function(){h&&h()}}}),d.ajaxPrefilter(function(r){r.crossDomain&&(r.contents.script=!1)}),d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(r){return d.globalEval(r),r}}}),d.ajaxPrefilter("script",function(r){r.cache===void 0&&(r.cache=!1),r.crossDomain&&(r.type="GET")}),d.ajaxTransport("script",function(r){var h,p;if(r.crossDomain||r.scriptAttrs)return{send:function(g,b){h=d("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",p=function(v){h.remove(),p=null,v&&b(v.type==="error"?404:200,v.type)}),A.head.appendChild(h[0])},abort:function(){p&&p()}}});var Ya,$a=[],Qr=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=$a.pop()||d.expando+"_"+Va.guid++;return this[r]=!0,r}}),d.ajaxPrefilter("json jsonp",function(r,h,p){var g,b,v,T=r.jsonp!==!1&&(Qr.test(r.url)?"url":typeof r.data=="string"&&(r.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Qr.test(r.data)&&"data");if(T||r.dataTypes[0]==="jsonp")return g=r.jsonpCallback=w(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,T?r[T]=r[T].replace(Qr,"$1"+g):r.jsonp!==!1&&(r.url+=(Yr.test(r.url)?"&":"?")+r.jsonp+"="+g),r.converters["script json"]=function(){return v||d.error(g+" was not called"),v[0]},r.dataTypes[0]="json",b=o[g],o[g]=function(){v=arguments},p.always(function(){b===void 0?d(o).removeProp(g):o[g]=b,r[g]&&(r.jsonpCallback=h.jsonpCallback,$a.push(g)),v&&w(b)&&b(v[0]),v=b=void 0}),"script"}),x.createHTMLDocument=((Ya=A.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",Ya.childNodes.length===2),d.parseHTML=function(r,h,p){return typeof r!="string"?[]:(typeof h=="boolean"&&(p=h,h=!1),h||(x.createHTMLDocument?((g=(h=A.implementation.createHTMLDocument("")).createElement("base")).href=A.location.href,h.head.appendChild(g)):h=A),v=!p&&[],(b=J.exec(r))?[h.createElement(b[1])]:(b=Hr([r],h,v),v&&v.length&&d(v).remove(),d.merge([],b.childNodes)));var g,b,v},d.fn.load=function(r,h,p){var g,b,v,T=this,C=r.indexOf(" ");return-1<C&&(g=Yi(r.slice(C)),r=r.slice(0,C)),w(h)?(p=h,h=void 0):h&&typeof h=="object"&&(b="POST"),0<T.length&&d.ajax({url:r,type:b||"GET",dataType:"html",data:h}).done(function(I){v=arguments,T.html(g?d("<div>").append(d.parseHTML(I)).find(g):I)}).always(p&&function(I,R){T.each(function(){p.apply(this,v||[I.responseText,R,I])})}),this},d.expr.pseudos.animated=function(r){return d.grep(d.timers,function(h){return r===h.elem}).length},d.offset={setOffset:function(r,h,p){var g,b,v,T,C,I,R=d.css(r,"position"),B=d(r),V={};R==="static"&&(r.style.position="relative"),C=B.offset(),v=d.css(r,"top"),I=d.css(r,"left"),(R==="absolute"||R==="fixed")&&-1<(v+I).indexOf("auto")?(T=(g=B.position()).top,b=g.left):(T=parseFloat(v)||0,b=parseFloat(I)||0),w(h)&&(h=h.call(r,p,d.extend({},C))),h.top!=null&&(V.top=h.top-C.top+T),h.left!=null&&(V.left=h.left-C.left+b),"using"in h?h.using.call(r,V):(typeof V.top=="number"&&(V.top+="px"),typeof V.left=="number"&&(V.left+="px"),B.css(V))}},d.fn.extend({offset:function(r){if(arguments.length)return r===void 0?this:this.each(function(b){d.offset.setOffset(this,r,b)});var h,p,g=this[0];return g?g.getClientRects().length?(h=g.getBoundingClientRect(),p=g.ownerDocument.defaultView,{top:h.top+p.pageYOffset,left:h.left+p.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var r,h,p,g=this[0],b={top:0,left:0};if(d.css(g,"position")==="fixed")h=g.getBoundingClientRect();else{for(h=this.offset(),p=g.ownerDocument,r=g.offsetParent||p.documentElement;r&&(r===p.body||r===p.documentElement)&&d.css(r,"position")==="static";)r=r.parentNode;r&&r!==g&&r.nodeType===1&&((b=d(r).offset()).top+=d.css(r,"borderTopWidth",!0),b.left+=d.css(r,"borderLeftWidth",!0))}return{top:h.top-b.top-d.css(g,"marginTop",!0),left:h.left-b.left-d.css(g,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var r=this.offsetParent;r&&d.css(r,"position")==="static";)r=r.offsetParent;return r||ft})}}),d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,h){var p=h==="pageYOffset";d.fn[r]=function(g){return Ot(this,function(b,v,T){var C;if(S(b)?C=b:b.nodeType===9&&(C=b.defaultView),T===void 0)return C?C[h]:b[v];C?C.scrollTo(p?C.pageXOffset:T,p?T:C.pageYOffset):b[v]=T},r,g,arguments.length)}}),d.each(["top","left"],function(r,h){d.cssHooks[h]=Ca(x.pixelPosition,function(p,g){if(g)return g=Kn(p,h),Gr.test(g)?d(p).position()[h]+"px":g})}),d.each({Height:"height",Width:"width"},function(r,h){d.each({padding:"inner"+r,content:h,"":"outer"+r},function(p,g){d.fn[g]=function(b,v){var T=arguments.length&&(p||typeof b!="boolean"),C=p||(b===!0||v===!0?"margin":"border");return Ot(this,function(I,R,B){var V;return S(I)?g.indexOf("outer")===0?I["inner"+r]:I.document.documentElement["client"+r]:I.nodeType===9?(V=I.documentElement,Math.max(I.body["scroll"+r],V["scroll"+r],I.body["offset"+r],V["offset"+r],V["client"+r])):B===void 0?d.css(I,R,C):d.style(I,R,B,C)},h,T?b:void 0,T)}})}),d.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(r,h){d.fn[h]=function(p){return this.on(h,p)}}),d.fn.extend({bind:function(r,h,p){return this.on(r,null,h,p)},unbind:function(r,h){return this.off(r,null,h)},delegate:function(r,h,p,g){return this.on(h,r,p,g)},undelegate:function(r,h,p){return arguments.length===1?this.off(r,"**"):this.off(h,r||"**",p)},hover:function(r,h){return this.mouseenter(r).mouseleave(h||r)}}),d.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(r,h){d.fn[h]=function(p,g){return 0<arguments.length?this.on(h,null,p,g):this.trigger(h)}});var bh=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;d.proxy=function(r,h){var p,g,b;if(typeof h=="string"&&(p=r[h],h=r,r=p),w(r))return g=n.call(arguments,2),(b=function(){return r.apply(h||this,g.concat(n.call(arguments)))}).guid=r.guid=r.guid||d.guid++,b},d.holdReady=function(r){r?d.readyWait++:d.ready(!0)},d.isArray=Array.isArray,d.parseJSON=JSON.parse,d.nodeName=$,d.isFunction=w,d.isWindow=S,d.camelCase=ut,d.type=L,d.now=Date.now,d.isNumeric=function(r){var h=d.type(r);return(h==="number"||h==="string")&&!isNaN(r-parseFloat(r))},d.trim=function(r){return r==null?"":(r+"").replace(bh,"")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return d});var wh=o.jQuery,vh=o.$;return d.noConflict=function(r){return o.$===d&&(o.$=vh),r&&o.jQuery===d&&(o.jQuery=wh),d},typeof e>"u"&&(o.jQuery=o.$=d),d});/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Tc="167",mn={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},gn={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Sr=0,Lh=1,ra=2,sl=1,rl=100,ol=204,al=205,ll=3,Nh=0,cl="attached",Oh="detached",Mc=300,an=1e3,ds=1001,Uo=1002,Ar=1003,Fh=1004,Dh=1005,oa=1006,Bh=1007,aa=1008,jh=1009,la=1015,Sc=1023,Hh=1028,ys=2300,xs=2301,oo=2302,hl=2400,ul=2401,dl=2402,Vh=2500,Gh=0,Ac=1,Wo=2,Uh=0,Ec="",St="srgb",Lt="srgb-linear",Wh="display-p3",_c="display-p3-linear",qo="linear",fl="srgb",pl="rec709",ml="p3",yn=7680,gl=519,Xo=35044,rn=2e3,Yo=2001;class vs{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const n=this._listeners[e];if(n!==void 0){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const n=i.slice(0);for(let s=0,a=n.length;s<a;s++)n[s].call(this,e);e.target=null}}}const et=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let yl=1234567;const Nn=Math.PI/180,bs=180/Math.PI;function Jt(){const o=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(et[o&255]+et[o>>8&255]+et[o>>16&255]+et[o>>24&255]+"-"+et[e&255]+et[e>>8&255]+"-"+et[e>>16&15|64]+et[e>>24&255]+"-"+et[t&63|128]+et[t>>8&255]+"-"+et[t>>16&255]+et[t>>24&255]+et[i&255]+et[i>>8&255]+et[i>>16&255]+et[i>>24&255]).toLowerCase()}function Ke(o,e,t){return Math.max(e,Math.min(t,o))}function ca(o,e){return(o%e+e)%e}function qh(o,e,t,i,n){return i+(o-e)*(n-i)/(t-e)}function Xh(o,e,t){return o!==e?(t-o)/(e-o):0}function fs(o,e,t){return(1-t)*o+t*e}function Yh(o,e,t,i){return fs(o,e,1-Math.exp(-t*i))}function $h(o,e=1){return e-Math.abs(ca(o,e*2)-e)}function Kh(o,e,t){return o<=e?0:o>=t?1:(o=(o-e)/(t-e),o*o*(3-2*o))}function Zh(o,e,t){return o<=e?0:o>=t?1:(o=(o-e)/(t-e),o*o*o*(o*(o*6-15)+10))}function Jh(o,e){return o+Math.floor(Math.random()*(e-o+1))}function Qh(o,e){return o+Math.random()*(e-o)}function eu(o){return o*(.5-Math.random())}function tu(o){o!==void 0&&(yl=o);let e=yl+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function iu(o){return o*Nn}function nu(o){return o*bs}function su(o){return(o&o-1)===0&&o!==0}function ru(o){return Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))}function ou(o){return Math.pow(2,Math.floor(Math.log(o)/Math.LN2))}function au(o,e,t,i,n){const s=Math.cos,a=Math.sin,l=s(t/2),c=a(t/2),u=s((e+i)/2),f=a((e+i)/2),m=s((e-i)/2),y=a((e-i)/2),x=s((i-e)/2),w=a((i-e)/2);switch(n){case"XYX":o.set(l*f,c*m,c*y,l*u);break;case"YZY":o.set(c*y,l*f,c*m,l*u);break;case"ZXZ":o.set(c*m,c*y,l*f,l*u);break;case"XZX":o.set(l*f,c*w,c*x,l*u);break;case"YXY":o.set(c*x,l*f,c*w,l*u);break;case"ZYZ":o.set(c*w,c*x,l*f,l*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}}function Kt(o,e){switch(e.constructor){case Float32Array:return o;case Uint32Array:return o/4294967295;case Uint16Array:return o/65535;case Uint8Array:return o/255;case Int32Array:return Math.max(o/2147483647,-1);case Int16Array:return Math.max(o/32767,-1);case Int8Array:return Math.max(o/127,-1);default:throw new Error("Invalid component type.")}}function Ae(o,e){switch(e.constructor){case Float32Array:return o;case Uint32Array:return Math.round(o*4294967295);case Uint16Array:return Math.round(o*65535);case Uint8Array:return Math.round(o*255);case Int32Array:return Math.round(o*2147483647);case Int16Array:return Math.round(o*32767);case Int8Array:return Math.round(o*127);default:throw new Error("Invalid component type.")}}const lt={DEG2RAD:Nn,RAD2DEG:bs,generateUUID:Jt,clamp:Ke,euclideanModulo:ca,mapLinear:qh,inverseLerp:Xh,lerp:fs,damp:Yh,pingpong:$h,smoothstep:Kh,smootherstep:Zh,randInt:Jh,randFloat:Qh,randFloatSpread:eu,seededRandom:tu,degToRad:iu,radToDeg:nu,isPowerOfTwo:su,ceilPowerOfTwo:ru,floorPowerOfTwo:ou,setQuaternionFromProperEuler:au,normalize:Ae,denormalize:Kt};class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ke(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),n=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*n+e.x,this.y=s*n+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Si{constructor(e,t,i,n,s,a,l,c,u){Si.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,n,s,a,l,c,u)}set(e,t,i,n,s,a,l,c,u){const f=this.elements;return f[0]=e,f[1]=n,f[2]=l,f[3]=t,f[4]=s,f[5]=c,f[6]=i,f[7]=a,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,n=t.elements,s=this.elements,a=i[0],l=i[3],c=i[6],u=i[1],f=i[4],m=i[7],y=i[2],x=i[5],w=i[8],S=n[0],A=n[3],E=n[6],F=n[1],L=n[4],N=n[7],d=n[2],W=n[5],G=n[8];return s[0]=a*S+l*F+c*d,s[3]=a*A+l*L+c*W,s[6]=a*E+l*N+c*G,s[1]=u*S+f*F+m*d,s[4]=u*A+f*L+m*W,s[7]=u*E+f*N+m*G,s[2]=y*S+x*F+w*d,s[5]=y*A+x*L+w*W,s[8]=y*E+x*N+w*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],n=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],f=e[8];return t*a*f-t*l*u-i*s*f+i*l*c+n*s*u-n*a*c}invert(){const e=this.elements,t=e[0],i=e[1],n=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],f=e[8],m=f*a-l*u,y=l*c-f*s,x=u*s-a*c,w=t*m+i*y+n*x;if(w===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/w;return e[0]=m*S,e[1]=(n*u-f*i)*S,e[2]=(l*i-n*a)*S,e[3]=y*S,e[4]=(f*t-n*c)*S,e[5]=(n*s-l*t)*S,e[6]=x*S,e[7]=(i*c-u*t)*S,e[8]=(a*t-i*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,n,s,a,l){const c=Math.cos(s),u=Math.sin(s);return this.set(i*c,i*u,-i*(c*a+u*l)+a+e,-n*u,n*c,-n*(-u*a+c*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(ao.makeScale(e,t)),this}rotate(e){return this.premultiply(ao.makeRotation(-e)),this}translate(e,t){return this.premultiply(ao.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let n=0;n<9;n++)if(t[n]!==i[n])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const ao=new Si;function lu(o){for(let e=o.length-1;e>=0;--e)if(o[e]>=65535)return!0;return!1}function $o(o){return document.createElementNS("http://www.w3.org/1999/xhtml",o)}const xl={};function Cc(o){o in xl||(xl[o]=!0,console.warn(o))}const bl=new Si().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),wl=new Si().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),is={[Lt]:{transfer:qo,primaries:pl,luminanceCoefficients:[.2126,.7152,.0722],toReference:o=>o,fromReference:o=>o},[St]:{transfer:fl,primaries:pl,luminanceCoefficients:[.2126,.7152,.0722],toReference:o=>o.convertSRGBToLinear(),fromReference:o=>o.convertLinearToSRGB()},[_c]:{transfer:qo,primaries:ml,luminanceCoefficients:[.2289,.6917,.0793],toReference:o=>o.applyMatrix3(wl),fromReference:o=>o.applyMatrix3(bl)},[Wh]:{transfer:fl,primaries:ml,luminanceCoefficients:[.2289,.6917,.0793],toReference:o=>o.convertSRGBToLinear().applyMatrix3(wl),fromReference:o=>o.applyMatrix3(bl).convertLinearToSRGB()}},cu=new Set([Lt,_c]),Tt={enabled:!0,_workingColorSpace:Lt,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(o){if(!cu.has(o))throw new Error(`Unsupported working color space, "${o}".`);this._workingColorSpace=o},convert:function(o,e,t){if(this.enabled===!1||e===t||!e||!t)return o;const i=is[e].toReference,n=is[t].fromReference;return n(i(o))},fromWorkingColorSpace:function(o,e){return this.convert(o,this._workingColorSpace,e)},toWorkingColorSpace:function(o,e){return this.convert(o,e,this._workingColorSpace)},getPrimaries:function(o){return is[o].primaries},getTransfer:function(o){return o===Ec?qo:is[o].transfer},getLuminanceCoefficients:function(o,e=this._workingColorSpace){return o.fromArray(is[e].luminanceCoefficients)}};function On(o){return o<.04045?o*.0773993808:Math.pow(o*.9478672986+.0521327014,2.4)}function lo(o){return o<.0031308?o*12.92:1.055*Math.pow(o,.41666)-.055}let xn;class hu{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{xn===void 0&&(xn=$o("canvas")),xn.width=e.width,xn.height=e.height;const i=xn.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=xn}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=$o("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const n=i.getImageData(0,0,e.width,e.height),s=n.data;for(let a=0;a<s.length;a++)s[a]=On(s[a]/255)*255;return i.putImageData(n,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(On(t[i]/255)*255):t[i]=On(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let uu=0;class du{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:uu++}),this.uuid=Jt(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},n=this.data;if(n!==null){let s;if(Array.isArray(n)){s=[];for(let a=0,l=n.length;a<l;a++)n[a].isDataTexture?s.push(co(n[a].image)):s.push(co(n[a]))}else s=co(n);i.url=s}return t||(e.images[this.uuid]=i),i}}function co(o){return typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&o instanceof ImageBitmap?hu.getDataURL(o):o.data?{data:Array.from(o.data),width:o.width,height:o.height,type:o.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let fu=0;class Rt extends vs{constructor(e=Rt.DEFAULT_IMAGE,t=Rt.DEFAULT_MAPPING,i=ds,n=ds,s=oa,a=aa,l=Sc,c=jh,u=Rt.DEFAULT_ANISOTROPY,f=Ec){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:fu++}),this.uuid=Jt(),this.name="",this.source=new du(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=n,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Si,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Mc)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case an:e.x=e.x-Math.floor(e.x);break;case ds:e.x=e.x<0?0:1;break;case Uo:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case an:e.y=e.y-Math.floor(e.y);break;case ds:e.y=e.y<0?0:1;break;case Uo:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Rt.DEFAULT_IMAGE=null;Rt.DEFAULT_MAPPING=Mc;Rt.DEFAULT_ANISOTROPY=1;class zt{constructor(e=0,t=0,i=0,n=1){zt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=n}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,n=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*n+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*n+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*n+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*n+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,n,s;const c=e.elements,u=c[0],f=c[4],m=c[8],y=c[1],x=c[5],w=c[9],S=c[2],A=c[6],E=c[10];if(Math.abs(f-y)<.01&&Math.abs(m-S)<.01&&Math.abs(w-A)<.01){if(Math.abs(f+y)<.1&&Math.abs(m+S)<.1&&Math.abs(w+A)<.1&&Math.abs(u+x+E-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const L=(u+1)/2,N=(x+1)/2,d=(E+1)/2,W=(f+y)/4,G=(m+S)/4,q=(w+A)/4;return L>N&&L>d?L<.01?(i=0,n=.707106781,s=.707106781):(i=Math.sqrt(L),n=W/i,s=G/i):N>d?N<.01?(i=.707106781,n=0,s=.707106781):(n=Math.sqrt(N),i=W/n,s=q/n):d<.01?(i=.707106781,n=.707106781,s=0):(s=Math.sqrt(d),i=G/s,n=q/s),this.set(i,n,s,t),this}let F=Math.sqrt((A-w)*(A-w)+(m-S)*(m-S)+(y-f)*(y-f));return Math.abs(F)<.001&&(F=1),this.x=(A-w)/F,this.y=(m-S)/F,this.z=(y-f)/F,this.w=Math.acos((u+x+E-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class si{constructor(e=0,t=0,i=0,n=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=n}static slerpFlat(e,t,i,n,s,a,l){let c=i[n+0],u=i[n+1],f=i[n+2],m=i[n+3];const y=s[a+0],x=s[a+1],w=s[a+2],S=s[a+3];if(l===0){e[t+0]=c,e[t+1]=u,e[t+2]=f,e[t+3]=m;return}if(l===1){e[t+0]=y,e[t+1]=x,e[t+2]=w,e[t+3]=S;return}if(m!==S||c!==y||u!==x||f!==w){let A=1-l;const E=c*y+u*x+f*w+m*S,F=E>=0?1:-1,L=1-E*E;if(L>Number.EPSILON){const d=Math.sqrt(L),W=Math.atan2(d,E*F);A=Math.sin(A*W)/d,l=Math.sin(l*W)/d}const N=l*F;if(c=c*A+y*N,u=u*A+x*N,f=f*A+w*N,m=m*A+S*N,A===1-l){const d=1/Math.sqrt(c*c+u*u+f*f+m*m);c*=d,u*=d,f*=d,m*=d}}e[t]=c,e[t+1]=u,e[t+2]=f,e[t+3]=m}static multiplyQuaternionsFlat(e,t,i,n,s,a){const l=i[n],c=i[n+1],u=i[n+2],f=i[n+3],m=s[a],y=s[a+1],x=s[a+2],w=s[a+3];return e[t]=l*w+f*m+c*x-u*y,e[t+1]=c*w+f*y+u*m-l*x,e[t+2]=u*w+f*x+l*y-c*m,e[t+3]=f*w-l*m-c*y-u*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,n=e._y,s=e._z,a=e._order,l=Math.cos,c=Math.sin,u=l(i/2),f=l(n/2),m=l(s/2),y=c(i/2),x=c(n/2),w=c(s/2);switch(a){case"XYZ":this._x=y*f*m+u*x*w,this._y=u*x*m-y*f*w,this._z=u*f*w+y*x*m,this._w=u*f*m-y*x*w;break;case"YXZ":this._x=y*f*m+u*x*w,this._y=u*x*m-y*f*w,this._z=u*f*w-y*x*m,this._w=u*f*m+y*x*w;break;case"ZXY":this._x=y*f*m-u*x*w,this._y=u*x*m+y*f*w,this._z=u*f*w+y*x*m,this._w=u*f*m-y*x*w;break;case"ZYX":this._x=y*f*m-u*x*w,this._y=u*x*m+y*f*w,this._z=u*f*w-y*x*m,this._w=u*f*m+y*x*w;break;case"YZX":this._x=y*f*m+u*x*w,this._y=u*x*m+y*f*w,this._z=u*f*w-y*x*m,this._w=u*f*m-y*x*w;break;case"XZY":this._x=y*f*m-u*x*w,this._y=u*x*m-y*f*w,this._z=u*f*w+y*x*m,this._w=u*f*m+y*x*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,n=Math.sin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],n=t[4],s=t[8],a=t[1],l=t[5],c=t[9],u=t[2],f=t[6],m=t[10],y=i+l+m;if(y>0){const x=.5/Math.sqrt(y+1);this._w=.25/x,this._x=(f-c)*x,this._y=(s-u)*x,this._z=(a-n)*x}else if(i>l&&i>m){const x=2*Math.sqrt(1+i-l-m);this._w=(f-c)/x,this._x=.25*x,this._y=(n+a)/x,this._z=(s+u)/x}else if(l>m){const x=2*Math.sqrt(1+l-i-m);this._w=(s-u)/x,this._x=(n+a)/x,this._y=.25*x,this._z=(c+f)/x}else{const x=2*Math.sqrt(1+m-i-l);this._w=(a-n)/x,this._x=(s+u)/x,this._y=(c+f)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ke(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const n=Math.min(1,t/i);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,n=e._y,s=e._z,a=e._w,l=t._x,c=t._y,u=t._z,f=t._w;return this._x=i*f+a*l+n*u-s*c,this._y=n*f+a*c+s*l-i*u,this._z=s*f+a*u+i*c-n*l,this._w=a*f-i*l-n*c-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,n=this._y,s=this._z,a=this._w;let l=a*e._w+i*e._x+n*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=a,this._x=i,this._y=n,this._z=s,this;const c=1-l*l;if(c<=Number.EPSILON){const x=1-t;return this._w=x*a+t*this._w,this._x=x*i+t*this._x,this._y=x*n+t*this._y,this._z=x*s+t*this._z,this.normalize(),this}const u=Math.sqrt(c),f=Math.atan2(u,l),m=Math.sin((1-t)*f)/u,y=Math.sin(t*f)/u;return this._w=a*m+this._w*y,this._x=i*m+this._x*y,this._y=n*m+this._y*y,this._z=s*m+this._z*y,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),n=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(n*Math.sin(e),n*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class z{constructor(e=0,t=0,i=0){z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(vl.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(vl.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,n=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*n,this.y=s[1]*t+s[4]*i+s[7]*n,this.z=s[2]*t+s[5]*i+s[8]*n,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,n=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*n+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*n+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*n+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*n+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,n=this.z,s=e.x,a=e.y,l=e.z,c=e.w,u=2*(a*n-l*i),f=2*(l*t-s*n),m=2*(s*i-a*t);return this.x=t+c*u+a*m-l*f,this.y=i+c*f+l*u-s*m,this.z=n+c*m+s*f-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,n=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*n,this.y=s[1]*t+s[5]*i+s[9]*n,this.z=s[2]*t+s[6]*i+s[10]*n,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,n=e.y,s=e.z,a=t.x,l=t.y,c=t.z;return this.x=n*c-s*l,this.y=s*a-i*c,this.z=i*l-n*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return ho.copy(this).projectOnVector(e),this.sub(ho)}reflect(e){return this.sub(ho.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ke(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const n=Math.sin(t)*e;return this.x=n*Math.sin(i),this.y=Math.cos(t)*e,this.z=n*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ho=new z,vl=new si;class ri{constructor(e=new z(1/0,1/0,1/0),t=new z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(qt.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(qt.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=qt.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,l=s.count;a<l;a++)e.isMesh===!0?e.getVertexPosition(a,qt):qt.fromBufferAttribute(s,a),qt.applyMatrix4(e.matrixWorld),this.expandByPoint(qt);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Gs.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Gs.copy(i.boundingBox)),Gs.applyMatrix4(e.matrixWorld),this.union(Gs)}const n=e.children;for(let s=0,a=n.length;s<a;s++)this.expandByObject(n[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,qt),qt.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ns),Us.subVectors(this.max,ns),bn.subVectors(e.a,ns),wn.subVectors(e.b,ns),vn.subVectors(e.c,ns),ki.subVectors(wn,bn),Pi.subVectors(vn,wn),Ji.subVectors(bn,vn);let t=[0,-ki.z,ki.y,0,-Pi.z,Pi.y,0,-Ji.z,Ji.y,ki.z,0,-ki.x,Pi.z,0,-Pi.x,Ji.z,0,-Ji.x,-ki.y,ki.x,0,-Pi.y,Pi.x,0,-Ji.y,Ji.x,0];return!uo(t,bn,wn,vn,Us)||(t=[1,0,0,0,1,0,0,0,1],!uo(t,bn,wn,vn,Us))?!1:(Ws.crossVectors(ki,Pi),t=[Ws.x,Ws.y,Ws.z],uo(t,bn,wn,vn,Us))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,qt).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(qt).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(pi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),pi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),pi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),pi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),pi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),pi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),pi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),pi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(pi),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const pi=[new z,new z,new z,new z,new z,new z,new z,new z],qt=new z,Gs=new ri,bn=new z,wn=new z,vn=new z,ki=new z,Pi=new z,Ji=new z,ns=new z,Us=new z,Ws=new z,Qi=new z;function uo(o,e,t,i,n){for(let s=0,a=o.length-3;s<=a;s+=3){Qi.fromArray(o,s);const l=n.x*Math.abs(Qi.x)+n.y*Math.abs(Qi.y)+n.z*Math.abs(Qi.z),c=e.dot(Qi),u=t.dot(Qi),f=i.dot(Qi);if(Math.max(-Math.max(c,u,f),Math.min(c,u,f))>l)return!1}return!0}const pu=new ri,ss=new z,fo=new z;class oi{constructor(e=new z,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):pu.setFromPoints(e).getCenter(i);let n=0;for(let s=0,a=e.length;s<a;s++)n=Math.max(n,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ss.subVectors(e,this.center);const t=ss.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),n=(i-this.radius)*.5;this.center.addScaledVector(ss,n/i),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(fo.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ss.copy(e.center).add(fo)),this.expandByPoint(ss.copy(e.center).sub(fo))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const mi=new z,po=new z,qs=new z,zi=new z,mo=new z,Xs=new z,go=new z;class Hn{constructor(e=new z,t=new z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,mi)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=mi.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(mi.copy(this.origin).addScaledVector(this.direction,t),mi.distanceToSquared(e))}distanceSqToSegment(e,t,i,n){po.copy(e).add(t).multiplyScalar(.5),qs.copy(t).sub(e).normalize(),zi.copy(this.origin).sub(po);const s=e.distanceTo(t)*.5,a=-this.direction.dot(qs),l=zi.dot(this.direction),c=-zi.dot(qs),u=zi.lengthSq(),f=Math.abs(1-a*a);let m,y,x,w;if(f>0)if(m=a*c-l,y=a*l-c,w=s*f,m>=0)if(y>=-w)if(y<=w){const S=1/f;m*=S,y*=S,x=m*(m+a*y+2*l)+y*(a*m+y+2*c)+u}else y=s,m=Math.max(0,-(a*y+l)),x=-m*m+y*(y+2*c)+u;else y=-s,m=Math.max(0,-(a*y+l)),x=-m*m+y*(y+2*c)+u;else y<=-w?(m=Math.max(0,-(-a*s+l)),y=m>0?-s:Math.min(Math.max(-s,-c),s),x=-m*m+y*(y+2*c)+u):y<=w?(m=0,y=Math.min(Math.max(-s,-c),s),x=y*(y+2*c)+u):(m=Math.max(0,-(a*s+l)),y=m>0?s:Math.min(Math.max(-s,-c),s),x=-m*m+y*(y+2*c)+u);else y=a>0?-s:s,m=Math.max(0,-(a*y+l)),x=-m*m+y*(y+2*c)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,m),n&&n.copy(po).addScaledVector(qs,y),x}intersectSphere(e,t){mi.subVectors(e.center,this.origin);const i=mi.dot(this.direction),n=mi.dot(mi)-i*i,s=e.radius*e.radius;if(n>s)return null;const a=Math.sqrt(s-n),l=i-a,c=i+a;return c<0?null:l<0?this.at(c,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,n,s,a,l,c;const u=1/this.direction.x,f=1/this.direction.y,m=1/this.direction.z,y=this.origin;return u>=0?(i=(e.min.x-y.x)*u,n=(e.max.x-y.x)*u):(i=(e.max.x-y.x)*u,n=(e.min.x-y.x)*u),f>=0?(s=(e.min.y-y.y)*f,a=(e.max.y-y.y)*f):(s=(e.max.y-y.y)*f,a=(e.min.y-y.y)*f),i>a||s>n||((s>i||isNaN(i))&&(i=s),(a<n||isNaN(n))&&(n=a),m>=0?(l=(e.min.z-y.z)*m,c=(e.max.z-y.z)*m):(l=(e.max.z-y.z)*m,c=(e.min.z-y.z)*m),i>c||l>n)||((l>i||i!==i)&&(i=l),(c<n||n!==n)&&(n=c),n<0)?null:this.at(i>=0?i:n,t)}intersectsBox(e){return this.intersectBox(e,mi)!==null}intersectTriangle(e,t,i,n,s){mo.subVectors(t,e),Xs.subVectors(i,e),go.crossVectors(mo,Xs);let a=this.direction.dot(go),l;if(a>0){if(n)return null;l=1}else if(a<0)l=-1,a=-a;else return null;zi.subVectors(this.origin,e);const c=l*this.direction.dot(Xs.crossVectors(zi,Xs));if(c<0)return null;const u=l*this.direction.dot(mo.cross(zi));if(u<0||c+u>a)return null;const f=-l*zi.dot(go);return f<0?null:this.at(f/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ye{constructor(e,t,i,n,s,a,l,c,u,f,m,y,x,w,S,A){ye.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,n,s,a,l,c,u,f,m,y,x,w,S,A)}set(e,t,i,n,s,a,l,c,u,f,m,y,x,w,S,A){const E=this.elements;return E[0]=e,E[4]=t,E[8]=i,E[12]=n,E[1]=s,E[5]=a,E[9]=l,E[13]=c,E[2]=u,E[6]=f,E[10]=m,E[14]=y,E[3]=x,E[7]=w,E[11]=S,E[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ye().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,n=1/Tn.setFromMatrixColumn(e,0).length(),s=1/Tn.setFromMatrixColumn(e,1).length(),a=1/Tn.setFromMatrixColumn(e,2).length();return t[0]=i[0]*n,t[1]=i[1]*n,t[2]=i[2]*n,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,n=e.y,s=e.z,a=Math.cos(i),l=Math.sin(i),c=Math.cos(n),u=Math.sin(n),f=Math.cos(s),m=Math.sin(s);if(e.order==="XYZ"){const y=a*f,x=a*m,w=l*f,S=l*m;t[0]=c*f,t[4]=-c*m,t[8]=u,t[1]=x+w*u,t[5]=y-S*u,t[9]=-l*c,t[2]=S-y*u,t[6]=w+x*u,t[10]=a*c}else if(e.order==="YXZ"){const y=c*f,x=c*m,w=u*f,S=u*m;t[0]=y+S*l,t[4]=w*l-x,t[8]=a*u,t[1]=a*m,t[5]=a*f,t[9]=-l,t[2]=x*l-w,t[6]=S+y*l,t[10]=a*c}else if(e.order==="ZXY"){const y=c*f,x=c*m,w=u*f,S=u*m;t[0]=y-S*l,t[4]=-a*m,t[8]=w+x*l,t[1]=x+w*l,t[5]=a*f,t[9]=S-y*l,t[2]=-a*u,t[6]=l,t[10]=a*c}else if(e.order==="ZYX"){const y=a*f,x=a*m,w=l*f,S=l*m;t[0]=c*f,t[4]=w*u-x,t[8]=y*u+S,t[1]=c*m,t[5]=S*u+y,t[9]=x*u-w,t[2]=-u,t[6]=l*c,t[10]=a*c}else if(e.order==="YZX"){const y=a*c,x=a*u,w=l*c,S=l*u;t[0]=c*f,t[4]=S-y*m,t[8]=w*m+x,t[1]=m,t[5]=a*f,t[9]=-l*f,t[2]=-u*f,t[6]=x*m+w,t[10]=y-S*m}else if(e.order==="XZY"){const y=a*c,x=a*u,w=l*c,S=l*u;t[0]=c*f,t[4]=-m,t[8]=u*f,t[1]=y*m+S,t[5]=a*f,t[9]=x*m-w,t[2]=w*m-x,t[6]=l*f,t[10]=S*m+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(mu,e,gu)}lookAt(e,t,i){const n=this.elements;return wt.subVectors(e,t),wt.lengthSq()===0&&(wt.z=1),wt.normalize(),Ri.crossVectors(i,wt),Ri.lengthSq()===0&&(Math.abs(i.z)===1?wt.x+=1e-4:wt.z+=1e-4,wt.normalize(),Ri.crossVectors(i,wt)),Ri.normalize(),Ys.crossVectors(wt,Ri),n[0]=Ri.x,n[4]=Ys.x,n[8]=wt.x,n[1]=Ri.y,n[5]=Ys.y,n[9]=wt.y,n[2]=Ri.z,n[6]=Ys.z,n[10]=wt.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,n=t.elements,s=this.elements,a=i[0],l=i[4],c=i[8],u=i[12],f=i[1],m=i[5],y=i[9],x=i[13],w=i[2],S=i[6],A=i[10],E=i[14],F=i[3],L=i[7],N=i[11],d=i[15],W=n[0],G=n[4],q=n[8],ne=n[12],X=n[1],$=n[5],J=n[9],K=n[13],oe=n[2],ge=n[6],Me=n[10],it=n[14],Ye=n[3],xe=n[7],Se=n[11],ke=n[15];return s[0]=a*W+l*X+c*oe+u*Ye,s[4]=a*G+l*$+c*ge+u*xe,s[8]=a*q+l*J+c*Me+u*Se,s[12]=a*ne+l*K+c*it+u*ke,s[1]=f*W+m*X+y*oe+x*Ye,s[5]=f*G+m*$+y*ge+x*xe,s[9]=f*q+m*J+y*Me+x*Se,s[13]=f*ne+m*K+y*it+x*ke,s[2]=w*W+S*X+A*oe+E*Ye,s[6]=w*G+S*$+A*ge+E*xe,s[10]=w*q+S*J+A*Me+E*Se,s[14]=w*ne+S*K+A*it+E*ke,s[3]=F*W+L*X+N*oe+d*Ye,s[7]=F*G+L*$+N*ge+d*xe,s[11]=F*q+L*J+N*Me+d*Se,s[15]=F*ne+L*K+N*it+d*ke,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],n=e[8],s=e[12],a=e[1],l=e[5],c=e[9],u=e[13],f=e[2],m=e[6],y=e[10],x=e[14],w=e[3],S=e[7],A=e[11],E=e[15];return w*(+s*c*m-n*u*m-s*l*y+i*u*y+n*l*x-i*c*x)+S*(+t*c*x-t*u*y+s*a*y-n*a*x+n*u*f-s*c*f)+A*(+t*u*m-t*l*x-s*a*m+i*a*x+s*l*f-i*u*f)+E*(-n*l*f-t*c*m+t*l*y+n*a*m-i*a*y+i*c*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],n=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],f=e[8],m=e[9],y=e[10],x=e[11],w=e[12],S=e[13],A=e[14],E=e[15],F=m*A*u-S*y*u+S*c*x-l*A*x-m*c*E+l*y*E,L=w*y*u-f*A*u-w*c*x+a*A*x+f*c*E-a*y*E,N=f*S*u-w*m*u+w*l*x-a*S*x-f*l*E+a*m*E,d=w*m*c-f*S*c-w*l*y+a*S*y+f*l*A-a*m*A,W=t*F+i*L+n*N+s*d;if(W===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const G=1/W;return e[0]=F*G,e[1]=(S*y*s-m*A*s-S*n*x+i*A*x+m*n*E-i*y*E)*G,e[2]=(l*A*s-S*c*s+S*n*u-i*A*u-l*n*E+i*c*E)*G,e[3]=(m*c*s-l*y*s-m*n*u+i*y*u+l*n*x-i*c*x)*G,e[4]=L*G,e[5]=(f*A*s-w*y*s+w*n*x-t*A*x-f*n*E+t*y*E)*G,e[6]=(w*c*s-a*A*s-w*n*u+t*A*u+a*n*E-t*c*E)*G,e[7]=(a*y*s-f*c*s+f*n*u-t*y*u-a*n*x+t*c*x)*G,e[8]=N*G,e[9]=(w*m*s-f*S*s-w*i*x+t*S*x+f*i*E-t*m*E)*G,e[10]=(a*S*s-w*l*s+w*i*u-t*S*u-a*i*E+t*l*E)*G,e[11]=(f*l*s-a*m*s-f*i*u+t*m*u+a*i*x-t*l*x)*G,e[12]=d*G,e[13]=(f*S*n-w*m*n+w*i*y-t*S*y-f*i*A+t*m*A)*G,e[14]=(w*l*n-a*S*n-w*i*c+t*S*c+a*i*A-t*l*A)*G,e[15]=(a*m*n-f*l*n+f*i*c-t*m*c-a*i*y+t*l*y)*G,this}scale(e){const t=this.elements,i=e.x,n=e.y,s=e.z;return t[0]*=i,t[4]*=n,t[8]*=s,t[1]*=i,t[5]*=n,t[9]*=s,t[2]*=i,t[6]*=n,t[10]*=s,t[3]*=i,t[7]*=n,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,n))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),n=Math.sin(t),s=1-i,a=e.x,l=e.y,c=e.z,u=s*a,f=s*l;return this.set(u*a+i,u*l-n*c,u*c+n*l,0,u*l+n*c,f*l+i,f*c-n*a,0,u*c-n*l,f*c+n*a,s*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,n,s,a){return this.set(1,i,s,0,e,1,a,0,t,n,1,0,0,0,0,1),this}compose(e,t,i){const n=this.elements,s=t._x,a=t._y,l=t._z,c=t._w,u=s+s,f=a+a,m=l+l,y=s*u,x=s*f,w=s*m,S=a*f,A=a*m,E=l*m,F=c*u,L=c*f,N=c*m,d=i.x,W=i.y,G=i.z;return n[0]=(1-(S+E))*d,n[1]=(x+N)*d,n[2]=(w-L)*d,n[3]=0,n[4]=(x-N)*W,n[5]=(1-(y+E))*W,n[6]=(A+F)*W,n[7]=0,n[8]=(w+L)*G,n[9]=(A-F)*G,n[10]=(1-(y+S))*G,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,i){const n=this.elements;let s=Tn.set(n[0],n[1],n[2]).length();const a=Tn.set(n[4],n[5],n[6]).length(),l=Tn.set(n[8],n[9],n[10]).length();this.determinant()<0&&(s=-s),e.x=n[12],e.y=n[13],e.z=n[14],Xt.copy(this);const u=1/s,f=1/a,m=1/l;return Xt.elements[0]*=u,Xt.elements[1]*=u,Xt.elements[2]*=u,Xt.elements[4]*=f,Xt.elements[5]*=f,Xt.elements[6]*=f,Xt.elements[8]*=m,Xt.elements[9]*=m,Xt.elements[10]*=m,t.setFromRotationMatrix(Xt),i.x=s,i.y=a,i.z=l,this}makePerspective(e,t,i,n,s,a,l=rn){const c=this.elements,u=2*s/(t-e),f=2*s/(i-n),m=(t+e)/(t-e),y=(i+n)/(i-n);let x,w;if(l===rn)x=-(a+s)/(a-s),w=-2*a*s/(a-s);else if(l===Yo)x=-a/(a-s),w=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=u,c[4]=0,c[8]=m,c[12]=0,c[1]=0,c[5]=f,c[9]=y,c[13]=0,c[2]=0,c[6]=0,c[10]=x,c[14]=w,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,i,n,s,a,l=rn){const c=this.elements,u=1/(t-e),f=1/(i-n),m=1/(a-s),y=(t+e)*u,x=(i+n)*f;let w,S;if(l===rn)w=(a+s)*m,S=-2*m;else if(l===Yo)w=s*m,S=-1*m;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-y,c[1]=0,c[5]=2*f,c[9]=0,c[13]=-x,c[2]=0,c[6]=0,c[10]=S,c[14]=-w,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let n=0;n<16;n++)if(t[n]!==i[n])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Tn=new z,Xt=new ye,mu=new z(0,0,0),gu=new z(1,1,1),Ri=new z,Ys=new z,wt=new z,Tl=new ye,Ml=new si;class ji{constructor(e=0,t=0,i=0,n=ji.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=n}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,n=this._order){return this._x=e,this._y=t,this._z=i,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const n=e.elements,s=n[0],a=n[4],l=n[8],c=n[1],u=n[5],f=n[9],m=n[2],y=n[6],x=n[10];switch(t){case"XYZ":this._y=Math.asin(Ke(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,x),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(y,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ke(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(l,x),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-m,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ke(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-m,x),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-Ke(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(y,x),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Ke(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-m,s)):(this._x=0,this._y=Math.atan2(l,x));break;case"XZY":this._z=Math.asin(-Ke(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(y,u),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-f,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return Tl.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Tl,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Ml.setFromEuler(this),this.setFromQuaternion(Ml,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ji.DEFAULT_ORDER="XYZ";class Ic{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let yu=0;const Sl=new z,Mn=new si,gi=new ye,$s=new z,rs=new z,xu=new z,bu=new si,Al=new z(1,0,0),El=new z(0,1,0),_l=new z(0,0,1),Cl={type:"added"},wu={type:"removed"},Sn={type:"childadded",child:null},yo={type:"childremoved",child:null};class Oe extends vs{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:yu++}),this.uuid=Jt(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Oe.DEFAULT_UP.clone();const e=new z,t=new ji,i=new si,n=new z(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new ye},normalMatrix:{value:new Si}}),this.matrix=new ye,this.matrixWorld=new ye,this.matrixAutoUpdate=Oe.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Oe.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ic,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Mn.setFromAxisAngle(e,t),this.quaternion.multiply(Mn),this}rotateOnWorldAxis(e,t){return Mn.setFromAxisAngle(e,t),this.quaternion.premultiply(Mn),this}rotateX(e){return this.rotateOnAxis(Al,e)}rotateY(e){return this.rotateOnAxis(El,e)}rotateZ(e){return this.rotateOnAxis(_l,e)}translateOnAxis(e,t){return Sl.copy(e).applyQuaternion(this.quaternion),this.position.add(Sl.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Al,e)}translateY(e){return this.translateOnAxis(El,e)}translateZ(e){return this.translateOnAxis(_l,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(gi.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?$s.copy(e):$s.set(e,t,i);const n=this.parent;this.updateWorldMatrix(!0,!1),rs.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?gi.lookAt(rs,$s,this.up):gi.lookAt($s,rs,this.up),this.quaternion.setFromRotationMatrix(gi),n&&(gi.extractRotation(n.matrixWorld),Mn.setFromRotationMatrix(gi),this.quaternion.premultiply(Mn.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(Cl),Sn.child=e,this.dispatchEvent(Sn),Sn.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(wu),yo.child=e,this.dispatchEvent(yo),yo.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),gi.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),gi.multiply(e.parent.matrixWorld)),e.applyMatrix4(gi),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(Cl),Sn.child=e,this.dispatchEvent(Sn),Sn.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,n=this.children.length;i<n;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const n=this.children;for(let s=0,a=n.length;s<a;s++)n[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rs,e,xu),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rs,bu,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const n=this.children;for(let s=0,a=n.length;s<a;s++)n[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),n.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(n.type="BatchedMesh",n.perObjectFrustumCulled=this.perObjectFrustumCulled,n.sortObjects=this.sortObjects,n.drawRanges=this._drawRanges,n.reservedRanges=this._reservedRanges,n.visibility=this._visibility,n.active=this._active,n.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),n.maxInstanceCount=this._maxInstanceCount,n.maxVertexCount=this._maxVertexCount,n.maxIndexCount=this._maxIndexCount,n.geometryInitialized=this._geometryInitialized,n.geometryCount=this._geometryCount,n.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(n.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(n.boundingSphere={center:n.boundingSphere.center.toArray(),radius:n.boundingSphere.radius}),this.boundingBox!==null&&(n.boundingBox={min:n.boundingBox.min.toArray(),max:n.boundingBox.max.toArray()}));function s(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let u=0,f=c.length;u<f;u++){const m=c[u];s(e.shapes,m)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(s(e.materials,this.material[c]));n.material=l}else n.material=s(e.materials,this.material);if(this.children.length>0){n.children=[];for(let l=0;l<this.children.length;l++)n.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];n.animations.push(s(e.animations,c))}}if(t){const l=a(e.geometries),c=a(e.materials),u=a(e.textures),f=a(e.images),m=a(e.shapes),y=a(e.skeletons),x=a(e.animations),w=a(e.nodes);l.length>0&&(i.geometries=l),c.length>0&&(i.materials=c),u.length>0&&(i.textures=u),f.length>0&&(i.images=f),m.length>0&&(i.shapes=m),y.length>0&&(i.skeletons=y),x.length>0&&(i.animations=x),w.length>0&&(i.nodes=w)}return i.object=n,i;function a(l){const c=[];for(const u in l){const f=l[u];delete f.metadata,c.push(f)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const n=e.children[i];this.add(n.clone())}return this}}Oe.DEFAULT_UP=new z(0,1,0);Oe.DEFAULT_MATRIX_AUTO_UPDATE=!0;Oe.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Yt=new z,yi=new z,xo=new z,xi=new z,An=new z,En=new z,Il=new z,bo=new z,wo=new z,vo=new z;class Zt{constructor(e=new z,t=new z,i=new z){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,n){n.subVectors(i,t),Yt.subVectors(e,t),n.cross(Yt);const s=n.lengthSq();return s>0?n.multiplyScalar(1/Math.sqrt(s)):n.set(0,0,0)}static getBarycoord(e,t,i,n,s){Yt.subVectors(n,t),yi.subVectors(i,t),xo.subVectors(e,t);const a=Yt.dot(Yt),l=Yt.dot(yi),c=Yt.dot(xo),u=yi.dot(yi),f=yi.dot(xo),m=a*u-l*l;if(m===0)return s.set(0,0,0),null;const y=1/m,x=(u*c-l*f)*y,w=(a*f-l*c)*y;return s.set(1-x-w,w,x)}static containsPoint(e,t,i,n){return this.getBarycoord(e,t,i,n,xi)===null?!1:xi.x>=0&&xi.y>=0&&xi.x+xi.y<=1}static getInterpolation(e,t,i,n,s,a,l,c){return this.getBarycoord(e,t,i,n,xi)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(s,xi.x),c.addScaledVector(a,xi.y),c.addScaledVector(l,xi.z),c)}static isFrontFacing(e,t,i,n){return Yt.subVectors(i,t),yi.subVectors(e,t),Yt.cross(yi).dot(n)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this}setFromAttributeAndIndices(e,t,i,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Yt.subVectors(this.c,this.b),yi.subVectors(this.a,this.b),Yt.cross(yi).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zt.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Zt.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,n,s){return Zt.getInterpolation(e,this.a,this.b,this.c,t,i,n,s)}containsPoint(e){return Zt.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zt.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,n=this.b,s=this.c;let a,l;An.subVectors(n,i),En.subVectors(s,i),bo.subVectors(e,i);const c=An.dot(bo),u=En.dot(bo);if(c<=0&&u<=0)return t.copy(i);wo.subVectors(e,n);const f=An.dot(wo),m=En.dot(wo);if(f>=0&&m<=f)return t.copy(n);const y=c*m-f*u;if(y<=0&&c>=0&&f<=0)return a=c/(c-f),t.copy(i).addScaledVector(An,a);vo.subVectors(e,s);const x=An.dot(vo),w=En.dot(vo);if(w>=0&&x<=w)return t.copy(s);const S=x*u-c*w;if(S<=0&&u>=0&&w<=0)return l=u/(u-w),t.copy(i).addScaledVector(En,l);const A=f*w-x*m;if(A<=0&&m-f>=0&&x-w>=0)return Il.subVectors(s,n),l=(m-f)/(m-f+(x-w)),t.copy(n).addScaledVector(Il,l);const E=1/(A+S+y);return a=S*E,l=y*E,t.copy(i).addScaledVector(An,a).addScaledVector(En,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const kc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Li={h:0,s:0,l:0},Ks={h:0,s:0,l:0};function To(o,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?o+(e-o)*6*t:t<1/2?e:t<2/3?o+(e-o)*6*(2/3-t):o}class Le{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const n=e;n&&n.isColor?this.copy(n):typeof n=="number"?this.setHex(n):typeof n=="string"&&this.setStyle(n)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=St){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Tt.toWorkingColorSpace(this,t),this}setRGB(e,t,i,n=Tt.workingColorSpace){return this.r=e,this.g=t,this.b=i,Tt.toWorkingColorSpace(this,n),this}setHSL(e,t,i,n=Tt.workingColorSpace){if(e=ca(e,1),t=Ke(t,0,1),i=Ke(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=To(a,s,e+1/3),this.g=To(a,s,e),this.b=To(a,s,e-1/3)}return Tt.toWorkingColorSpace(this,n),this}setStyle(e,t=St){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=n[1],l=n[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=n[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=St){const i=kc[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=On(e.r),this.g=On(e.g),this.b=On(e.b),this}copyLinearToSRGB(e){return this.r=lo(e.r),this.g=lo(e.g),this.b=lo(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=St){return Tt.fromWorkingColorSpace(tt.copy(this),e),Math.round(Ke(tt.r*255,0,255))*65536+Math.round(Ke(tt.g*255,0,255))*256+Math.round(Ke(tt.b*255,0,255))}getHexString(e=St){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Tt.workingColorSpace){Tt.fromWorkingColorSpace(tt.copy(this),t);const i=tt.r,n=tt.g,s=tt.b,a=Math.max(i,n,s),l=Math.min(i,n,s);let c,u;const f=(l+a)/2;if(l===a)c=0,u=0;else{const m=a-l;switch(u=f<=.5?m/(a+l):m/(2-a-l),a){case i:c=(n-s)/m+(n<s?6:0);break;case n:c=(s-i)/m+2;break;case s:c=(i-n)/m+4;break}c/=6}return e.h=c,e.s=u,e.l=f,e}getRGB(e,t=Tt.workingColorSpace){return Tt.fromWorkingColorSpace(tt.copy(this),t),e.r=tt.r,e.g=tt.g,e.b=tt.b,e}getStyle(e=St){Tt.fromWorkingColorSpace(tt.copy(this),e);const t=tt.r,i=tt.g,n=tt.b;return e!==St?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${n.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(n*255)})`}offsetHSL(e,t,i){return this.getHSL(Li),this.setHSL(Li.h+e,Li.s+t,Li.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Li),e.getHSL(Ks);const i=fs(Li.h,Ks.h,t),n=fs(Li.s,Ks.s,t),s=fs(Li.l,Ks.l,t);return this.setHSL(i,n,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,n=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*n,this.g=s[1]*t+s[4]*i+s[7]*n,this.b=s[2]*t+s[5]*i+s[8]*n,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const tt=new Le;Le.NAMES=kc;let vu=0;class on extends vs{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:vu++}),this.uuid=Jt(),this.name="",this.type="Material",this.blending=sl,this.side=Sr,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ol,this.blendDst=al,this.blendEquation=rl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Le(0,0,0),this.blendAlpha=0,this.depthFunc=ll,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=gl,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=yn,this.stencilZFail=yn,this.stencilZPass=yn,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const n=this[t];if(n===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==sl&&(i.blending=this.blending),this.side!==Sr&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==ol&&(i.blendSrc=this.blendSrc),this.blendDst!==al&&(i.blendDst=this.blendDst),this.blendEquation!==rl&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==ll&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==gl&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==yn&&(i.stencilFail=this.stencilFail),this.stencilZFail!==yn&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==yn&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function n(s){const a=[];for(const l in s){const c=s[l];delete c.metadata,a.push(c)}return a}if(t){const s=n(e.textures),a=n(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const n=t.length;i=new Array(n);for(let s=0;s!==n;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}onBeforeRender(){console.warn("Material: onBeforeRender() has been removed.")}}class ni extends on{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Le(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ji,this.combine=Nh,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const He=new z,Zs=new pe;class Qt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Xo,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=la,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Cc("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let n=0,s=this.itemSize;n<s;n++)this.array[e+n]=t.array[i+n];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Zs.fromBufferAttribute(this,t),Zs.applyMatrix3(e),this.setXY(t,Zs.x,Zs.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)He.fromBufferAttribute(this,t),He.applyMatrix3(e),this.setXYZ(t,He.x,He.y,He.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)He.fromBufferAttribute(this,t),He.applyMatrix4(e),this.setXYZ(t,He.x,He.y,He.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)He.fromBufferAttribute(this,t),He.applyNormalMatrix(e),this.setXYZ(t,He.x,He.y,He.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)He.fromBufferAttribute(this,t),He.transformDirection(e),this.setXYZ(t,He.x,He.y,He.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Kt(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Ae(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Kt(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ae(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Kt(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ae(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Kt(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ae(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Kt(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ae(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Ae(t,this.array),i=Ae(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,n){return e*=this.itemSize,this.normalized&&(t=Ae(t,this.array),i=Ae(i,this.array),n=Ae(n,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this}setXYZW(e,t,i,n,s){return e*=this.itemSize,this.normalized&&(t=Ae(t,this.array),i=Ae(i,this.array),n=Ae(n,this.array),s=Ae(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Xo&&(e.usage=this.usage),e}}class Tu extends Qt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Mu extends Qt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Xe extends Qt{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Su=0;const kt=new ye,Mo=new Oe,_n=new z,vt=new ri,os=new ri,qe=new z;class Nt extends vs{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Su++}),this.uuid=Jt(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(lu(e)?Mu:Tu)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Si().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return kt.makeRotationFromQuaternion(e),this.applyMatrix4(kt),this}rotateX(e){return kt.makeRotationX(e),this.applyMatrix4(kt),this}rotateY(e){return kt.makeRotationY(e),this.applyMatrix4(kt),this}rotateZ(e){return kt.makeRotationZ(e),this.applyMatrix4(kt),this}translate(e,t,i){return kt.makeTranslation(e,t,i),this.applyMatrix4(kt),this}scale(e,t,i){return kt.makeScale(e,t,i),this.applyMatrix4(kt),this}lookAt(e){return Mo.lookAt(e),Mo.updateMatrix(),this.applyMatrix4(Mo.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_n).negate(),this.translate(_n.x,_n.y,_n.z),this}setFromPoints(e){const t=[];for(let i=0,n=e.length;i<n;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Xe(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ri);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,n=t.length;i<n;i++){const s=t[i];vt.setFromBufferAttribute(s),this.morphTargetsRelative?(qe.addVectors(this.boundingBox.min,vt.min),this.boundingBox.expandByPoint(qe),qe.addVectors(this.boundingBox.max,vt.max),this.boundingBox.expandByPoint(qe)):(this.boundingBox.expandByPoint(vt.min),this.boundingBox.expandByPoint(vt.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new z,1/0);return}if(e){const i=this.boundingSphere.center;if(vt.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const l=t[s];os.setFromBufferAttribute(l),this.morphTargetsRelative?(qe.addVectors(vt.min,os.min),vt.expandByPoint(qe),qe.addVectors(vt.max,os.max),vt.expandByPoint(qe)):(vt.expandByPoint(os.min),vt.expandByPoint(os.max))}vt.getCenter(i);let n=0;for(let s=0,a=e.count;s<a;s++)qe.fromBufferAttribute(e,s),n=Math.max(n,i.distanceToSquared(qe));if(t)for(let s=0,a=t.length;s<a;s++){const l=t[s],c=this.morphTargetsRelative;for(let u=0,f=l.count;u<f;u++)qe.fromBufferAttribute(l,u),c&&(_n.fromBufferAttribute(e,u),qe.add(_n)),n=Math.max(n,i.distanceToSquared(qe))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,n=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qt(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),l=[],c=[];for(let q=0;q<i.count;q++)l[q]=new z,c[q]=new z;const u=new z,f=new z,m=new z,y=new pe,x=new pe,w=new pe,S=new z,A=new z;function E(q,ne,X){u.fromBufferAttribute(i,q),f.fromBufferAttribute(i,ne),m.fromBufferAttribute(i,X),y.fromBufferAttribute(s,q),x.fromBufferAttribute(s,ne),w.fromBufferAttribute(s,X),f.sub(u),m.sub(u),x.sub(y),w.sub(y);const $=1/(x.x*w.y-w.x*x.y);isFinite($)&&(S.copy(f).multiplyScalar(w.y).addScaledVector(m,-x.y).multiplyScalar($),A.copy(m).multiplyScalar(x.x).addScaledVector(f,-w.x).multiplyScalar($),l[q].add(S),l[ne].add(S),l[X].add(S),c[q].add(A),c[ne].add(A),c[X].add(A))}let F=this.groups;F.length===0&&(F=[{start:0,count:e.count}]);for(let q=0,ne=F.length;q<ne;++q){const X=F[q],$=X.start,J=X.count;for(let K=$,oe=$+J;K<oe;K+=3)E(e.getX(K+0),e.getX(K+1),e.getX(K+2))}const L=new z,N=new z,d=new z,W=new z;function G(q){d.fromBufferAttribute(n,q),W.copy(d);const ne=l[q];L.copy(ne),L.sub(d.multiplyScalar(d.dot(ne))).normalize(),N.crossVectors(W,ne);const $=N.dot(c[q])<0?-1:1;a.setXYZW(q,L.x,L.y,L.z,$)}for(let q=0,ne=F.length;q<ne;++q){const X=F[q],$=X.start,J=X.count;for(let K=$,oe=$+J;K<oe;K+=3)G(e.getX(K+0)),G(e.getX(K+1)),G(e.getX(K+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Qt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let y=0,x=i.count;y<x;y++)i.setXYZ(y,0,0,0);const n=new z,s=new z,a=new z,l=new z,c=new z,u=new z,f=new z,m=new z;if(e)for(let y=0,x=e.count;y<x;y+=3){const w=e.getX(y+0),S=e.getX(y+1),A=e.getX(y+2);n.fromBufferAttribute(t,w),s.fromBufferAttribute(t,S),a.fromBufferAttribute(t,A),f.subVectors(a,s),m.subVectors(n,s),f.cross(m),l.fromBufferAttribute(i,w),c.fromBufferAttribute(i,S),u.fromBufferAttribute(i,A),l.add(f),c.add(f),u.add(f),i.setXYZ(w,l.x,l.y,l.z),i.setXYZ(S,c.x,c.y,c.z),i.setXYZ(A,u.x,u.y,u.z)}else for(let y=0,x=t.count;y<x;y+=3)n.fromBufferAttribute(t,y+0),s.fromBufferAttribute(t,y+1),a.fromBufferAttribute(t,y+2),f.subVectors(a,s),m.subVectors(n,s),f.cross(m),i.setXYZ(y+0,f.x,f.y,f.z),i.setXYZ(y+1,f.x,f.y,f.z),i.setXYZ(y+2,f.x,f.y,f.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)qe.fromBufferAttribute(e,t),qe.normalize(),e.setXYZ(t,qe.x,qe.y,qe.z)}toNonIndexed(){function e(l,c){const u=l.array,f=l.itemSize,m=l.normalized,y=new u.constructor(c.length*f);let x=0,w=0;for(let S=0,A=c.length;S<A;S++){l.isInterleavedBufferAttribute?x=c[S]*l.data.stride+l.offset:x=c[S]*f;for(let E=0;E<f;E++)y[w++]=u[x++]}return new Qt(y,f,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Nt,i=this.index.array,n=this.attributes;for(const l in n){const c=n[l],u=e(c,i);t.setAttribute(l,u)}const s=this.morphAttributes;for(const l in s){const c=[],u=s[l];for(let f=0,m=u.length;f<m;f++){const y=u[f],x=e(y,i);c.push(x)}t.morphAttributes[l]=c}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let l=0,c=a.length;l<c;l++){const u=a[l];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i){const u=i[c];e.data.attributes[c]=u.toJSON(e.data)}const n={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],f=[];for(let m=0,y=u.length;m<y;m++){const x=u[m];f.push(x.toJSON(e.data))}f.length>0&&(n[c]=f,s=!0)}s&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const n=e.attributes;for(const u in n){const f=n[u];this.setAttribute(u,f.clone(t))}const s=e.morphAttributes;for(const u in s){const f=[],m=s[u];for(let y=0,x=m.length;y<x;y++)f.push(m[y].clone(t));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,f=a.length;u<f;u++){const m=a[u];this.addGroup(m.start,m.count,m.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const kl=new ye,en=new Hn,Js=new oi,Pl=new z,Cn=new z,In=new z,kn=new z,So=new z,Qs=new z,er=new pe,tr=new pe,ir=new pe,zl=new z,Rl=new z,Ll=new z,nr=new z,sr=new z;class ln extends Oe{constructor(e=new Nt,t=new ni){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const n=t[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=n.length;s<a;s++){const l=n[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,t){const i=this.geometry,n=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(n,e);const l=this.morphTargetInfluences;if(s&&l){Qs.set(0,0,0);for(let c=0,u=s.length;c<u;c++){const f=l[c],m=s[c];f!==0&&(So.fromBufferAttribute(m,e),a?Qs.addScaledVector(So,f):Qs.addScaledVector(So.sub(t),f))}t.add(Qs)}return t}raycast(e,t){const i=this.geometry,n=this.material,s=this.matrixWorld;n!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Js.copy(i.boundingSphere),Js.applyMatrix4(s),en.copy(e.ray).recast(e.near),!(Js.containsPoint(en.origin)===!1&&(en.intersectSphere(Js,Pl)===null||en.origin.distanceToSquared(Pl)>(e.far-e.near)**2))&&(kl.copy(s).invert(),en.copy(e.ray).applyMatrix4(kl),!(i.boundingBox!==null&&en.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,en)))}_computeIntersections(e,t,i){let n;const s=this.geometry,a=this.material,l=s.index,c=s.attributes.position,u=s.attributes.uv,f=s.attributes.uv1,m=s.attributes.normal,y=s.groups,x=s.drawRange;if(l!==null)if(Array.isArray(a))for(let w=0,S=y.length;w<S;w++){const A=y[w],E=a[A.materialIndex],F=Math.max(A.start,x.start),L=Math.min(l.count,Math.min(A.start+A.count,x.start+x.count));for(let N=F,d=L;N<d;N+=3){const W=l.getX(N),G=l.getX(N+1),q=l.getX(N+2);n=rr(this,E,e,i,u,f,m,W,G,q),n&&(n.faceIndex=Math.floor(N/3),n.face.materialIndex=A.materialIndex,t.push(n))}}else{const w=Math.max(0,x.start),S=Math.min(l.count,x.start+x.count);for(let A=w,E=S;A<E;A+=3){const F=l.getX(A),L=l.getX(A+1),N=l.getX(A+2);n=rr(this,a,e,i,u,f,m,F,L,N),n&&(n.faceIndex=Math.floor(A/3),t.push(n))}}else if(c!==void 0)if(Array.isArray(a))for(let w=0,S=y.length;w<S;w++){const A=y[w],E=a[A.materialIndex],F=Math.max(A.start,x.start),L=Math.min(c.count,Math.min(A.start+A.count,x.start+x.count));for(let N=F,d=L;N<d;N+=3){const W=N,G=N+1,q=N+2;n=rr(this,E,e,i,u,f,m,W,G,q),n&&(n.faceIndex=Math.floor(N/3),n.face.materialIndex=A.materialIndex,t.push(n))}}else{const w=Math.max(0,x.start),S=Math.min(c.count,x.start+x.count);for(let A=w,E=S;A<E;A+=3){const F=A,L=A+1,N=A+2;n=rr(this,a,e,i,u,f,m,F,L,N),n&&(n.faceIndex=Math.floor(A/3),t.push(n))}}}}function Au(o,e,t,i,n,s,a,l){let c;if(e.side===Lh?c=i.intersectTriangle(a,s,n,!0,l):c=i.intersectTriangle(n,s,a,e.side===Sr,l),c===null)return null;sr.copy(l),sr.applyMatrix4(o.matrixWorld);const u=t.ray.origin.distanceTo(sr);return u<t.near||u>t.far?null:{distance:u,point:sr.clone(),object:o}}function rr(o,e,t,i,n,s,a,l,c,u){o.getVertexPosition(l,Cn),o.getVertexPosition(c,In),o.getVertexPosition(u,kn);const f=Au(o,e,t,i,Cn,In,kn,nr);if(f){n&&(er.fromBufferAttribute(n,l),tr.fromBufferAttribute(n,c),ir.fromBufferAttribute(n,u),f.uv=Zt.getInterpolation(nr,Cn,In,kn,er,tr,ir,new pe)),s&&(er.fromBufferAttribute(s,l),tr.fromBufferAttribute(s,c),ir.fromBufferAttribute(s,u),f.uv1=Zt.getInterpolation(nr,Cn,In,kn,er,tr,ir,new pe)),a&&(zl.fromBufferAttribute(a,l),Rl.fromBufferAttribute(a,c),Ll.fromBufferAttribute(a,u),f.normal=Zt.getInterpolation(nr,Cn,In,kn,zl,Rl,Ll,new z),f.normal.dot(i.direction)>0&&f.normal.multiplyScalar(-1));const m={a:l,b:c,c:u,normal:new z,materialIndex:0};Zt.getNormal(Cn,In,kn,m.normal),f.face=m}return f}class ha extends Nt{constructor(e=1,t=1,i=1,n=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:s,depthSegments:a};const l=this;n=Math.floor(n),s=Math.floor(s),a=Math.floor(a);const c=[],u=[],f=[],m=[];let y=0,x=0;w("z","y","x",-1,-1,i,t,e,a,s,0),w("z","y","x",1,-1,i,t,-e,a,s,1),w("x","z","y",1,1,e,i,t,n,a,2),w("x","z","y",1,-1,e,i,-t,n,a,3),w("x","y","z",1,-1,e,t,i,n,s,4),w("x","y","z",-1,-1,e,t,-i,n,s,5),this.setIndex(c),this.setAttribute("position",new Xe(u,3)),this.setAttribute("normal",new Xe(f,3)),this.setAttribute("uv",new Xe(m,2));function w(S,A,E,F,L,N,d,W,G,q,ne){const X=N/G,$=d/q,J=N/2,K=d/2,oe=W/2,ge=G+1,Me=q+1;let it=0,Ye=0;const xe=new z;for(let Se=0;Se<Me;Se++){const ke=Se*$-K;for(let ht=0;ht<ge;ht++){const ci=ht*X-J;xe[S]=ci*F,xe[A]=ke*L,xe[E]=oe,u.push(xe.x,xe.y,xe.z),xe[S]=0,xe[A]=0,xe[E]=W>0?1:-1,f.push(xe.x,xe.y,xe.z),m.push(ht/G),m.push(1-Se/q),it+=1}}for(let Se=0;Se<q;Se++)for(let ke=0;ke<G;ke++){const ht=y+ke+ge*Se,ci=y+ke+ge*(Se+1),Vi=y+(ke+1)+ge*(Se+1),hi=y+(ke+1)+ge*Se;c.push(ht,ci,hi),c.push(ci,Vi,hi),Ye+=6}l.addGroup(x,Ye,ne),x+=Ye,y+=it}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ha(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}class Pc extends Oe{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ye,this.projectionMatrix=new ye,this.projectionMatrixInverse=new ye,this.coordinateSystem=rn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ni=new z,Nl=new pe,Ol=new pe;class Lr extends Pc{constructor(e=50,t=1,i=.1,n=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=bs*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Nn*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return bs*2*Math.atan(Math.tan(Nn*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){Ni.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Ni.x,Ni.y).multiplyScalar(-e/Ni.z),Ni.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Ni.x,Ni.y).multiplyScalar(-e/Ni.z)}getViewSize(e,t){return this.getViewBounds(e,Nl,Ol),t.subVectors(Ol,Nl)}setViewOffset(e,t,i,n,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Nn*.5*this.fov)/this.zoom,i=2*t,n=this.aspect*i,s=-.5*n;const a=this.view;if(this.view!==null&&this.view.enabled){const c=a.fullWidth,u=a.fullHeight;s+=a.offsetX*n/c,t-=a.offsetY*i/u,n*=a.width/c,i*=a.height/u}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+n,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Ao=new z,Eu=new z,_u=new Si;class sn{constructor(e=new z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,n){return this.normal.set(e,t,i),this.constant=n,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const n=Ao.subVectors(i,t).cross(Eu.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(Ao),n=this.normal.dot(i);if(n===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/n;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||_u.getNormalMatrix(e),n=this.coplanarPoint(Ao).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const tn=new oi,or=new z;class Cu{constructor(e=new sn,t=new sn,i=new sn,n=new sn,s=new sn,a=new sn){this.planes=[e,t,i,n,s,a]}set(e,t,i,n,s,a){const l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(i),l[3].copy(n),l[4].copy(s),l[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=rn){const i=this.planes,n=e.elements,s=n[0],a=n[1],l=n[2],c=n[3],u=n[4],f=n[5],m=n[6],y=n[7],x=n[8],w=n[9],S=n[10],A=n[11],E=n[12],F=n[13],L=n[14],N=n[15];if(i[0].setComponents(c-s,y-u,A-x,N-E).normalize(),i[1].setComponents(c+s,y+u,A+x,N+E).normalize(),i[2].setComponents(c+a,y+f,A+w,N+F).normalize(),i[3].setComponents(c-a,y-f,A-w,N-F).normalize(),i[4].setComponents(c-l,y-m,A-S,N-L).normalize(),t===rn)i[5].setComponents(c+l,y+m,A+S,N+L).normalize();else if(t===Yo)i[5].setComponents(l,m,S,L).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),tn.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),tn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(tn)}intersectsSprite(e){return tn.center.set(0,0,0),tn.radius=.7071067811865476,tn.applyMatrix4(e.matrixWorld),this.intersectsSphere(tn)}intersectsSphere(e){const t=this.planes,i=e.center,n=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<n)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const n=t[i];if(or.x=n.normal.x>0?e.max.x:e.min.x,or.y=n.normal.y>0?e.max.y:e.min.y,or.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(or)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class ua extends Nt{constructor(e=1,t=1,i=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n};const s=e/2,a=t/2,l=Math.floor(i),c=Math.floor(n),u=l+1,f=c+1,m=e/l,y=t/c,x=[],w=[],S=[],A=[];for(let E=0;E<f;E++){const F=E*y-a;for(let L=0;L<u;L++){const N=L*m-s;w.push(N,-F,0),S.push(0,0,1),A.push(L/l),A.push(1-E/c)}}for(let E=0;E<c;E++)for(let F=0;F<l;F++){const L=F+u*E,N=F+u*(E+1),d=F+1+u*(E+1),W=F+1+u*E;x.push(L,N,W),x.push(N,d,W)}this.setIndex(x),this.setAttribute("position",new Xe(w,3)),this.setAttribute("normal",new Xe(S,3)),this.setAttribute("uv",new Xe(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ua(e.width,e.height,e.widthSegments,e.heightSegments)}}class zc extends Pc{constructor(e=-1,t=1,i=1,n=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=n,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,n,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let s=i-e,a=i+e,l=n+t,c=n-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,l-=f*this.view.offsetY,c=l-f*this.view.height}this.projectionMatrix.makeOrthographic(s,a,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Eo extends Oe{constructor(){super(),this.isGroup=!0,this.type="Group"}}class Iu extends Oe{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ji,this.environmentIntensity=1,this.environmentRotation=new ji,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class ku{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Xo,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Jt()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return Cc("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let n=0,s=this.stride;n<s;n++)this.array[e+n]=t.array[i+n];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Jt()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Jt()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const st=new z;class da{constructor(e,t,i,n=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=n}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)st.fromBufferAttribute(this,t),st.applyMatrix4(e),this.setXYZ(t,st.x,st.y,st.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)st.fromBufferAttribute(this,t),st.applyNormalMatrix(e),this.setXYZ(t,st.x,st.y,st.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)st.fromBufferAttribute(this,t),st.transformDirection(e),this.setXYZ(t,st.x,st.y,st.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Kt(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Ae(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Ae(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Ae(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Ae(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Ae(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Kt(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Kt(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Kt(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Kt(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ae(t,this.array),i=Ae(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ae(t,this.array),i=Ae(i,this.array),n=Ae(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this}setXYZW(e,t,i,n,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ae(t,this.array),i=Ae(i,this.array),n=Ae(n,this.array),s=Ae(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const n=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[n+s])}return new Qt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new da(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const n=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[n+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const Fl=new z,Dl=new zt,Bl=new zt,Pu=new z,jl=new ye,ar=new z,_o=new oi,Hl=new ye,Co=new Hn;class zu extends ln{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=cl,this.bindMatrix=new ye,this.bindMatrixInverse=new ye,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ri),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,ar),this.boundingBox.expandByPoint(ar)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new oi),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,ar),this.boundingSphere.expandByPoint(ar)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,n=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_o.copy(this.boundingSphere),_o.applyMatrix4(n),e.ray.intersectsSphere(_o)!==!1&&(Hl.copy(n).invert(),Co.copy(e.ray).applyMatrix4(Hl),!(this.boundingBox!==null&&Co.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Co)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new zt,t=this.geometry.attributes.skinWeight;for(let i=0,n=t.count;i<n;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===cl?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Oh?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,n=this.geometry;Dl.fromBufferAttribute(n.attributes.skinIndex,e),Bl.fromBufferAttribute(n.attributes.skinWeight,e),Fl.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=Bl.getComponent(s);if(a!==0){const l=Dl.getComponent(s);jl.multiplyMatrices(i.bones[l].matrixWorld,i.boneInverses[l]),t.addScaledVector(Pu.copy(Fl).applyMatrix4(jl),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Rc extends Oe{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Lc extends Rt{constructor(e=null,t=1,i=1,n,s,a,l,c,u=Ar,f=Ar,m,y){super(null,a,l,c,u,f,n,s,m,y),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Vl=new ye,Ru=new ye;class fa{constructor(e=[],t=[]){this.uuid=Jt(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new ye)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new ye;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,n=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const l=e[s]?e[s].matrixWorld:Ru;Vl.multiplyMatrices(l,t[s]),Vl.toArray(i,s*16)}n!==null&&(n.needsUpdate=!0)}clone(){return new fa(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Lc(t,e,e,Sc,la);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,n=e.bones.length;i<n;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new Rc),this.bones.push(a),this.boneInverses.push(new ye().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let n=0,s=t.length;n<s;n++){const a=t[n];e.bones.push(a.uuid);const l=i[n];e.boneInverses.push(l.toArray())}return e}}class Ko extends Qt{constructor(e,t,i,n=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Pn=new ye,Gl=new ye,lr=[],Ul=new ri,Lu=new ye,as=new ln,ls=new oi;class Nu extends ln{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ko(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let n=0;n<i;n++)this.setMatrixAt(n,Lu)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ri),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Pn),Ul.copy(e.boundingBox).applyMatrix4(Pn),this.boundingBox.union(Ul)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new oi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Pn),ls.copy(e.boundingSphere).applyMatrix4(Pn),this.boundingSphere.union(ls)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,n=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let l=0;l<i.length;l++)i[l]=n[a+l]}raycast(e,t){const i=this.matrixWorld,n=this.count;if(as.geometry=this.geometry,as.material=this.material,as.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ls.copy(this.boundingSphere),ls.applyMatrix4(i),e.ray.intersectsSphere(ls)!==!1))for(let s=0;s<n;s++){this.getMatrixAt(s,Pn),Gl.multiplyMatrices(i,Pn),as.matrixWorld=Gl,as.raycast(e,lr);for(let a=0,l=lr.length;a<l;a++){const c=lr[a];c.instanceId=s,c.object=this,t.push(c)}lr.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ko(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,n=i.length+1;this.morphTexture===null&&(this.morphTexture=new Lc(new Float32Array(n*this.count),n,this.count,Hh,la));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<i.length;u++)a+=i[u];const l=this.geometry.morphTargetsRelative?1:1-a,c=n*e;s[c]=l,s.set(i,c+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}class ws extends on{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Le(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Er=new z,_r=new z,Wl=new ye,cs=new Hn,cr=new oi,Io=new z,ql=new z;class pa extends Oe{constructor(e=new Nt,t=new ws){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let n=1,s=t.count;n<s;n++)Er.fromBufferAttribute(t,n-1),_r.fromBufferAttribute(t,n),i[n]=i[n-1],i[n]+=Er.distanceTo(_r);e.setAttribute("lineDistance",new Xe(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,n=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),cr.copy(i.boundingSphere),cr.applyMatrix4(n),cr.radius+=s,e.ray.intersectsSphere(cr)===!1)return;Wl.copy(n).invert(),cs.copy(e.ray).applyMatrix4(Wl);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=this.isLineSegments?2:1,f=i.index,y=i.attributes.position;if(f!==null){const x=Math.max(0,a.start),w=Math.min(f.count,a.start+a.count);for(let S=x,A=w-1;S<A;S+=u){const E=f.getX(S),F=f.getX(S+1),L=hr(this,e,cs,c,E,F);L&&t.push(L)}if(this.isLineLoop){const S=f.getX(w-1),A=f.getX(x),E=hr(this,e,cs,c,S,A);E&&t.push(E)}}else{const x=Math.max(0,a.start),w=Math.min(y.count,a.start+a.count);for(let S=x,A=w-1;S<A;S+=u){const E=hr(this,e,cs,c,S,S+1);E&&t.push(E)}if(this.isLineLoop){const S=hr(this,e,cs,c,w-1,x);S&&t.push(S)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const n=t[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=n.length;s<a;s++){const l=n[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function hr(o,e,t,i,n,s){const a=o.geometry.attributes.position;if(Er.fromBufferAttribute(a,n),_r.fromBufferAttribute(a,s),t.distanceSqToSegment(Er,_r,Io,ql)>i)return;Io.applyMatrix4(o.matrixWorld);const c=e.ray.origin.distanceTo(Io);if(!(c<e.near||c>e.far))return{distance:c,point:ql.clone().applyMatrix4(o.matrixWorld),index:n,face:null,faceIndex:null,object:o}}const Xl=new z,Yl=new z;class Cr extends pa{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let n=0,s=t.count;n<s;n+=2)Xl.fromBufferAttribute(t,n),Yl.fromBufferAttribute(t,n+1),i[n]=n===0?0:i[n-1],i[n+1]=i[n]+Xl.distanceTo(Yl);e.setAttribute("lineDistance",new Xe(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Ou extends pa{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Nc extends on{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Le(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const $l=new ye,Zo=new Hn,ur=new oi,dr=new z;class Fu extends Oe{constructor(e=new Nt,t=new Nc){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,n=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),ur.copy(i.boundingSphere),ur.applyMatrix4(n),ur.radius+=s,e.ray.intersectsSphere(ur)===!1)return;$l.copy(n).invert(),Zo.copy(e.ray).applyMatrix4($l);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=i.index,m=i.attributes.position;if(u!==null){const y=Math.max(0,a.start),x=Math.min(u.count,a.start+a.count);for(let w=y,S=x;w<S;w++){const A=u.getX(w);dr.fromBufferAttribute(m,A),Kl(dr,A,c,n,e,t,this)}}else{const y=Math.max(0,a.start),x=Math.min(m.count,a.start+a.count);for(let w=y,S=x;w<S;w++)dr.fromBufferAttribute(m,w),Kl(dr,w,c,n,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const n=t[i[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=n.length;s<a;s++){const l=n[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function Kl(o,e,t,i,n,s,a){const l=Zo.distanceSqToPoint(o);if(l<t){const c=new z;Zo.closestPointToPoint(o,c),c.applyMatrix4(i);const u=n.ray.origin.distanceTo(c);if(u<n.near||u>n.far)return;s.push({distance:u,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,object:a})}}class Du extends Rt{constructor(e,t,i,n,s,a,l,c,u){super(e,t,i,n,s,a,l,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ma extends Nt{constructor(e=1,t=1,i=1,n=32,s=1,a=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:n,heightSegments:s,openEnded:a,thetaStart:l,thetaLength:c};const u=this;n=Math.floor(n),s=Math.floor(s);const f=[],m=[],y=[],x=[];let w=0;const S=[],A=i/2;let E=0;F(),a===!1&&(e>0&&L(!0),t>0&&L(!1)),this.setIndex(f),this.setAttribute("position",new Xe(m,3)),this.setAttribute("normal",new Xe(y,3)),this.setAttribute("uv",new Xe(x,2));function F(){const N=new z,d=new z;let W=0;const G=(t-e)/i;for(let q=0;q<=s;q++){const ne=[],X=q/s,$=X*(t-e)+e;for(let J=0;J<=n;J++){const K=J/n,oe=K*c+l,ge=Math.sin(oe),Me=Math.cos(oe);d.x=$*ge,d.y=-X*i+A,d.z=$*Me,m.push(d.x,d.y,d.z),N.set(ge,G,Me).normalize(),y.push(N.x,N.y,N.z),x.push(K,1-X),ne.push(w++)}S.push(ne)}for(let q=0;q<n;q++)for(let ne=0;ne<s;ne++){const X=S[ne][q],$=S[ne+1][q],J=S[ne+1][q+1],K=S[ne][q+1];f.push(X,$,K),f.push($,J,K),W+=6}u.addGroup(E,W,0),E+=W}function L(N){const d=w,W=new pe,G=new z;let q=0;const ne=N===!0?e:t,X=N===!0?1:-1;for(let J=1;J<=n;J++)m.push(0,A*X,0),y.push(0,X,0),x.push(.5,.5),w++;const $=w;for(let J=0;J<=n;J++){const oe=J/n*c+l,ge=Math.cos(oe),Me=Math.sin(oe);G.x=ne*Me,G.y=A*X,G.z=ne*ge,m.push(G.x,G.y,G.z),y.push(0,X,0),W.x=ge*.5+.5,W.y=Me*.5*X+.5,x.push(W.x,W.y),w++}for(let J=0;J<n;J++){const K=d+J,oe=$+J;N===!0?f.push(oe,oe+1,K):f.push(oe+1,oe,K),q+=3}u.addGroup(E,q,N===!0?1:2),E+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ma(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ga extends ma{constructor(e=1,t=1,i=32,n=1,s=!1,a=0,l=Math.PI*2){super(0,e,t,i,n,s,a,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:n,openEnded:s,thetaStart:a,thetaLength:l}}static fromJSON(e){return new ga(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}const fr=new z,pr=new z,ko=new z,mr=new Zt;class Zl extends Nt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const n=Math.pow(10,4),s=Math.cos(Nn*t),a=e.getIndex(),l=e.getAttribute("position"),c=a?a.count:l.count,u=[0,0,0],f=["a","b","c"],m=new Array(3),y={},x=[];for(let w=0;w<c;w+=3){a?(u[0]=a.getX(w),u[1]=a.getX(w+1),u[2]=a.getX(w+2)):(u[0]=w,u[1]=w+1,u[2]=w+2);const{a:S,b:A,c:E}=mr;if(S.fromBufferAttribute(l,u[0]),A.fromBufferAttribute(l,u[1]),E.fromBufferAttribute(l,u[2]),mr.getNormal(ko),m[0]=`${Math.round(S.x*n)},${Math.round(S.y*n)},${Math.round(S.z*n)}`,m[1]=`${Math.round(A.x*n)},${Math.round(A.y*n)},${Math.round(A.z*n)}`,m[2]=`${Math.round(E.x*n)},${Math.round(E.y*n)},${Math.round(E.z*n)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let F=0;F<3;F++){const L=(F+1)%3,N=m[F],d=m[L],W=mr[f[F]],G=mr[f[L]],q=`${N}_${d}`,ne=`${d}_${N}`;ne in y&&y[ne]?(ko.dot(y[ne].normal)<=s&&(x.push(W.x,W.y,W.z),x.push(G.x,G.y,G.z)),y[ne]=null):q in y||(y[q]={index0:u[F],index1:u[L],normal:ko.clone()})}}for(const w in y)if(y[w]){const{index0:S,index1:A}=y[w];fr.fromBufferAttribute(l,S),pr.fromBufferAttribute(l,A),x.push(fr.x,fr.y,fr.z),x.push(pr.x,pr.y,pr.z)}this.setAttribute("position",new Xe(x,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ya extends Nt{constructor(e=1,t=32,i=16,n=0,s=Math.PI*2,a=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:s,thetaStart:a,thetaLength:l},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const c=Math.min(a+l,Math.PI);let u=0;const f=[],m=new z,y=new z,x=[],w=[],S=[],A=[];for(let E=0;E<=i;E++){const F=[],L=E/i;let N=0;E===0&&a===0?N=.5/t:E===i&&c===Math.PI&&(N=-.5/t);for(let d=0;d<=t;d++){const W=d/t;m.x=-e*Math.cos(n+W*s)*Math.sin(a+L*l),m.y=e*Math.cos(a+L*l),m.z=e*Math.sin(n+W*s)*Math.sin(a+L*l),w.push(m.x,m.y,m.z),y.copy(m).normalize(),S.push(y.x,y.y,y.z),A.push(W+N,1-L),F.push(u++)}f.push(F)}for(let E=0;E<i;E++)for(let F=0;F<t;F++){const L=f[E][F+1],N=f[E][F],d=f[E+1][F],W=f[E+1][F+1];(E!==0||a>0)&&x.push(L,N,W),(E!==i-1||c<Math.PI)&&x.push(N,d,W)}this.setIndex(x),this.setAttribute("position",new Xe(w,3)),this.setAttribute("normal",new Xe(S,3)),this.setAttribute("uv",new Xe(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ya(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class xa extends on{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Le(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Le(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Uh,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ji,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ai extends xa{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ke(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Le(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Le(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Le(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}function gr(o,e,t){return!o||!t&&o.constructor===e?o:typeof e.BYTES_PER_ELEMENT=="number"?new e(o):Array.prototype.slice.call(o)}function Bu(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}function ju(o){function e(n,s){return o[n]-o[s]}const t=o.length,i=new Array(t);for(let n=0;n!==t;++n)i[n]=n;return i.sort(e),i}function Jl(o,e,t){const i=o.length,n=new o.constructor(i);for(let s=0,a=0;a!==i;++s){const l=t[s]*e;for(let c=0;c!==e;++c)n[a++]=o[l+c]}return n}function Oc(o,e,t,i){let n=1,s=o[0];for(;s!==void 0&&s[i]===void 0;)s=o[n++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push.apply(t,a)),s=o[n++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=o[n++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=o[n++];while(s!==void 0)}class Ts{constructor(e,t,i,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=n!==void 0?n:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,n=t[i],s=t[i-1];i:{e:{let a;t:{n:if(!(e<n)){for(let l=i+2;;){if(n===void 0){if(e<s)break n;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===l)break;if(s=n,n=t[++i],e<n)break e}a=t.length;break t}if(!(e>=s)){const l=t[1];e<l&&(i=2,s=l);for(let c=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(n=s,s=t[--i-1],e>=s)break e}a=i,i=0;break t}break i}for(;i<a;){const l=i+a>>>1;e<t[l]?a=l:i=l+1}if(n=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,n)}return this.interpolate_(i,s,e,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,n=this.valueSize,s=e*n;for(let a=0;a!==n;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Hu extends Ts{constructor(e,t,i,n){super(e,t,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:hl,endingEnd:hl}}intervalChanged_(e,t,i){const n=this.parameterPositions;let s=e-2,a=e+1,l=n[s],c=n[a];if(l===void 0)switch(this.getSettings_().endingStart){case ul:s=e,l=2*t-i;break;case dl:s=n.length-2,l=t+n[s]-n[s+1];break;default:s=e,l=i}if(c===void 0)switch(this.getSettings_().endingEnd){case ul:a=e,c=2*i-t;break;case dl:a=1,c=i+n[1]-n[0];break;default:a=e-1,c=t}const u=(i-t)*.5,f=this.valueSize;this._weightPrev=u/(t-l),this._weightNext=u/(c-i),this._offsetPrev=s*f,this._offsetNext=a*f}interpolate_(e,t,i,n){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,f=this._offsetPrev,m=this._offsetNext,y=this._weightPrev,x=this._weightNext,w=(i-t)/(n-t),S=w*w,A=S*w,E=-y*A+2*y*S-y*w,F=(1+y)*A+(-1.5-2*y)*S+(-.5+y)*w+1,L=(-1-x)*A+(1.5+x)*S+.5*w,N=x*A-x*S;for(let d=0;d!==l;++d)s[d]=E*a[f+d]+F*a[u+d]+L*a[c+d]+N*a[m+d];return s}}class Vu extends Ts{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e,t,i,n){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,f=(i-t)/(n-t),m=1-f;for(let y=0;y!==l;++y)s[y]=a[u+y]*m+a[c+y]*f;return s}}class Gu extends Ts{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e){return this.copySampleValue_(e-1)}}class li{constructor(e,t,i,n){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=gr(t,this.TimeBufferType),this.values=gr(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:gr(e.times,Array),values:gr(e.values,Array)};const n=e.getInterpolation();n!==e.DefaultInterpolation&&(i.interpolation=n)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new Gu(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Vu(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Hu(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ys:t=this.InterpolantFactoryMethodDiscrete;break;case xs:t=this.InterpolantFactoryMethodLinear;break;case oo:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ys;case this.InterpolantFactoryMethodLinear:return xs;case this.InterpolantFactoryMethodSmooth:return oo}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,n=t.length;i!==n;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,n=t.length;i!==n;++i)t[i]*=e}return this}trim(e,t){const i=this.times,n=i.length;let s=0,a=n-1;for(;s!==n&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==n){s>=a&&(a=Math.max(a,1),s=a-1);const l=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*l,a*l)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,n=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let l=0;l!==s;l++){const c=i[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(a!==null&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,a),e=!1;break}a=c}if(n!==void 0&&Bu(n))for(let l=0,c=n.length;l!==c;++l){const u=n[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),n=this.getInterpolation()===oo,s=e.length-1;let a=1;for(let l=1;l<s;++l){let c=!1;const u=e[l],f=e[l+1];if(u!==f&&(l!==1||u!==e[0]))if(n)c=!0;else{const m=l*i,y=m-i,x=m+i;for(let w=0;w!==i;++w){const S=t[m+w];if(S!==t[y+w]||S!==t[x+w]){c=!0;break}}}if(c){if(l!==a){e[a]=e[l];const m=l*i,y=a*i;for(let x=0;x!==i;++x)t[y+x]=t[m+x]}++a}}if(s>0){e[a]=e[s];for(let l=s*i,c=a*i,u=0;u!==i;++u)t[c+u]=t[l+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,n=new i(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}li.prototype.TimeBufferType=Float32Array;li.prototype.ValueBufferType=Float32Array;li.prototype.DefaultInterpolation=xs;class Vn extends li{constructor(e,t,i){super(e,t,i)}}Vn.prototype.ValueTypeName="bool";Vn.prototype.ValueBufferType=Array;Vn.prototype.DefaultInterpolation=ys;Vn.prototype.InterpolantFactoryMethodLinear=void 0;Vn.prototype.InterpolantFactoryMethodSmooth=void 0;class Fc extends li{}Fc.prototype.ValueTypeName="color";class Dn extends li{}Dn.prototype.ValueTypeName="number";class Uu extends Ts{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e,t,i,n){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=(i-t)/(n-t);let u=e*l;for(let f=u+l;u!==f;u+=4)si.slerpFlat(s,0,a,u-l,a,u,c);return s}}class Bn extends li{InterpolantFactoryMethodLinear(e){return new Uu(this.times,this.values,this.getValueSize(),e)}}Bn.prototype.ValueTypeName="quaternion";Bn.prototype.InterpolantFactoryMethodSmooth=void 0;class Gn extends li{constructor(e,t,i){super(e,t,i)}}Gn.prototype.ValueTypeName="string";Gn.prototype.ValueBufferType=Array;Gn.prototype.DefaultInterpolation=ys;Gn.prototype.InterpolantFactoryMethodLinear=void 0;Gn.prototype.InterpolantFactoryMethodSmooth=void 0;class jn extends li{}jn.prototype.ValueTypeName="vector";class Wu{constructor(e="",t=-1,i=[],n=Vh){this.name=e,this.tracks=i,this.duration=t,this.blendMode=n,this.uuid=Jt(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,n=1/(e.fps||1);for(let a=0,l=i.length;a!==l;++a)t.push(Xu(i[a]).scale(n));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(li.toJSON(i[s]));return n}static CreateFromMorphTargetSequence(e,t,i,n){const s=t.length,a=[];for(let l=0;l<s;l++){let c=[],u=[];c.push((l+s-1)%s,l,(l+1)%s),u.push(0,1,0);const f=ju(c);c=Jl(c,1,f),u=Jl(u,1,f),!n&&c[0]===0&&(c.push(s),u.push(u[0])),a.push(new Dn(".morphTargetInfluences["+t[l].name+"]",c,u).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const n=e;i=n.geometry&&n.geometry.animations||n.animations}for(let n=0;n<i.length;n++)if(i[n].name===t)return i[n];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const n={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const u=e[l],f=u.name.match(s);if(f&&f.length>1){const m=f[1];let y=n[m];y||(n[m]=y=[]),y.push(u)}}const a=[];for(const l in n)a.push(this.CreateFromMorphTargetSequence(l,n[l],t,i));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(m,y,x,w,S){if(x.length!==0){const A=[],E=[];Oc(x,A,E,w),A.length!==0&&S.push(new m(y,A,E))}},n=[],s=e.name||"default",a=e.fps||30,l=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let m=0;m<u.length;m++){const y=u[m].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const x={};let w;for(w=0;w<y.length;w++)if(y[w].morphTargets)for(let S=0;S<y[w].morphTargets.length;S++)x[y[w].morphTargets[S]]=-1;for(const S in x){const A=[],E=[];for(let F=0;F!==y[w].morphTargets.length;++F){const L=y[w];A.push(L.time),E.push(L.morphTarget===S?1:0)}n.push(new Dn(".morphTargetInfluence["+S+"]",A,E))}c=x.length*a}else{const x=".bones["+t[m].name+"]";i(jn,x+".position",y,"pos",n),i(Bn,x+".quaternion",y,"rot",n),i(jn,x+".scale",y,"scl",n)}}return n.length===0?null:new this(s,c,n,l)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,n=e.length;i!==n;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function qu(o){switch(o.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Dn;case"vector":case"vector2":case"vector3":case"vector4":return jn;case"color":return Fc;case"quaternion":return Bn;case"bool":case"boolean":return Vn;case"string":return Gn}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+o)}function Xu(o){if(o.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=qu(o.type);if(o.times===void 0){const t=[],i=[];Oc(o.keys,t,i,"value"),o.times=t,o.values=i}return e.parse!==void 0?e.parse(o):new e(o.name,o.times,o.values,o.interpolation)}const Di={enabled:!1,files:{},add:function(o,e){this.enabled!==!1&&(this.files[o]=e)},get:function(o){if(this.enabled!==!1)return this.files[o]},remove:function(o){delete this.files[o]},clear:function(){this.files={}}};class Yu{constructor(e,t,i){const n=this;let s=!1,a=0,l=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(f){l++,s===!1&&n.onStart!==void 0&&n.onStart(f,a,l),s=!0},this.itemEnd=function(f){a++,n.onProgress!==void 0&&n.onProgress(f,a,l),a===l&&(s=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(f){n.onError!==void 0&&n.onError(f)},this.resolveURL=function(f){return c?c(f):f},this.setURLModifier=function(f){return c=f,this},this.addHandler=function(f,m){return u.push(f,m),this},this.removeHandler=function(f){const m=u.indexOf(f);return m!==-1&&u.splice(m,2),this},this.getHandler=function(f){for(let m=0,y=u.length;m<y;m+=2){const x=u[m],w=u[m+1];if(x.global&&(x.lastIndex=0),x.test(f))return w}return null}}}const $u=new Yu;class Un{constructor(e){this.manager=e!==void 0?e:$u,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(n,s){i.load(e,n,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Un.DEFAULT_MATERIAL_NAME="__DEFAULT";const bi={};class Ku extends Error{constructor(e,t){super(e),this.response=t}}class Dc extends Un{constructor(e){super(e)}load(e,t,i,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Di.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(bi[e]!==void 0){bi[e].push({onLoad:t,onProgress:i,onError:n});return}bi[e]=[],bi[e].push({onLoad:t,onProgress:i,onError:n});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=bi[e],m=u.body.getReader(),y=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),x=y?parseInt(y):0,w=x!==0;let S=0;const A=new ReadableStream({start(E){F();function F(){m.read().then(({done:L,value:N})=>{if(L)E.close();else{S+=N.byteLength;const d=new ProgressEvent("progress",{lengthComputable:w,loaded:S,total:x});for(let W=0,G=f.length;W<G;W++){const q=f[W];q.onProgress&&q.onProgress(d)}E.enqueue(N),F()}},L=>{E.error(L)})}}});return new Response(A)}else throw new Ku(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,l));case"json":return u.json();default:if(l===void 0)return u.text();{const m=/charset="?([^;"\s]*)"?/i.exec(l),y=m&&m[1]?m[1].toLowerCase():void 0,x=new TextDecoder(y);return u.arrayBuffer().then(w=>x.decode(w))}}}).then(u=>{Di.add(e,u);const f=bi[e];delete bi[e];for(let m=0,y=f.length;m<y;m++){const x=f[m];x.onLoad&&x.onLoad(u)}}).catch(u=>{const f=bi[e];if(f===void 0)throw this.manager.itemError(e),u;delete bi[e];for(let m=0,y=f.length;m<y;m++){const x=f[m];x.onError&&x.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Zu extends Un{constructor(e){super(e)}load(e,t,i,n){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Di.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const l=$o("img");function c(){f(),Di.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(m){f(),n&&n(m),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){l.removeEventListener("load",c,!1),l.removeEventListener("error",u,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class Ju extends Un{constructor(e){super(e)}load(e,t,i,n){const s=new Rt,a=new Zu(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(l){s.image=l,s.needsUpdate=!0,t!==void 0&&t(s)},i,n),s}}class Nr extends Oe{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Le(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}const Po=new ye,Ql=new z,ec=new z;class ba{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pe(512,512),this.map=null,this.mapPass=null,this.matrix=new ye,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Cu,this._frameExtents=new pe(1,1),this._viewportCount=1,this._viewports=[new zt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;Ql.setFromMatrixPosition(e.matrixWorld),t.position.copy(Ql),ec.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(ec),t.updateMatrixWorld(),Po.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Po),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Po)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Qu extends ba{constructor(){super(new Lr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=bs*2*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||n!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=n,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class ed extends Nr{constructor(e,t,i=0,n=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Oe.DEFAULT_UP),this.updateMatrix(),this.target=new Oe,this.distance=i,this.angle=n,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new Qu}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const tc=new ye,hs=new z,zo=new z;class td extends ba{constructor(){super(new Lr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pe(4,2),this._viewportCount=6,this._viewports=[new zt(2,1,1,1),new zt(0,1,1,1),new zt(3,1,1,1),new zt(1,1,1,1),new zt(3,0,1,1),new zt(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,n=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),hs.setFromMatrixPosition(e.matrixWorld),i.position.copy(hs),zo.copy(i.position),zo.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(zo),i.updateMatrixWorld(),n.makeTranslation(-hs.x,-hs.y,-hs.z),tc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tc)}}class Or extends Nr{constructor(e,t,i=0,n=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=n,this.shadow=new td}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class id extends ba{constructor(){super(new zc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class nd extends Nr{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Oe.DEFAULT_UP),this.updateMatrix(),this.target=new Oe,this.shadow=new id}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class sd extends Nr{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class ps{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,n=e.length;i<n;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class rd extends Un{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Di.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{t&&t(u),s.manager.itemEnd(e)}).catch(u=>{n&&n(u)});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const c=fetch(e,l).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Di.add(e,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){n&&n(u),Di.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Di.add(e,c),s.manager.itemStart(e)}}const wa="\\[\\]\\.:\\/",od=new RegExp("["+wa+"]","g"),va="[^"+wa+"]",ad="[^"+wa.replace("\\.","")+"]",ld=/((?:WC+[\/:])*)/.source.replace("WC",va),cd=/(WCOD+)?/.source.replace("WCOD",ad),hd=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",va),ud=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",va),dd=new RegExp("^"+ld+cd+hd+ud+"$"),fd=["material","materials","bones","map"];class pd{constructor(e,t,i){const n=i||Ee.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,n=this._bindings[i];n!==void 0&&n.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let n=this._targetGroup.nCachedObjects_,s=i.length;n!==s;++n)i[n].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Ee{constructor(e,t,i){this.path=t,this.parsedPath=i||Ee.parseTrackName(t),this.node=Ee.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Ee.Composite(e,t,i):new Ee(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(od,"")}static parseTrackName(e){const t=dd.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=i.nodeName&&i.nodeName.lastIndexOf(".");if(n!==void 0&&n!==-1){const s=i.nodeName.substring(n+1);fd.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,n),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const l=s[a];if(l.name===t||l.uuid===t)return l;const c=i(l.children);if(c)return c}return null},n=i(e.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let n=0,s=i.length;n!==s;++n)e[t++]=i[n]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let n=0,s=i.length;n!==s;++n)i[n]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let n=0,s=i.length;n!==s;++n)i[n]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let n=0,s=i.length;n!==s;++n)i[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,n=t.propertyName;let s=t.propertyIndex;if(e||(e=Ee.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[n];if(a===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+n+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(n==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=n;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ee.Composite=pd;Ee.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ee.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ee.prototype.GetterByBindingType=[Ee.prototype._getValue_direct,Ee.prototype._getValue_array,Ee.prototype._getValue_arrayElement,Ee.prototype._getValue_toArray];Ee.prototype.SetterByBindingTypeAndVersioning=[[Ee.prototype._setValue_direct,Ee.prototype._setValue_direct_setNeedsUpdate,Ee.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ee.prototype._setValue_array,Ee.prototype._setValue_array_setNeedsUpdate,Ee.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ee.prototype._setValue_arrayElement,Ee.prototype._setValue_arrayElement_setNeedsUpdate,Ee.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ee.prototype._setValue_fromArray,Ee.prototype._setValue_fromArray_setNeedsUpdate,Ee.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];const ic=new ye;class md{constructor(e,t,i=0,n=1/0){this.ray=new Hn(e,t),this.near=i,this.far=n,this.camera=null,this.layers=new Ic,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return ic.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(ic),this}intersectObject(e,t=!0,i=[]){return Jo(e,this,i,t),i.sort(nc),i}intersectObjects(e,t=!0,i=[]){for(let n=0,s=e.length;n<s;n++)Jo(e[n],this,i,t);return i.sort(nc),i}}function nc(o,e){return o.distance-e.distance}function Jo(o,e,t,i){let n=!0;if(o.layers.test(e.layers)&&o.raycast(e,t)===!1&&(n=!1),n===!0&&i===!0){const s=o.children;for(let a=0,l=s.length;a<l;a++)Jo(s[a],e,t,!0)}}class sc{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Ke(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class gd extends Cr{constructor(e=10,t=10,i=4473924,n=8947848){i=new Le(i),n=new Le(n);const s=t/2,a=e/t,l=e/2,c=[],u=[];for(let y=0,x=0,w=-l;y<=t;y++,w+=a){c.push(-l,0,w,l,0,w),c.push(w,0,-l,w,0,l);const S=y===s?i:n;S.toArray(u,x),x+=3,S.toArray(u,x),x+=3,S.toArray(u,x),x+=3,S.toArray(u,x),x+=3}const f=new Nt;f.setAttribute("position",new Xe(c,3)),f.setAttribute("color",new Xe(u,3));const m=new ws({vertexColors:!0,toneMapped:!1});super(f,m),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Tc}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Tc);const rc={type:"change"},Ro={type:"start"},oc={type:"end"},yr=new Hn,ac=new sn,yd=Math.cos(70*lt.DEG2RAD);class xd extends vs{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new z,this.cursor=new z,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:mn.ROTATE,MIDDLE:mn.DOLLY,RIGHT:mn.PAN},this.touches={ONE:gn.ROTATE,TWO:gn.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(k){k.addEventListener("keydown",Ft),this._domElementKeyEvents=k},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Ft),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(rc),i.update(),s=n.NONE},this.update=function(){const k=new z,ee=new si().setFromUnitVectors(e.up,new z(0,1,0)),fe=ee.clone().invert(),we=new z,Ne=new si,ei=new z,Je=2*Math.PI;return function(Vr=null){const Ps=i.object.position;k.copy(Ps).sub(i.target),k.applyQuaternion(ee),l.setFromVector3(k),i.autoRotate&&s===n.NONE&&J(X(Vr)),i.enableDamping?(l.theta+=c.theta*i.dampingFactor,l.phi+=c.phi*i.dampingFactor):(l.theta+=c.theta,l.phi+=c.phi);let Dt=i.minAzimuthAngle,Ct=i.maxAzimuthAngle;isFinite(Dt)&&isFinite(Ct)&&(Dt<-Math.PI?Dt+=Je:Dt>Math.PI&&(Dt-=Je),Ct<-Math.PI?Ct+=Je:Ct>Math.PI&&(Ct-=Je),Dt<=Ct?l.theta=Math.max(Dt,Math.min(Ct,l.theta)):l.theta=l.theta>(Dt+Ct)/2?Math.max(Dt,l.theta):Math.min(Ct,l.theta)),l.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,l.phi)),l.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(f,i.dampingFactor):i.target.add(f),i.target.sub(i.cursor),i.target.clampLength(i.minTargetRadius,i.maxTargetRadius),i.target.add(i.cursor);let Xi=!1;if(i.zoomToCursor&&W||i.object.isOrthographicCamera)l.radius=Se(l.radius);else{const Bt=l.radius;l.radius=Se(l.radius*u),Xi=Bt!=l.radius}if(k.setFromSpherical(l),k.applyQuaternion(fe),Ps.copy(i.target).add(k),i.object.lookAt(i.target),i.enableDamping===!0?(c.theta*=1-i.dampingFactor,c.phi*=1-i.dampingFactor,f.multiplyScalar(1-i.dampingFactor)):(c.set(0,0,0),f.set(0,0,0)),i.zoomToCursor&&W){let Bt=null;if(i.object.isPerspectiveCamera){const Ii=k.length();Bt=Se(Ii*u);const jt=Ii-Bt;i.object.position.addScaledVector(N,jt),i.object.updateMatrixWorld(),Xi=!!jt}else if(i.object.isOrthographicCamera){const Ii=new z(d.x,d.y,0);Ii.unproject(i.object);const jt=i.object.zoom;i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/u)),i.object.updateProjectionMatrix(),Xi=jt!==i.object.zoom;const $n=new z(d.x,d.y,0);$n.unproject(i.object),i.object.position.sub($n).add(Ii),i.object.updateMatrixWorld(),Bt=k.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Bt!==null&&(this.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Bt).add(i.object.position):(yr.origin.copy(i.object.position),yr.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(yr.direction))<yd?e.lookAt(i.target):(ac.setFromNormalAndCoplanarPoint(i.object.up,i.target),yr.intersectPlane(ac,i.target))))}else if(i.object.isOrthographicCamera){const Bt=i.object.zoom;i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/u)),Bt!==i.object.zoom&&(i.object.updateProjectionMatrix(),Xi=!0)}return u=1,W=!1,Xi||we.distanceToSquared(i.object.position)>a||8*(1-Ne.dot(i.object.quaternion))>a||ei.distanceToSquared(i.target)>a?(i.dispatchEvent(rc),we.copy(i.object.position),Ne.copy(i.object.quaternion),ei.copy(i.target),!0):!1}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",Xn),i.domElement.removeEventListener("pointerdown",Ei),i.domElement.removeEventListener("pointercancel",ft),i.domElement.removeEventListener("wheel",Ui),i.domElement.removeEventListener("pointermove",dt),i.domElement.removeEventListener("pointerup",ft),i.domElement.getRootNode().removeEventListener("keydown",qn,{capture:!0}),i._domElementKeyEvents!==null&&(i._domElementKeyEvents.removeEventListener("keydown",Ft),i._domElementKeyEvents=null)};const i=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=n.NONE;const a=1e-6,l=new sc,c=new sc;let u=1;const f=new z,m=new pe,y=new pe,x=new pe,w=new pe,S=new pe,A=new pe,E=new pe,F=new pe,L=new pe,N=new z,d=new pe;let W=!1;const G=[],q={};let ne=!1;function X(k){return k!==null?2*Math.PI/60*i.autoRotateSpeed*k:2*Math.PI/60/60*i.autoRotateSpeed}function $(k){const ee=Math.abs(k*.01);return Math.pow(.95,i.zoomSpeed*ee)}function J(k){c.theta-=k}function K(k){c.phi-=k}const oe=function(){const k=new z;return function(fe,we){k.setFromMatrixColumn(we,0),k.multiplyScalar(-fe),f.add(k)}}(),ge=function(){const k=new z;return function(fe,we){i.screenSpacePanning===!0?k.setFromMatrixColumn(we,1):(k.setFromMatrixColumn(we,0),k.crossVectors(i.object.up,k)),k.multiplyScalar(fe),f.add(k)}}(),Me=function(){const k=new z;return function(fe,we){const Ne=i.domElement;if(i.object.isPerspectiveCamera){const ei=i.object.position;k.copy(ei).sub(i.target);let Je=k.length();Je*=Math.tan(i.object.fov/2*Math.PI/180),oe(2*fe*Je/Ne.clientHeight,i.object.matrix),ge(2*we*Je/Ne.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(oe(fe*(i.object.right-i.object.left)/i.object.zoom/Ne.clientWidth,i.object.matrix),ge(we*(i.object.top-i.object.bottom)/i.object.zoom/Ne.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function it(k){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?u/=k:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function Ye(k){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?u*=k:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function xe(k,ee){if(!i.zoomToCursor)return;W=!0;const fe=i.domElement.getBoundingClientRect(),we=k-fe.left,Ne=ee-fe.top,ei=fe.width,Je=fe.height;d.x=we/ei*2-1,d.y=-(Ne/Je)*2+1,N.set(d.x,d.y,1).unproject(i.object).sub(i.object.position).normalize()}function Se(k){return Math.max(i.minDistance,Math.min(i.maxDistance,k))}function ke(k){m.set(k.clientX,k.clientY)}function ht(k){xe(k.clientX,k.clientX),E.set(k.clientX,k.clientY)}function ci(k){w.set(k.clientX,k.clientY)}function Vi(k){y.set(k.clientX,k.clientY),x.subVectors(y,m).multiplyScalar(i.rotateSpeed);const ee=i.domElement;J(2*Math.PI*x.x/ee.clientHeight),K(2*Math.PI*x.y/ee.clientHeight),m.copy(y),i.update()}function hi(k){F.set(k.clientX,k.clientY),L.subVectors(F,E),L.y>0?it($(L.y)):L.y<0&&Ye($(L.y)),E.copy(F),i.update()}function Ot(k){S.set(k.clientX,k.clientY),A.subVectors(S,w).multiplyScalar(i.panSpeed),Me(A.x,A.y),w.copy(S),i.update()}function Dr(k){xe(k.clientX,k.clientY),k.deltaY<0?Ye($(k.deltaY)):k.deltaY>0&&it($(k.deltaY)),i.update()}function Br(k){let ee=!1;switch(k.code){case i.keys.UP:k.ctrlKey||k.metaKey||k.shiftKey?K(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):Me(0,i.keyPanSpeed),ee=!0;break;case i.keys.BOTTOM:k.ctrlKey||k.metaKey||k.shiftKey?K(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):Me(0,-i.keyPanSpeed),ee=!0;break;case i.keys.LEFT:k.ctrlKey||k.metaKey||k.shiftKey?J(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):Me(i.keyPanSpeed,0),ee=!0;break;case i.keys.RIGHT:k.ctrlKey||k.metaKey||k.shiftKey?J(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):Me(-i.keyPanSpeed,0),ee=!0;break}ee&&(k.preventDefault(),i.update())}function Ss(k){if(G.length===1)m.set(k.pageX,k.pageY);else{const ee=Ci(k),fe=.5*(k.pageX+ee.x),we=.5*(k.pageY+ee.y);m.set(fe,we)}}function ut(k){if(G.length===1)w.set(k.pageX,k.pageY);else{const ee=Ci(k),fe=.5*(k.pageX+ee.x),we=.5*(k.pageY+ee.y);w.set(fe,we)}}function Ai(k){const ee=Ci(k),fe=k.pageX-ee.x,we=k.pageY-ee.y,Ne=Math.sqrt(fe*fe+we*we);E.set(0,Ne)}function Gi(k){i.enableZoom&&Ai(k),i.enablePan&&ut(k)}function re(k){i.enableZoom&&Ai(k),i.enableRotate&&Ss(k)}function $e(k){if(G.length==1)y.set(k.pageX,k.pageY);else{const fe=Ci(k),we=.5*(k.pageX+fe.x),Ne=.5*(k.pageY+fe.y);y.set(we,Ne)}x.subVectors(y,m).multiplyScalar(i.rotateSpeed);const ee=i.domElement;J(2*Math.PI*x.x/ee.clientHeight),K(2*Math.PI*x.y/ee.clientHeight),m.copy(y)}function As(k){if(G.length===1)S.set(k.pageX,k.pageY);else{const ee=Ci(k),fe=.5*(k.pageX+ee.x),we=.5*(k.pageY+ee.y);S.set(fe,we)}A.subVectors(S,w).multiplyScalar(i.panSpeed),Me(A.x,A.y),w.copy(S)}function Es(k){const ee=Ci(k),fe=k.pageX-ee.x,we=k.pageY-ee.y,Ne=Math.sqrt(fe*fe+we*we);F.set(0,Ne),L.set(0,Math.pow(F.y/E.y,i.zoomSpeed)),it(L.y),E.copy(F);const ei=(k.pageX+ee.x)*.5,Je=(k.pageY+ee.y)*.5;xe(ei,Je)}function _s(k){i.enableZoom&&Es(k),i.enablePan&&As(k)}function Cs(k){i.enableZoom&&Es(k),i.enableRotate&&$e(k)}function Ei(k){i.enabled!==!1&&(G.length===0&&(i.domElement.setPointerCapture(k.pointerId),i.domElement.addEventListener("pointermove",dt),i.domElement.addEventListener("pointerup",ft)),!Ze(k)&&(ks(k),k.pointerType==="touch"?Wi(k):_i(k)))}function dt(k){i.enabled!==!1&&(k.pointerType==="touch"?qi(k):jr(k))}function ft(k){switch(rt(k),G.length){case 0:i.domElement.releasePointerCapture(k.pointerId),i.domElement.removeEventListener("pointermove",dt),i.domElement.removeEventListener("pointerup",ft),i.dispatchEvent(oc),s=n.NONE;break;case 1:const ee=G[0],fe=q[ee];Wi({pointerId:ee,pageX:fe.x,pageY:fe.y});break}}function _i(k){let ee;switch(k.button){case 0:ee=i.mouseButtons.LEFT;break;case 1:ee=i.mouseButtons.MIDDLE;break;case 2:ee=i.mouseButtons.RIGHT;break;default:ee=-1}switch(ee){case mn.DOLLY:if(i.enableZoom===!1)return;ht(k),s=n.DOLLY;break;case mn.ROTATE:if(k.ctrlKey||k.metaKey||k.shiftKey){if(i.enablePan===!1)return;ci(k),s=n.PAN}else{if(i.enableRotate===!1)return;ke(k),s=n.ROTATE}break;case mn.PAN:if(k.ctrlKey||k.metaKey||k.shiftKey){if(i.enableRotate===!1)return;ke(k),s=n.ROTATE}else{if(i.enablePan===!1)return;ci(k),s=n.PAN}break;default:s=n.NONE}s!==n.NONE&&i.dispatchEvent(Ro)}function jr(k){switch(s){case n.ROTATE:if(i.enableRotate===!1)return;Vi(k);break;case n.DOLLY:if(i.enableZoom===!1)return;hi(k);break;case n.PAN:if(i.enablePan===!1)return;Ot(k);break}}function Ui(k){i.enabled===!1||i.enableZoom===!1||s!==n.NONE||(k.preventDefault(),i.dispatchEvent(Ro),Dr(Is(k)),i.dispatchEvent(oc))}function Is(k){const ee=k.deltaMode,fe={clientX:k.clientX,clientY:k.clientY,deltaY:k.deltaY};switch(ee){case 1:fe.deltaY*=16;break;case 2:fe.deltaY*=100;break}return k.ctrlKey&&!ne&&(fe.deltaY*=10),fe}function qn(k){k.key==="Control"&&(ne=!0,i.domElement.getRootNode().addEventListener("keyup",ui,{passive:!0,capture:!0}))}function ui(k){k.key==="Control"&&(ne=!1,i.domElement.getRootNode().removeEventListener("keyup",ui,{passive:!0,capture:!0}))}function Ft(k){i.enabled===!1||i.enablePan===!1||Br(k)}function Wi(k){switch(cn(k),G.length){case 1:switch(i.touches.ONE){case gn.ROTATE:if(i.enableRotate===!1)return;Ss(k),s=n.TOUCH_ROTATE;break;case gn.PAN:if(i.enablePan===!1)return;ut(k),s=n.TOUCH_PAN;break;default:s=n.NONE}break;case 2:switch(i.touches.TWO){case gn.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Gi(k),s=n.TOUCH_DOLLY_PAN;break;case gn.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;re(k),s=n.TOUCH_DOLLY_ROTATE;break;default:s=n.NONE}break;default:s=n.NONE}s!==n.NONE&&i.dispatchEvent(Ro)}function qi(k){switch(cn(k),s){case n.TOUCH_ROTATE:if(i.enableRotate===!1)return;$e(k),i.update();break;case n.TOUCH_PAN:if(i.enablePan===!1)return;As(k),i.update();break;case n.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;_s(k),i.update();break;case n.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Cs(k),i.update();break;default:s=n.NONE}}function Xn(k){i.enabled!==!1&&k.preventDefault()}function ks(k){G.push(k.pointerId)}function rt(k){delete q[k.pointerId];for(let ee=0;ee<G.length;ee++)if(G[ee]==k.pointerId){G.splice(ee,1);return}}function Ze(k){for(let ee=0;ee<G.length;ee++)if(G[ee]==k.pointerId)return!0;return!1}function cn(k){let ee=q[k.pointerId];ee===void 0&&(ee=new pe,q[k.pointerId]=ee),ee.set(k.pageX,k.pageY)}function Ci(k){const ee=k.pointerId===G[0]?G[1]:G[0];return q[ee]}i.domElement.addEventListener("contextmenu",Xn),i.domElement.addEventListener("pointerdown",Ei),i.domElement.addEventListener("pointercancel",ft),i.domElement.addEventListener("wheel",Ui,{passive:!1}),i.domElement.getRootNode().addEventListener("keydown",qn,{passive:!0,capture:!0}),this.update()}}function lc(o,e){if(e===Gh)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),o;if(e===Wo||e===Ac){let t=o.getIndex();if(t===null){const a=[],l=o.getAttribute("position");if(l!==void 0){for(let c=0;c<l.count;c++)a.push(c);o.setIndex(a),t=o.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),o}const i=t.count-2,n=[];if(e===Wo)for(let a=1;a<=i;a++)n.push(t.getX(0)),n.push(t.getX(a)),n.push(t.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(n.push(t.getX(a)),n.push(t.getX(a+1)),n.push(t.getX(a+2))):(n.push(t.getX(a+2)),n.push(t.getX(a+1)),n.push(t.getX(a)));n.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=o.clone();return s.setIndex(n),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),o}class bd extends Un{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Sd(t)}),this.register(function(t){return new Ad(t)}),this.register(function(t){return new Ld(t)}),this.register(function(t){return new Nd(t)}),this.register(function(t){return new Od(t)}),this.register(function(t){return new _d(t)}),this.register(function(t){return new Cd(t)}),this.register(function(t){return new Id(t)}),this.register(function(t){return new kd(t)}),this.register(function(t){return new Md(t)}),this.register(function(t){return new Pd(t)}),this.register(function(t){return new Ed(t)}),this.register(function(t){return new Rd(t)}),this.register(function(t){return new zd(t)}),this.register(function(t){return new vd(t)}),this.register(function(t){return new Fd(t)}),this.register(function(t){return new Dd(t)})}load(e,t,i,n){const s=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const u=ps.extractUrlBase(e);a=ps.resolveURL(u,this.path)}else a=ps.extractUrlBase(e);this.manager.itemStart(e);const l=function(u){n?n(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},c=new Dc(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(u){try{s.parse(u,a,function(f){t(f),s.manager.itemEnd(e)},l)}catch(f){l(f)}},i,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,n){let s;const a={},l={},c=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(c.decode(new Uint8Array(e,0,4))===Bc){try{a[me.KHR_BINARY_GLTF]=new Bd(e)}catch(m){n&&n(m);return}s=JSON.parse(a[me.KHR_BINARY_GLTF].content)}else s=JSON.parse(c.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){n&&n(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new Jd(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const m=this.pluginCallbacks[f](u);m.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[m.name]=m,a[m.name]=!0}if(s.extensionsUsed)for(let f=0;f<s.extensionsUsed.length;++f){const m=s.extensionsUsed[f],y=s.extensionsRequired||[];switch(m){case me.KHR_MATERIALS_UNLIT:a[m]=new Td;break;case me.KHR_DRACO_MESH_COMPRESSION:a[m]=new jd(s,this.dracoLoader);break;case me.KHR_TEXTURE_TRANSFORM:a[m]=new Hd;break;case me.KHR_MESH_QUANTIZATION:a[m]=new Vd;break;default:y.indexOf(m)>=0&&l[m]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+m+'".')}}u.setExtensions(a),u.setPlugins(l),u.parse(i,n)}parseAsync(e,t){const i=this;return new Promise(function(n,s){i.parse(e,t,n,s)})}}function wd(){let o={};return{get:function(e){return o[e]},add:function(e,t){o[e]=t},remove:function(e){delete o[e]},removeAll:function(){o={}}}}const me={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class vd{constructor(e){this.parser=e,this.name=me.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,n=t.length;i<n;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let n=t.cache.get(i);if(n)return n;const s=t.json,c=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const f=new Le(16777215);c.color!==void 0&&f.setRGB(c.color[0],c.color[1],c.color[2],Lt);const m=c.range!==void 0?c.range:0;switch(c.type){case"directional":u=new nd(f),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new Or(f),u.distance=m;break;case"spot":u=new ed(f),u.distance=m,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,u.angle=c.spot.outerConeAngle,u.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return u.position.set(0,0,0),u.decay=2,vi(u,c),c.intensity!==void 0&&(u.intensity=c.intensity),u.name=t.createUniqueName(c.name||"light_"+e),n=Promise.resolve(u),t.cache.add(i,n),n}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],l=(s.extensions&&s.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(c){return i._getNodeRef(t.cache,l,c)})}}class Td{constructor(){this.name=me.KHR_MATERIALS_UNLIT}getMaterialType(){return ni}extendParams(e,t,i){const n=[];e.color=new Le(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],Lt),e.opacity=a[3]}s.baseColorTexture!==void 0&&n.push(i.assignTexture(e,"map",s.baseColorTexture,St))}return Promise.all(n)}}class Md{constructor(e){this.parser=e,this.name=me.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=n.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Sd{constructor(e){this.parser=e,this.name=me.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ai}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];if(a.clearcoatFactor!==void 0&&(t.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const l=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new pe(l,l)}return Promise.all(s)}}class Ad{constructor(e){this.parser=e,this.name=me.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ai}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=n.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Ed{constructor(e){this.parser=e,this.name=me.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ai}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];return a.iridescenceFactor!==void 0&&(t.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(t.iridescenceIOR=a.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}}class _d{constructor(e){this.parser=e,this.name=me.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ai}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new Le(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=n.extensions[this.name];if(a.sheenColorFactor!==void 0){const l=a.sheenColorFactor;t.sheenColor.setRGB(l[0],l[1],l[2],Lt)}return a.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",a.sheenColorTexture,St)),a.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class Cd{constructor(e){this.parser=e,this.name=me.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ai}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];return a.transmissionFactor!==void 0&&(t.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class Id{constructor(e){this.parser=e,this.name=me.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ai}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];t.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const l=a.attenuationColor||[1,1,1];return t.attenuationColor=new Le().setRGB(l[0],l[1],l[2],Lt),Promise.all(s)}}class kd{constructor(e){this.parser=e,this.name=me.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ai}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=n.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Pd{constructor(e){this.parser=e,this.name=me.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ai}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];t.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",a.specularTexture));const l=a.specularColorFactor||[1,1,1];return t.specularColor=new Le().setRGB(l[0],l[1],l[2],Lt),a.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",a.specularColorTexture,St)),Promise.all(s)}}class zd{constructor(e){this.parser=e,this.name=me.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ai}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];return t.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",a.bumpTexture)),Promise.all(s)}}class Rd{constructor(e){this.parser=e,this.name=me.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:ai}extendMaterialParams(e,t){const i=this.parser,n=i.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const s=[],a=n.extensions[this.name];return a.anisotropyStrength!==void 0&&(t.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(t.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class Ld{constructor(e){this.parser=e,this.name=me.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,n=i.textures[e];if(!n.extensions||!n.extensions[this.name])return null;const s=n.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,a)}}class Nd{constructor(e){this.parser=e,this.name=me.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,n=i.json,s=n.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],l=n.images[a.source];let c=i.textureLoader;if(l.uri){const u=i.options.manager.getHandler(l.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,a.source,c);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Od{constructor(e){this.parser=e,this.name=me.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,n=i.json,s=n.textures[e];if(!s.extensions||!s.extensions[t])return null;const a=s.extensions[t],l=n.images[a.source];let c=i.textureLoader;if(l.uri){const u=i.options.manager.getHandler(l.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return i.loadTextureImage(e,a.source,c);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Fd{constructor(e){this.name=me.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const n=i.extensions[this.name],s=this.parser.getDependency("buffer",n.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(l){const c=n.byteOffset||0,u=n.byteLength||0,f=n.count,m=n.byteStride,y=new Uint8Array(l,c,u);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(f,m,y,n.mode,n.filter).then(function(x){return x.buffer}):a.ready.then(function(){const x=new ArrayBuffer(f*m);return a.decodeGltfBuffer(new Uint8Array(x),f,m,y,n.mode,n.filter),x})})}else return null}}class Dd{constructor(e){this.name=me.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const n=t.meshes[i.mesh];for(const u of n.primitives)if(u.mode!==Pt.TRIANGLES&&u.mode!==Pt.TRIANGLE_STRIP&&u.mode!==Pt.TRIANGLE_FAN&&u.mode!==void 0)return null;const a=i.extensions[this.name].attributes,l=[],c={};for(const u in a)l.push(this.parser.getDependency("accessor",a[u]).then(f=>(c[u]=f,c[u])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(u=>{const f=u.pop(),m=f.isGroup?f.children:[f],y=u[0].count,x=[];for(const w of m){const S=new ye,A=new z,E=new si,F=new z(1,1,1),L=new Nu(w.geometry,w.material,y);for(let N=0;N<y;N++)c.TRANSLATION&&A.fromBufferAttribute(c.TRANSLATION,N),c.ROTATION&&E.fromBufferAttribute(c.ROTATION,N),c.SCALE&&F.fromBufferAttribute(c.SCALE,N),L.setMatrixAt(N,S.compose(A,E,F));for(const N in c)if(N==="_COLOR_0"){const d=c[N];L.instanceColor=new Ko(d.array,d.itemSize,d.normalized)}else N!=="TRANSLATION"&&N!=="ROTATION"&&N!=="SCALE"&&w.geometry.setAttribute(N,c[N]);Oe.prototype.copy.call(L,w),this.parser.assignFinalMaterial(L),x.push(L)}return f.isGroup?(f.clear(),f.add(...x),f):x[0]}))}}const Bc="glTF",us=12,cc={JSON:1313821514,BIN:5130562};class Bd{constructor(e){this.name=me.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,us),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Bc)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-us,s=new DataView(e,us);let a=0;for(;a<n;){const l=s.getUint32(a,!0);a+=4;const c=s.getUint32(a,!0);if(a+=4,c===cc.JSON){const u=new Uint8Array(e,us+a,l);this.content=i.decode(u)}else if(c===cc.BIN){const u=us+a;this.body=e.slice(u,u+l)}a+=l}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class jd{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=me.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,n=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,l={},c={},u={};for(const f in a){const m=Qo[f]||f.toLowerCase();l[m]=a[f]}for(const f in e.attributes){const m=Qo[f]||f.toLowerCase();if(a[f]!==void 0){const y=i.accessors[e.attributes[f]],x=Fn[y.componentType];u[m]=x.name,c[m]=y.normalized===!0}}return t.getDependency("bufferView",s).then(function(f){return new Promise(function(m,y){n.decodeDracoFile(f,function(x){for(const w in x.attributes){const S=x.attributes[w],A=c[w];A!==void 0&&(S.normalized=A)}m(x)},l,u,Lt,y)})})}}class Hd{constructor(){this.name=me.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Vd{constructor(){this.name=me.KHR_MESH_QUANTIZATION}}class jc extends Ts{constructor(e,t,i,n){super(e,t,i,n)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,n=this.valueSize,s=e*n*3+n;for(let a=0;a!==n;a++)t[a]=i[s+a];return t}interpolate_(e,t,i,n){const s=this.resultBuffer,a=this.sampleValues,l=this.valueSize,c=l*2,u=l*3,f=n-t,m=(i-t)/f,y=m*m,x=y*m,w=e*u,S=w-u,A=-2*x+3*y,E=x-y,F=1-A,L=E-y+m;for(let N=0;N!==l;N++){const d=a[S+N+l],W=a[S+N+c]*f,G=a[w+N+l],q=a[w+N]*f;s[N]=F*d+L*W+A*G+E*q}return s}}const Gd=new si;class Ud extends jc{interpolate_(e,t,i,n){const s=super.interpolate_(e,t,i,n);return Gd.fromArray(s).normalize().toArray(s),s}}const Pt={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Fn={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},hc={9728:Ar,9729:oa,9984:Fh,9985:Bh,9986:Dh,9987:aa},uc={33071:ds,33648:Uo,10497:an},Lo={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Qo={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Oi={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Wd={CUBICSPLINE:void 0,LINEAR:xs,STEP:ys},No={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function qd(o){return o.DefaultMaterial===void 0&&(o.DefaultMaterial=new xa({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Sr})),o.DefaultMaterial}function nn(o,e,t){for(const i in t.extensions)o[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function vi(o,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(o.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Xd(o,e,t){let i=!1,n=!1,s=!1;for(let u=0,f=e.length;u<f;u++){const m=e[u];if(m.POSITION!==void 0&&(i=!0),m.NORMAL!==void 0&&(n=!0),m.COLOR_0!==void 0&&(s=!0),i&&n&&s)break}if(!i&&!n&&!s)return Promise.resolve(o);const a=[],l=[],c=[];for(let u=0,f=e.length;u<f;u++){const m=e[u];if(i){const y=m.POSITION!==void 0?t.getDependency("accessor",m.POSITION):o.attributes.position;a.push(y)}if(n){const y=m.NORMAL!==void 0?t.getDependency("accessor",m.NORMAL):o.attributes.normal;l.push(y)}if(s){const y=m.COLOR_0!==void 0?t.getDependency("accessor",m.COLOR_0):o.attributes.color;c.push(y)}}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const f=u[0],m=u[1],y=u[2];return i&&(o.morphAttributes.position=f),n&&(o.morphAttributes.normal=m),s&&(o.morphAttributes.color=y),o.morphTargetsRelative=!0,o})}function Yd(o,e){if(o.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)o.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(o.morphTargetInfluences.length===t.length){o.morphTargetDictionary={};for(let i=0,n=t.length;i<n;i++)o.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function $d(o){let e;const t=o.extensions&&o.extensions[me.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+Oo(t.attributes):e=o.indices+":"+Oo(o.attributes)+":"+o.mode,o.targets!==void 0)for(let i=0,n=o.targets.length;i<n;i++)e+=":"+Oo(o.targets[i]);return e}function Oo(o){let e="";const t=Object.keys(o).sort();for(let i=0,n=t.length;i<n;i++)e+=t[i]+":"+o[t[i]]+";";return e}function ea(o){switch(o){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Kd(o){return o.search(/\.jpe?g($|\?)/i)>0||o.search(/^data\:image\/jpeg/)===0?"image/jpeg":o.search(/\.webp($|\?)/i)>0||o.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Zd=new ye;class Jd{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new wd,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,n=-1,s=!1,a=-1;if(typeof navigator<"u"){const l=navigator.userAgent;i=/^((?!chrome|android).)*safari/i.test(l)===!0;const c=l.match(/Version\/(\d+)/);n=i&&c?parseInt(c[1],10):-1,s=l.indexOf("Firefox")>-1,a=s?l.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||i&&n<17||s&&a<98?this.textureLoader=new Ju(this.options.manager):this.textureLoader=new rd(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Dc(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,n=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const l={scene:a[0][n.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:n.asset,parser:i,userData:{}};return nn(s,l,n),vi(l,n),Promise.all(i._invokeAll(function(c){return c.afterRoot&&c.afterRoot(l)})).then(function(){for(const c of l.scenes)c.updateMatrixWorld();e(l)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let n=0,s=t.length;n<s;n++){const a=t[n].joints;for(let l=0,c=a.length;l<c;l++)e[a[l]].isBone=!0}for(let n=0,s=e.length;n<s;n++){const a=e[n];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(i[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const n=i.clone(),s=(a,l)=>{const c=this.associations.get(a);c!=null&&this.associations.set(l,c);for(const[u,f]of a.children.entries())s(f,l.children[u])};return s(i,n),n.name+="_instance_"+e.uses[t]++,n}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const n=e(t[i]);if(n)return n}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let n=0;n<t.length;n++){const s=e(t[n]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let n=this.cache.get(i);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":n=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":n=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":n=this.loadSkin(t);break;case"animation":n=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":n=this.loadCamera(t);break;default:if(n=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!n)throw new Error("Unknown type: "+e);break}this.cache.add(i,n)}return n}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,n=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(n.map(function(s,a){return i.getDependency(e,a)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[me.KHR_BINARY_GLTF].body);const n=this.options;return new Promise(function(s,a){i.load(ps.resolveURL(t.uri,n.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const n=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+n)})}loadAccessor(e){const t=this,i=this.json,n=this.json.accessors[e];if(n.bufferView===void 0&&n.sparse===void 0){const a=Lo[n.type],l=Fn[n.componentType],c=n.normalized===!0,u=new l(n.count*a);return Promise.resolve(new Qt(u,a,c))}const s=[];return n.bufferView!==void 0?s.push(this.getDependency("bufferView",n.bufferView)):s.push(null),n.sparse!==void 0&&(s.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(s).then(function(a){const l=a[0],c=Lo[n.type],u=Fn[n.componentType],f=u.BYTES_PER_ELEMENT,m=f*c,y=n.byteOffset||0,x=n.bufferView!==void 0?i.bufferViews[n.bufferView].byteStride:void 0,w=n.normalized===!0;let S,A;if(x&&x!==m){const E=Math.floor(y/x),F="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+E+":"+n.count;let L=t.cache.get(F);L||(S=new u(l,E*x,n.count*x/f),L=new ku(S,x/f),t.cache.add(F,L)),A=new da(L,c,y%x/f,w)}else l===null?S=new u(n.count*c):S=new u(l,y,n.count*c),A=new Qt(S,c,w);if(n.sparse!==void 0){const E=Lo.SCALAR,F=Fn[n.sparse.indices.componentType],L=n.sparse.indices.byteOffset||0,N=n.sparse.values.byteOffset||0,d=new F(a[1],L,n.sparse.count*E),W=new u(a[2],N,n.sparse.count*c);l!==null&&(A=new Qt(A.array.slice(),A.itemSize,A.normalized));for(let G=0,q=d.length;G<q;G++){const ne=d[G];if(A.setX(ne,W[G*c]),c>=2&&A.setY(ne,W[G*c+1]),c>=3&&A.setZ(ne,W[G*c+2]),c>=4&&A.setW(ne,W[G*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,a=t.images[s];let l=this.textureLoader;if(a.uri){const c=i.manager.getHandler(a.uri);c!==null&&(l=c)}return this.loadTextureImage(e,s,l)}loadTextureImage(e,t,i){const n=this,s=this.json,a=s.textures[e],l=s.images[t],c=(l.uri||l.bufferView)+":"+a.sampler;if(this.textureCache[c])return this.textureCache[c];const u=this.loadImageSource(t,i).then(function(f){f.flipY=!1,f.name=a.name||l.name||"",f.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(f.name=l.uri);const y=(s.samplers||{})[a.sampler]||{};return f.magFilter=hc[y.magFilter]||oa,f.minFilter=hc[y.minFilter]||aa,f.wrapS=uc[y.wrapS]||an,f.wrapT=uc[y.wrapT]||an,n.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[c]=u,u}loadImageSource(e,t){const i=this,n=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(m=>m.clone());const a=n.images[e],l=self.URL||self.webkitURL;let c=a.uri||"",u=!1;if(a.bufferView!==void 0)c=i.getDependency("bufferView",a.bufferView).then(function(m){u=!0;const y=new Blob([m],{type:a.mimeType});return c=l.createObjectURL(y),c});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(c).then(function(m){return new Promise(function(y,x){let w=y;t.isImageBitmapLoader===!0&&(w=function(S){const A=new Rt(S);A.needsUpdate=!0,y(A)}),t.load(ps.resolveURL(m,s.path),w,void 0,x)})}).then(function(m){return u===!0&&l.revokeObjectURL(c),vi(m,a),m.userData.mimeType=a.mimeType||Kd(a.uri),m}).catch(function(m){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),m});return this.sourceCache[e]=f,f}assignTexture(e,t,i,n){const s=this;return this.getDependency("texture",i.index).then(function(a){if(!a)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(a=a.clone(),a.channel=i.texCoord),s.extensions[me.KHR_TEXTURE_TRANSFORM]){const l=i.extensions!==void 0?i.extensions[me.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const c=s.associations.get(a);a=s.extensions[me.KHR_TEXTURE_TRANSFORM].extendTexture(a,l),s.associations.set(a,c)}}return n!==void 0&&(a.colorSpace=n),e[t]=a,a})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const n=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,a=t.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+i.uuid;let c=this.cache.get(l);c||(c=new Nc,on.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,c.sizeAttenuation=!1,this.cache.add(l,c)),i=c}else if(e.isLine){const l="LineBasicMaterial:"+i.uuid;let c=this.cache.get(l);c||(c=new ws,on.prototype.copy.call(c,i),c.color.copy(i.color),c.map=i.map,this.cache.add(l,c)),i=c}if(n||s||a){let l="ClonedMaterial:"+i.uuid+":";n&&(l+="derivative-tangents:"),s&&(l+="vertex-colors:"),a&&(l+="flat-shading:");let c=this.cache.get(l);c||(c=i.clone(),s&&(c.vertexColors=!0),a&&(c.flatShading=!0),n&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(l,c),this.associations.set(c,this.associations.get(i))),i=c}e.material=i}getMaterialType(){return xa}loadMaterial(e){const t=this,i=this.json,n=this.extensions,s=i.materials[e];let a;const l={},c=s.extensions||{},u=[];if(c[me.KHR_MATERIALS_UNLIT]){const m=n[me.KHR_MATERIALS_UNLIT];a=m.getMaterialType(),u.push(m.extendParams(l,s,t))}else{const m=s.pbrMetallicRoughness||{};if(l.color=new Le(1,1,1),l.opacity=1,Array.isArray(m.baseColorFactor)){const y=m.baseColorFactor;l.color.setRGB(y[0],y[1],y[2],Lt),l.opacity=y[3]}m.baseColorTexture!==void 0&&u.push(t.assignTexture(l,"map",m.baseColorTexture,St)),l.metalness=m.metallicFactor!==void 0?m.metallicFactor:1,l.roughness=m.roughnessFactor!==void 0?m.roughnessFactor:1,m.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(l,"metalnessMap",m.metallicRoughnessTexture)),u.push(t.assignTexture(l,"roughnessMap",m.metallicRoughnessTexture))),a=this._invokeOne(function(y){return y.getMaterialType&&y.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(y){return y.extendMaterialParams&&y.extendMaterialParams(e,l)})))}s.doubleSided===!0&&(l.side=ra);const f=s.alphaMode||No.OPAQUE;if(f===No.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,f===No.MASK&&(l.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==ni&&(u.push(t.assignTexture(l,"normalMap",s.normalTexture)),l.normalScale=new pe(1,1),s.normalTexture.scale!==void 0)){const m=s.normalTexture.scale;l.normalScale.set(m,m)}if(s.occlusionTexture!==void 0&&a!==ni&&(u.push(t.assignTexture(l,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==ni){const m=s.emissiveFactor;l.emissive=new Le().setRGB(m[0],m[1],m[2],Lt)}return s.emissiveTexture!==void 0&&a!==ni&&u.push(t.assignTexture(l,"emissiveMap",s.emissiveTexture,St)),Promise.all(u).then(function(){const m=new a(l);return s.name&&(m.name=s.name),vi(m,s),t.associations.set(m,{materials:e}),s.extensions&&nn(n,m,s),m})}createUniqueName(e){const t=Ee.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,n=this.primitiveCache;function s(l){return i[me.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,t).then(function(c){return dc(c,l,t)})}const a=[];for(let l=0,c=e.length;l<c;l++){const u=e[l],f=$d(u),m=n[f];if(m)a.push(m.promise);else{let y;u.extensions&&u.extensions[me.KHR_DRACO_MESH_COMPRESSION]?y=s(u):y=dc(new Nt,u,t),n[f]={primitive:u,promise:y},a.push(y)}}return Promise.all(a)}loadMesh(e){const t=this,i=this.json,n=this.extensions,s=i.meshes[e],a=s.primitives,l=[];for(let c=0,u=a.length;c<u;c++){const f=a[c].material===void 0?qd(this.cache):this.getDependency("material",a[c].material);l.push(f)}return l.push(t.loadGeometries(a)),Promise.all(l).then(function(c){const u=c.slice(0,c.length-1),f=c[c.length-1],m=[];for(let x=0,w=f.length;x<w;x++){const S=f[x],A=a[x];let E;const F=u[x];if(A.mode===Pt.TRIANGLES||A.mode===Pt.TRIANGLE_STRIP||A.mode===Pt.TRIANGLE_FAN||A.mode===void 0)E=s.isSkinnedMesh===!0?new zu(S,F):new ln(S,F),E.isSkinnedMesh===!0&&E.normalizeSkinWeights(),A.mode===Pt.TRIANGLE_STRIP?E.geometry=lc(E.geometry,Ac):A.mode===Pt.TRIANGLE_FAN&&(E.geometry=lc(E.geometry,Wo));else if(A.mode===Pt.LINES)E=new Cr(S,F);else if(A.mode===Pt.LINE_STRIP)E=new pa(S,F);else if(A.mode===Pt.LINE_LOOP)E=new Ou(S,F);else if(A.mode===Pt.POINTS)E=new Fu(S,F);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(E.geometry.morphAttributes).length>0&&Yd(E,s),E.name=t.createUniqueName(s.name||"mesh_"+e),vi(E,s),A.extensions&&nn(n,E,A),t.assignFinalMaterial(E),m.push(E)}for(let x=0,w=m.length;x<w;x++)t.associations.set(m[x],{meshes:e,primitives:x});if(m.length===1)return s.extensions&&nn(n,m[0],s),m[0];const y=new Eo;s.extensions&&nn(n,y,s),t.associations.set(y,{meshes:e});for(let x=0,w=m.length;x<w;x++)y.add(m[x]);return y})}loadCamera(e){let t;const i=this.json.cameras[e],n=i[i.type];if(!n){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Lr(lt.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):i.type==="orthographic"&&(t=new zc(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),vi(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let n=0,s=t.joints.length;n<s;n++)i.push(this._loadNodeShallow(t.joints[n]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(n){const s=n.pop(),a=n,l=[],c=[];for(let u=0,f=a.length;u<f;u++){const m=a[u];if(m){l.push(m);const y=new ye;s!==null&&y.fromArray(s.array,u*16),c.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}return new fa(l,c)})}loadAnimation(e){const t=this.json,i=this,n=t.animations[e],s=n.name?n.name:"animation_"+e,a=[],l=[],c=[],u=[],f=[];for(let m=0,y=n.channels.length;m<y;m++){const x=n.channels[m],w=n.samplers[x.sampler],S=x.target,A=S.node,E=n.parameters!==void 0?n.parameters[w.input]:w.input,F=n.parameters!==void 0?n.parameters[w.output]:w.output;S.node!==void 0&&(a.push(this.getDependency("node",A)),l.push(this.getDependency("accessor",E)),c.push(this.getDependency("accessor",F)),u.push(w),f.push(S))}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u),Promise.all(f)]).then(function(m){const y=m[0],x=m[1],w=m[2],S=m[3],A=m[4],E=[];for(let F=0,L=y.length;F<L;F++){const N=y[F],d=x[F],W=w[F],G=S[F],q=A[F];if(N===void 0)continue;N.updateMatrix&&N.updateMatrix();const ne=i._createAnimationTracks(N,d,W,G,q);if(ne)for(let X=0;X<ne.length;X++)E.push(ne[X])}return new Wu(s,void 0,E)})}createNodeMesh(e){const t=this.json,i=this,n=t.nodes[e];return n.mesh===void 0?null:i.getDependency("mesh",n.mesh).then(function(s){const a=i._getNodeRef(i.meshCache,n.mesh,s);return n.weights!==void 0&&a.traverse(function(l){if(l.isMesh)for(let c=0,u=n.weights.length;c<u;c++)l.morphTargetInfluences[c]=n.weights[c]}),a})}loadNode(e){const t=this.json,i=this,n=t.nodes[e],s=i._loadNodeShallow(e),a=[],l=n.children||[];for(let u=0,f=l.length;u<f;u++)a.push(i.getDependency("node",l[u]));const c=n.skin===void 0?Promise.resolve(null):i.getDependency("skin",n.skin);return Promise.all([s,Promise.all(a),c]).then(function(u){const f=u[0],m=u[1],y=u[2];y!==null&&f.traverse(function(x){x.isSkinnedMesh&&x.bind(y,Zd)});for(let x=0,w=m.length;x<w;x++)f.add(m[x]);return f})}_loadNodeShallow(e){const t=this.json,i=this.extensions,n=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],a=s.name?n.createUniqueName(s.name):"",l=[],c=n._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return c&&l.push(c),s.camera!==void 0&&l.push(n.getDependency("camera",s.camera).then(function(u){return n._getNodeRef(n.cameraCache,s.camera,u)})),n._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){l.push(u)}),this.nodeCache[e]=Promise.all(l).then(function(u){let f;if(s.isBone===!0?f=new Rc:u.length>1?f=new Eo:u.length===1?f=u[0]:f=new Oe,f!==u[0])for(let m=0,y=u.length;m<y;m++)f.add(u[m]);if(s.name&&(f.userData.name=s.name,f.name=a),vi(f,s),s.extensions&&nn(i,f,s),s.matrix!==void 0){const m=new ye;m.fromArray(s.matrix),f.applyMatrix4(m)}else s.translation!==void 0&&f.position.fromArray(s.translation),s.rotation!==void 0&&f.quaternion.fromArray(s.rotation),s.scale!==void 0&&f.scale.fromArray(s.scale);return n.associations.has(f)||n.associations.set(f,{}),n.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],n=this,s=new Eo;i.name&&(s.name=n.createUniqueName(i.name)),vi(s,i),i.extensions&&nn(t,s,i);const a=i.nodes||[],l=[];for(let c=0,u=a.length;c<u;c++)l.push(n.getDependency("node",a[c]));return Promise.all(l).then(function(c){for(let f=0,m=c.length;f<m;f++)s.add(c[f]);const u=f=>{const m=new Map;for(const[y,x]of n.associations)(y instanceof on||y instanceof Rt)&&m.set(y,x);return f.traverse(y=>{const x=n.associations.get(y);x!=null&&m.set(y,x)}),m};return n.associations=u(s),s})}_createAnimationTracks(e,t,i,n,s){const a=[],l=e.name?e.name:e.uuid,c=[];Oi[s.path]===Oi.weights?e.traverse(function(y){y.morphTargetInfluences&&c.push(y.name?y.name:y.uuid)}):c.push(l);let u;switch(Oi[s.path]){case Oi.weights:u=Dn;break;case Oi.rotation:u=Bn;break;case Oi.position:case Oi.scale:u=jn;break;default:switch(i.itemSize){case 1:u=Dn;break;case 2:case 3:default:u=jn;break}break}const f=n.interpolation!==void 0?Wd[n.interpolation]:xs,m=this._getArrayFromAccessor(i);for(let y=0,x=c.length;y<x;y++){const w=new u(c[y]+"."+Oi[s.path],t.array,m,f);n.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(w),a.push(w)}return a}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=ea(t.constructor),n=new Float32Array(t.length);for(let s=0,a=t.length;s<a;s++)n[s]=t[s]*i;t=n}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const n=this instanceof Bn?Ud:jc;return new n(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Qd(o,e,t){const i=e.attributes,n=new ri;if(i.POSITION!==void 0){const l=t.json.accessors[i.POSITION],c=l.min,u=l.max;if(c!==void 0&&u!==void 0){if(n.set(new z(c[0],c[1],c[2]),new z(u[0],u[1],u[2])),l.normalized){const f=ea(Fn[l.componentType]);n.min.multiplyScalar(f),n.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const l=new z,c=new z;for(let u=0,f=s.length;u<f;u++){const m=s[u];if(m.POSITION!==void 0){const y=t.json.accessors[m.POSITION],x=y.min,w=y.max;if(x!==void 0&&w!==void 0){if(c.setX(Math.max(Math.abs(x[0]),Math.abs(w[0]))),c.setY(Math.max(Math.abs(x[1]),Math.abs(w[1]))),c.setZ(Math.max(Math.abs(x[2]),Math.abs(w[2]))),y.normalized){const S=ea(Fn[y.componentType]);c.multiplyScalar(S)}l.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}n.expandByVector(l)}o.boundingBox=n;const a=new oi;n.getCenter(a.center),a.radius=n.min.distanceTo(n.max)/2,o.boundingSphere=a}function dc(o,e,t){const i=e.attributes,n=[];function s(a,l){return t.getDependency("accessor",a).then(function(c){o.setAttribute(l,c)})}for(const a in i){const l=Qo[a]||a.toLowerCase();l in o.attributes||n.push(s(i[a],l))}if(e.indices!==void 0&&!o.index){const a=t.getDependency("accessor",e.indices).then(function(l){o.setIndex(l)});n.push(a)}return Tt.workingColorSpace!==Lt&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Tt.workingColorSpace}" not supported.`),vi(o,e),Qd(o,e,t),Promise.all(n).then(function(){return e.targets!==void 0?Xd(o,e.targets,t):o})}function Ir(o){const e=new Map,t=new Map,i=o.clone();return Hc(o,i,function(n,s){e.set(s,n),t.set(n,s)}),i.traverse(function(n){if(!n.isSkinnedMesh)return;const s=n,a=e.get(n),l=a.skeleton.bones;s.skeleton=a.skeleton.clone(),s.bindMatrix.copy(a.bindMatrix),s.skeleton.bones=l.map(function(c){return t.get(c)}),s.bind(s.skeleton,s.bindMatrix)}),i}function Hc(o,e,t){t(o,e);for(let i=0;i<o.children.length;i++)Hc(o.children[i],e.children[i],t)}function fc(o){return o!==null&&typeof o=="object"&&"constructor"in o&&o.constructor===Object}function Ta(o,e){o===void 0&&(o={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof o[t]>"u"?o[t]=e[t]:fc(e[t])&&fc(o[t])&&Object.keys(e[t]).length>0&&Ta(o[t],e[t])})}const Vc={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Wn(){const o=typeof document<"u"?document:{};return Ta(o,Vc),o}const ef={document:Vc,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(o){return typeof setTimeout>"u"?(o(),null):setTimeout(o,0)},cancelAnimationFrame(o){typeof setTimeout>"u"||clearTimeout(o)}};function _t(){const o=typeof window<"u"?window:{};return Ta(o,ef),o}function tf(o){return o===void 0&&(o=""),o.trim().split(" ").filter(e=>!!e.trim())}function nf(o){const e=o;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function ta(o,e){return e===void 0&&(e=0),setTimeout(o,e)}function kr(){return Date.now()}function sf(o){const e=_t();let t;return e.getComputedStyle&&(t=e.getComputedStyle(o,null)),!t&&o.currentStyle&&(t=o.currentStyle),t||(t=o.style),t}function rf(o,e){e===void 0&&(e="x");const t=_t();let i,n,s;const a=sf(o);return t.WebKitCSSMatrix?(n=a.transform||a.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(n==="none"?"":n)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?n=s.m41:i.length===16?n=parseFloat(i[12]):n=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?n=s.m42:i.length===16?n=parseFloat(i[13]):n=parseFloat(i[5])),n||0}function xr(o){return typeof o=="object"&&o!==null&&o.constructor&&Object.prototype.toString.call(o).slice(8,-1)==="Object"}function of(o){return typeof window<"u"&&typeof window.HTMLElement<"u"?o instanceof HTMLElement:o&&(o.nodeType===1||o.nodeType===11)}function At(){const o=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!of(i)){const n=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,a=n.length;s<a;s+=1){const l=n[s],c=Object.getOwnPropertyDescriptor(i,l);c!==void 0&&c.enumerable&&(xr(o[l])&&xr(i[l])?i[l].__swiper__?o[l]=i[l]:At(o[l],i[l]):!xr(o[l])&&xr(i[l])?(o[l]={},i[l].__swiper__?o[l]=i[l]:At(o[l],i[l])):o[l]=i[l])}}}return o}function br(o,e,t){o.style.setProperty(e,t)}function Gc(o){let{swiper:e,targetPosition:t,side:i}=o;const n=_t(),s=-e.translate;let a=null,l;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const u=t>s?"next":"prev",f=(y,x)=>u==="next"&&y>=x||u==="prev"&&y<=x,m=()=>{l=new Date().getTime(),a===null&&(a=l);const y=Math.max(Math.min((l-a)/c,1),0),x=.5-Math.cos(y*Math.PI)/2;let w=s+x*(t-s);if(f(w,t)&&(w=t),e.wrapperEl.scrollTo({[i]:w}),f(w,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:w})}),n.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=n.requestAnimationFrame(m)};m()}function Ti(o,e){e===void 0&&(e="");const t=[...o.children];return o instanceof HTMLSlotElement&&t.push(...o.assignedElements()),e?t.filter(i=>i.matches(e)):t}function af(o,e){const t=e.contains(o);return!t&&e instanceof HTMLSlotElement?[...e.assignedElements()].includes(o):t}function Pr(o){try{console.warn(o);return}catch{}}function ia(o,e){e===void 0&&(e=[]);const t=document.createElement(o);return t.classList.add(...Array.isArray(e)?e:tf(e)),t}function lf(o,e){const t=[];for(;o.previousElementSibling;){const i=o.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),o=i}return t}function cf(o,e){const t=[];for(;o.nextElementSibling;){const i=o.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),o=i}return t}function Bi(o,e){return _t().getComputedStyle(o,null).getPropertyValue(e)}function pc(o){let e=o,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function hf(o,e){const t=[];let i=o.parentElement;for(;i;)t.push(i),i=i.parentElement;return t}function mc(o,e,t){const i=_t();return o[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(o,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(o,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}let Fo;function uf(){const o=_t(),e=Wn();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in o||o.DocumentTouch&&e instanceof o.DocumentTouch)}}function Uc(){return Fo||(Fo=uf()),Fo}let Do;function df(o){let{userAgent:e}=o===void 0?{}:o;const t=Uc(),i=_t(),n=i.navigator.platform,s=e||i.navigator.userAgent,a={ios:!1,android:!1},l=i.screen.width,c=i.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let f=s.match(/(iPad).*OS\s([\d_]+)/);const m=s.match(/(iPod)(.*OS\s([\d_]+))?/),y=!f&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),x=n==="Win32";let w=n==="MacIntel";const S=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!f&&w&&t.touch&&S.indexOf(`${l}x${c}`)>=0&&(f=s.match(/(Version)\/([\d.]+)/),f||(f=[0,1,"13_0_0"]),w=!1),u&&!x&&(a.os="android",a.android=!0),(f||y||m)&&(a.os="ios",a.ios=!0),a}function Wc(o){return o===void 0&&(o={}),Do||(Do=df(o)),Do}let Bo;function ff(){const o=_t(),e=Wc();let t=!1;function i(){const l=o.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(i()){const l=String(o.navigator.userAgent);if(l.includes("Version/")){const[c,u]=l.split("Version/")[1].split(" ")[0].split(".").map(f=>Number(f));t=c<16||c===16&&u<2}}const n=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(o.navigator.userAgent),s=i(),a=s||n&&e.ios;return{isSafari:t||s,needPerspectiveFix:t,need3dFix:a,isWebView:n}}function pf(){return Bo||(Bo=ff()),Bo}function mf(o){let{swiper:e,on:t,emit:i}=o;const n=_t();let s=null,a=null;const l=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(m=>{a=n.requestAnimationFrame(()=>{const{width:y,height:x}=e;let w=y,S=x;m.forEach(A=>{let{contentBoxSize:E,contentRect:F,target:L}=A;L&&L!==e.el||(w=F?F.width:(E[0]||E).inlineSize,S=F?F.height:(E[0]||E).blockSize)}),(w!==y||S!==x)&&l()})}),s.observe(e.el))},u=()=>{a&&n.cancelAnimationFrame(a),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},f=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof n.ResizeObserver<"u"){c();return}n.addEventListener("resize",l),n.addEventListener("orientationchange",f)}),t("destroy",()=>{u(),n.removeEventListener("resize",l),n.removeEventListener("orientationchange",f)})}function gf(o){let{swiper:e,extendParams:t,on:i,emit:n}=o;const s=[],a=_t(),l=function(f,m){m===void 0&&(m={});const y=a.MutationObserver||a.WebkitMutationObserver,x=new y(w=>{if(e.__preventObserver__)return;if(w.length===1){n("observerUpdate",w[0]);return}const S=function(){n("observerUpdate",w[0])};a.requestAnimationFrame?a.requestAnimationFrame(S):a.setTimeout(S,0)});x.observe(f,{attributes:typeof m.attributes>"u"?!0:m.attributes,childList:e.isElement||(typeof m.childList>"u"?!0:m).childList,characterData:typeof m.characterData>"u"?!0:m.characterData}),s.push(x)},c=()=>{if(e.params.observer){if(e.params.observeParents){const f=hf(e.hostEl);for(let m=0;m<f.length;m+=1)l(f[m])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(f=>{f.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",c),i("destroy",u)}var yf={on(o,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const n=t?"unshift":"push";return o.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][n](e)}),i},once(o,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function n(){i.off(o,n),n.__emitterProxy&&delete n.__emitterProxy;for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];e.apply(i,a)}return n.__emitterProxy=e,i.on(o,n,t)},onAny(o,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof o!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(o)<0&&t.eventsAnyListeners[i](o),t},offAny(o){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(o);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(o,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||o.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((n,s)=>{(n===e||n.__emitterProxy&&n.__emitterProxy===e)&&t.eventsListeners[i].splice(s,1)})}),t},emit(){const o=this;if(!o.eventsListeners||o.destroyed||!o.eventsListeners)return o;let e,t,i;for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),i=o):(e=s[0].events,t=s[0].data,i=s[0].context||o),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{o.eventsAnyListeners&&o.eventsAnyListeners.length&&o.eventsAnyListeners.forEach(u=>{u.apply(i,[c,...t])}),o.eventsListeners&&o.eventsListeners[c]&&o.eventsListeners[c].forEach(u=>{u.apply(i,t)})}),o}};function xf(){const o=this;let e,t;const i=o.el;typeof o.params.width<"u"&&o.params.width!==null?e=o.params.width:e=i.clientWidth,typeof o.params.height<"u"&&o.params.height!==null?t=o.params.height:t=i.clientHeight,!(e===0&&o.isHorizontal()||t===0&&o.isVertical())&&(e=e-parseInt(Bi(i,"padding-left")||0,10)-parseInt(Bi(i,"padding-right")||0,10),t=t-parseInt(Bi(i,"padding-top")||0,10)-parseInt(Bi(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(o,{width:e,height:t,size:o.isHorizontal()?e:t}))}function bf(){const o=this;function e(X,$){return parseFloat(X.getPropertyValue(o.getDirectionLabel($))||0)}const t=o.params,{wrapperEl:i,slidesEl:n,size:s,rtlTranslate:a,wrongRTL:l}=o,c=o.virtual&&t.virtual.enabled,u=c?o.virtual.slides.length:o.slides.length,f=Ti(n,`.${o.params.slideClass}, swiper-slide`),m=c?o.virtual.slides.length:f.length;let y=[];const x=[],w=[];let S=t.slidesOffsetBefore;typeof S=="function"&&(S=t.slidesOffsetBefore.call(o));let A=t.slidesOffsetAfter;typeof A=="function"&&(A=t.slidesOffsetAfter.call(o));const E=o.snapGrid.length,F=o.slidesGrid.length;let L=t.spaceBetween,N=-S,d=0,W=0;if(typeof s>"u")return;typeof L=="string"&&L.indexOf("%")>=0?L=parseFloat(L.replace("%",""))/100*s:typeof L=="string"&&(L=parseFloat(L)),o.virtualSize=-L,f.forEach(X=>{a?X.style.marginLeft="":X.style.marginRight="",X.style.marginBottom="",X.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(br(i,"--swiper-centered-offset-before",""),br(i,"--swiper-centered-offset-after",""));const G=t.grid&&t.grid.rows>1&&o.grid;G?o.grid.initSlides(f):o.grid&&o.grid.unsetSlides();let q;const ne=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(X=>typeof t.breakpoints[X].slidesPerView<"u").length>0;for(let X=0;X<m;X+=1){q=0;let $;if(f[X]&&($=f[X]),G&&o.grid.updateSlide(X,$,f),!(f[X]&&Bi($,"display")==="none")){if(t.slidesPerView==="auto"){ne&&(f[X].style[o.getDirectionLabel("width")]="");const J=getComputedStyle($),K=$.style.transform,oe=$.style.webkitTransform;if(K&&($.style.transform="none"),oe&&($.style.webkitTransform="none"),t.roundLengths)q=o.isHorizontal()?mc($,"width"):mc($,"height");else{const ge=e(J,"width"),Me=e(J,"padding-left"),it=e(J,"padding-right"),Ye=e(J,"margin-left"),xe=e(J,"margin-right"),Se=J.getPropertyValue("box-sizing");if(Se&&Se==="border-box")q=ge+Ye+xe;else{const{clientWidth:ke,offsetWidth:ht}=$;q=ge+Me+it+Ye+xe+(ht-ke)}}K&&($.style.transform=K),oe&&($.style.webkitTransform=oe),t.roundLengths&&(q=Math.floor(q))}else q=(s-(t.slidesPerView-1)*L)/t.slidesPerView,t.roundLengths&&(q=Math.floor(q)),f[X]&&(f[X].style[o.getDirectionLabel("width")]=`${q}px`);f[X]&&(f[X].swiperSlideSize=q),w.push(q),t.centeredSlides?(N=N+q/2+d/2+L,d===0&&X!==0&&(N=N-s/2-L),X===0&&(N=N-s/2-L),Math.abs(N)<1/1e3&&(N=0),t.roundLengths&&(N=Math.floor(N)),W%t.slidesPerGroup===0&&y.push(N),x.push(N)):(t.roundLengths&&(N=Math.floor(N)),(W-Math.min(o.params.slidesPerGroupSkip,W))%o.params.slidesPerGroup===0&&y.push(N),x.push(N),N=N+q+L),o.virtualSize+=q+L,d=q,W+=1}}if(o.virtualSize=Math.max(o.virtualSize,s)+A,a&&l&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${o.virtualSize+L}px`),t.setWrapperSize&&(i.style[o.getDirectionLabel("width")]=`${o.virtualSize+L}px`),G&&o.grid.updateWrapperSize(q,y),!t.centeredSlides){const X=[];for(let $=0;$<y.length;$+=1){let J=y[$];t.roundLengths&&(J=Math.floor(J)),y[$]<=o.virtualSize-s&&X.push(J)}y=X,Math.floor(o.virtualSize-s)-Math.floor(y[y.length-1])>1&&y.push(o.virtualSize-s)}if(c&&t.loop){const X=w[0]+L;if(t.slidesPerGroup>1){const $=Math.ceil((o.virtual.slidesBefore+o.virtual.slidesAfter)/t.slidesPerGroup),J=X*t.slidesPerGroup;for(let K=0;K<$;K+=1)y.push(y[y.length-1]+J)}for(let $=0;$<o.virtual.slidesBefore+o.virtual.slidesAfter;$+=1)t.slidesPerGroup===1&&y.push(y[y.length-1]+X),x.push(x[x.length-1]+X),o.virtualSize+=X}if(y.length===0&&(y=[0]),L!==0){const X=o.isHorizontal()&&a?"marginLeft":o.getDirectionLabel("marginRight");f.filter(($,J)=>!t.cssMode||t.loop?!0:J!==f.length-1).forEach($=>{$.style[X]=`${L}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let X=0;w.forEach(J=>{X+=J+(L||0)}),X-=L;const $=X-s;y=y.map(J=>J<=0?-S:J>$?$+A:J)}if(t.centerInsufficientSlides){let X=0;w.forEach(J=>{X+=J+(L||0)}),X-=L;const $=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(X+$<s){const J=(s-X-$)/2;y.forEach((K,oe)=>{y[oe]=K-J}),x.forEach((K,oe)=>{x[oe]=K+J})}}if(Object.assign(o,{slides:f,snapGrid:y,slidesGrid:x,slidesSizesGrid:w}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){br(i,"--swiper-centered-offset-before",`${-y[0]}px`),br(i,"--swiper-centered-offset-after",`${o.size/2-w[w.length-1]/2}px`);const X=-o.snapGrid[0],$=-o.slidesGrid[0];o.snapGrid=o.snapGrid.map(J=>J+X),o.slidesGrid=o.slidesGrid.map(J=>J+$)}if(m!==u&&o.emit("slidesLengthChange"),y.length!==E&&(o.params.watchOverflow&&o.checkOverflow(),o.emit("snapGridLengthChange")),x.length!==F&&o.emit("slidesGridLengthChange"),t.watchSlidesProgress&&o.updateSlidesOffset(),o.emit("slidesUpdated"),!c&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const X=`${t.containerModifierClass}backface-hidden`,$=o.el.classList.contains(X);m<=t.maxBackfaceHiddenSlides?$||o.el.classList.add(X):$&&o.el.classList.remove(X)}}function wf(o){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let n=0,s;typeof o=="number"?e.setTransition(o):o===!0&&e.setTransition(e.params.speed);const a=l=>i?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{t.push(l)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const l=e.activeIndex+s;if(l>e.slides.length&&!i)break;t.push(a(l))}else t.push(a(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const l=t[s].offsetHeight;n=l>n?l:n}(n||n===0)&&(e.wrapperEl.style.height=`${n}px`)}function vf(){const o=this,e=o.slides,t=o.isElement?o.isHorizontal()?o.wrapperEl.offsetLeft:o.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(o.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-o.cssOverflowAdjustment()}const gc=(o,e,t)=>{e&&!o.classList.contains(t)?o.classList.add(t):!e&&o.classList.contains(t)&&o.classList.remove(t)};function Tf(o){o===void 0&&(o=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:n,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-o;n&&(a=o),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=t.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let c=0;c<i.length;c+=1){const u=i[c];let f=u.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(f-=i[0].swiperSlideOffset);const m=(a+(t.centeredSlides?e.minTranslate():0)-f)/(u.swiperSlideSize+l),y=(a-s[0]+(t.centeredSlides?e.minTranslate():0)-f)/(u.swiperSlideSize+l),x=-(a-f),w=x+e.slidesSizesGrid[c],S=x>=0&&x<=e.size-e.slidesSizesGrid[c],A=x>=0&&x<e.size-1||w>1&&w<=e.size||x<=0&&w>=e.size;A&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(c)),gc(u,A,t.slideVisibleClass),gc(u,S,t.slideFullyVisibleClass),u.progress=n?-m:m,u.originalProgress=n?-y:y}}function Mf(o){const e=this;if(typeof o>"u"){const f=e.rtlTranslate?-1:1;o=e&&e.translate&&e.translate*f||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:n,isBeginning:s,isEnd:a,progressLoop:l}=e;const c=s,u=a;if(i===0)n=0,s=!0,a=!0;else{n=(o-e.minTranslate())/i;const f=Math.abs(o-e.minTranslate())<1,m=Math.abs(o-e.maxTranslate())<1;s=f||n<=0,a=m||n>=1,f&&(n=0),m&&(n=1)}if(t.loop){const f=e.getSlideIndexByData(0),m=e.getSlideIndexByData(e.slides.length-1),y=e.slidesGrid[f],x=e.slidesGrid[m],w=e.slidesGrid[e.slidesGrid.length-1],S=Math.abs(o);S>=y?l=(S-y)/w:l=(S+w-x)/w,l>1&&(l-=1)}Object.assign(e,{progress:n,progressLoop:l,isBeginning:s,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(o),s&&!c&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(c&&!s||u&&!a)&&e.emit("fromEdge"),e.emit("progress",n)}const jo=(o,e,t)=>{e&&!o.classList.contains(t)?o.classList.add(t):!e&&o.classList.contains(t)&&o.classList.remove(t)};function Sf(){const o=this,{slides:e,params:t,slidesEl:i,activeIndex:n}=o,s=o.virtual&&t.virtual.enabled,a=o.grid&&t.grid&&t.grid.rows>1,l=m=>Ti(i,`.${t.slideClass}${m}, swiper-slide${m}`)[0];let c,u,f;if(s)if(t.loop){let m=n-o.virtual.slidesBefore;m<0&&(m=o.virtual.slides.length+m),m>=o.virtual.slides.length&&(m-=o.virtual.slides.length),c=l(`[data-swiper-slide-index="${m}"]`)}else c=l(`[data-swiper-slide-index="${n}"]`);else a?(c=e.filter(m=>m.column===n)[0],f=e.filter(m=>m.column===n+1)[0],u=e.filter(m=>m.column===n-1)[0]):c=e[n];c&&(a||(f=cf(c,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!f&&(f=e[0]),u=lf(c,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(m=>{jo(m,m===c,t.slideActiveClass),jo(m,m===f,t.slideNextClass),jo(m,m===u,t.slidePrevClass)}),o.emitSlidesClasses()}const Tr=(o,e)=>{if(!o||o.destroyed||!o.params)return;const t=()=>o.isElement?"swiper-slide":`.${o.params.slideClass}`,i=e.closest(t());if(i){let n=i.querySelector(`.${o.params.lazyPreloaderClass}`);!n&&o.isElement&&(i.shadowRoot?n=i.shadowRoot.querySelector(`.${o.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(n=i.shadowRoot.querySelector(`.${o.params.lazyPreloaderClass}`),n&&n.remove())})),n&&n.remove()}},Ho=(o,e)=>{if(!o.slides[e])return;const t=o.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},na=o=>{if(!o||o.destroyed||!o.params)return;let e=o.params.lazyPreloadPrevNext;const t=o.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=o.params.slidesPerView==="auto"?o.slidesPerViewDynamic():Math.ceil(o.params.slidesPerView),n=o.activeIndex;if(o.params.grid&&o.params.grid.rows>1){const a=n,l=[a-e];l.push(...Array.from({length:e}).map((c,u)=>a+i+u)),o.slides.forEach((c,u)=>{l.includes(c.column)&&Ho(o,u)});return}const s=n+i-1;if(o.params.rewind||o.params.loop)for(let a=n-e;a<=s+e;a+=1){const l=(a%t+t)%t;(l<n||l>s)&&Ho(o,l)}else for(let a=Math.max(n-e,0);a<=Math.min(s+e,t-1);a+=1)a!==n&&(a>s||a<n)&&Ho(o,a)};function Af(o){const{slidesGrid:e,params:t}=o,i=o.rtlTranslate?o.translate:-o.translate;let n;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?n=s:i>=e[s]&&i<e[s+1]&&(n=s+1):i>=e[s]&&(n=s);return t.normalizeSlideIndex&&(n<0||typeof n>"u")&&(n=0),n}function Ef(o){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:n,activeIndex:s,realIndex:a,snapIndex:l}=e;let c=o,u;const f=x=>{let w=x-e.virtual.slidesBefore;return w<0&&(w=e.virtual.slides.length+w),w>=e.virtual.slides.length&&(w-=e.virtual.slides.length),w};if(typeof c>"u"&&(c=Af(e)),i.indexOf(t)>=0)u=i.indexOf(t);else{const x=Math.min(n.slidesPerGroupSkip,c);u=x+Math.floor((c-x)/n.slidesPerGroup)}if(u>=i.length&&(u=i.length-1),c===s&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(c===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=f(c);return}const m=e.grid&&n.grid&&n.grid.rows>1;let y;if(e.virtual&&n.virtual.enabled&&n.loop)y=f(c);else if(m){const x=e.slides.filter(S=>S.column===c)[0];let w=parseInt(x.getAttribute("data-swiper-slide-index"),10);Number.isNaN(w)&&(w=Math.max(e.slides.indexOf(x),0)),y=Math.floor(w/n.grid.rows)}else if(e.slides[c]){const x=e.slides[c].getAttribute("data-swiper-slide-index");x?y=parseInt(x,10):y=c}else y=c;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:a,realIndex:y,previousIndex:s,activeIndex:c}),e.initialized&&na(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==y&&e.emit("realIndexChange"),e.emit("slideChange"))}function _f(o,e){const t=this,i=t.params;let n=o.closest(`.${i.slideClass}, swiper-slide`);!n&&t.isElement&&e&&e.length>1&&e.includes(o)&&[...e.slice(e.indexOf(o)+1,e.length)].forEach(l=>{!n&&l.matches&&l.matches(`.${i.slideClass}, swiper-slide`)&&(n=l)});let s=!1,a;if(n){for(let l=0;l<t.slides.length;l+=1)if(t.slides[l]===n){s=!0,a=l;break}}if(n&&s)t.clickedSlide=n,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=a;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var Cf={updateSize:xf,updateSlides:bf,updateAutoHeight:wf,updateSlidesOffset:vf,updateSlidesProgress:Tf,updateProgress:Mf,updateSlidesClasses:Sf,updateActiveIndex:Ef,updateClickedSlide:_f};function If(o){o===void 0&&(o=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:n,wrapperEl:s}=e;if(t.virtualTranslate)return i?-n:n;if(t.cssMode)return n;let a=rf(s,o);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function kf(o,e){const t=this,{rtlTranslate:i,params:n,wrapperEl:s,progress:a}=t;let l=0,c=0;const u=0;t.isHorizontal()?l=i?-o:o:c=o,n.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:c,n.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-c:n.virtualTranslate||(t.isHorizontal()?l-=t.cssOverflowAdjustment():c-=t.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${c}px, ${u}px)`);let f;const m=t.maxTranslate()-t.minTranslate();m===0?f=0:f=(o-t.minTranslate())/m,f!==a&&t.updateProgress(o),t.emit("setTranslate",t.translate,e)}function Pf(){return-this.snapGrid[0]}function zf(){return-this.snapGrid[this.snapGrid.length-1]}function Rf(o,e,t,i,n){o===void 0&&(o=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const s=this,{params:a,wrapperEl:l}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const c=s.minTranslate(),u=s.maxTranslate();let f;if(i&&o>c?f=c:i&&o<u?f=u:f=o,s.updateProgress(f),a.cssMode){const m=s.isHorizontal();if(e===0)l[m?"scrollLeft":"scrollTop"]=-f;else{if(!s.support.smoothScroll)return Gc({swiper:s,targetPosition:-f,side:m?"left":"top"}),!0;l.scrollTo({[m?"left":"top"]:-f,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(f),t&&(s.emit("beforeTransitionStart",e,n),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(f),t&&(s.emit("beforeTransitionStart",e,n),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(y){!s||s.destroyed||y.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var Lf={getTranslate:If,setTranslate:kf,minTranslate:Pf,maxTranslate:zf,translateTo:Rf};function Nf(o,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${o}ms`,t.wrapperEl.style.transitionDelay=o===0?"0ms":""),t.emit("setTransition",o,e)}function qc(o){let{swiper:e,runCallbacks:t,direction:i,step:n}=o;const{activeIndex:s,previousIndex:a}=e;let l=i;if(l||(s>a?l="next":s<a?l="prev":l="reset"),e.emit(`transition${n}`),t&&s!==a){if(l==="reset"){e.emit(`slideResetTransition${n}`);return}e.emit(`slideChangeTransition${n}`),l==="next"?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`)}}function Of(o,e){o===void 0&&(o=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),qc({swiper:t,runCallbacks:o,direction:e,step:"Start"}))}function Ff(o,e){o===void 0&&(o=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),qc({swiper:t,runCallbacks:o,direction:e,step:"End"}))}var Df={setTransition:Nf,transitionStart:Of,transitionEnd:Ff};function Bf(o,e,t,i,n){o===void 0&&(o=0),t===void 0&&(t=!0),typeof o=="string"&&(o=parseInt(o,10));const s=this;let a=o;a<0&&(a=0);const{params:l,snapGrid:c,slidesGrid:u,previousIndex:f,activeIndex:m,rtlTranslate:y,wrapperEl:x,enabled:w}=s;if(!w&&!i&&!n||s.destroyed||s.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const S=Math.min(s.params.slidesPerGroupSkip,a);let A=S+Math.floor((a-S)/s.params.slidesPerGroup);A>=c.length&&(A=c.length-1);const E=-c[A];if(l.normalizeSlideIndex)for(let L=0;L<u.length;L+=1){const N=-Math.floor(E*100),d=Math.floor(u[L]*100),W=Math.floor(u[L+1]*100);typeof u[L+1]<"u"?N>=d&&N<W-(W-d)/2?a=L:N>=d&&N<W&&(a=L+1):N>=d&&(a=L)}if(s.initialized&&a!==m&&(!s.allowSlideNext&&(y?E>s.translate&&E>s.minTranslate():E<s.translate&&E<s.minTranslate())||!s.allowSlidePrev&&E>s.translate&&E>s.maxTranslate()&&(m||0)!==a))return!1;a!==(f||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(E);let F;if(a>m?F="next":a<m?F="prev":F="reset",y&&-E===s.translate||!y&&E===s.translate)return s.updateActiveIndex(a),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(E),F!=="reset"&&(s.transitionStart(t,F),s.transitionEnd(t,F)),!1;if(l.cssMode){const L=s.isHorizontal(),N=y?E:-E;if(e===0){const d=s.virtual&&s.params.virtual.enabled;d&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),d&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{x[L?"scrollLeft":"scrollTop"]=N})):x[L?"scrollLeft":"scrollTop"]=N,d&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return Gc({swiper:s,targetPosition:N,side:L?"left":"top"}),!0;x.scrollTo({[L?"left":"top"]:N,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(E),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(t,F),e===0?s.transitionEnd(t,F):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(N){!s||s.destroyed||N.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,F))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function jf(o,e,t,i){o===void 0&&(o=0),t===void 0&&(t=!0),typeof o=="string"&&(o=parseInt(o,10));const n=this;if(n.destroyed)return;typeof e>"u"&&(e=n.params.speed);const s=n.grid&&n.params.grid&&n.params.grid.rows>1;let a=o;if(n.params.loop)if(n.virtual&&n.params.virtual.enabled)a=a+n.virtual.slidesBefore;else{let l;if(s){const y=a*n.params.grid.rows;l=n.slides.filter(x=>x.getAttribute("data-swiper-slide-index")*1===y)[0].column}else l=n.getSlideIndexByData(a);const c=s?Math.ceil(n.slides.length/n.params.grid.rows):n.slides.length,{centeredSlides:u}=n.params;let f=n.params.slidesPerView;f==="auto"?f=n.slidesPerViewDynamic():(f=Math.ceil(parseFloat(n.params.slidesPerView,10)),u&&f%2===0&&(f=f+1));let m=c-l<f;if(u&&(m=m||l<Math.ceil(f/2)),i&&u&&n.params.slidesPerView!=="auto"&&!s&&(m=!1),m){const y=u?l<n.activeIndex?"prev":"next":l-n.activeIndex-1<n.params.slidesPerView?"next":"prev";n.loopFix({direction:y,slideTo:!0,activeSlideIndex:y==="next"?l+1:l-c+1,slideRealIndex:y==="next"?n.realIndex:void 0})}if(s){const y=a*n.params.grid.rows;a=n.slides.filter(x=>x.getAttribute("data-swiper-slide-index")*1===y)[0].column}else a=n.getSlideIndexByData(a)}return requestAnimationFrame(()=>{n.slideTo(a,e,t,i)}),n}function Hf(o,e,t){e===void 0&&(e=!0);const i=this,{enabled:n,params:s,animating:a}=i;if(!n||i.destroyed)return i;typeof o>"u"&&(o=i.params.speed);let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(i.slidesPerViewDynamic("current",!0),1));const c=i.activeIndex<s.slidesPerGroupSkip?1:l,u=i.virtual&&s.virtual.enabled;if(s.loop){if(a&&!u&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+c,o,e,t)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,o,e,t):i.slideTo(i.activeIndex+c,o,e,t)}function Vf(o,e,t){e===void 0&&(e=!0);const i=this,{params:n,snapGrid:s,slidesGrid:a,rtlTranslate:l,enabled:c,animating:u}=i;if(!c||i.destroyed)return i;typeof o>"u"&&(o=i.params.speed);const f=i.virtual&&n.virtual.enabled;if(n.loop){if(u&&!f&&n.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const m=l?i.translate:-i.translate;function y(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const x=y(m),w=s.map(E=>y(E));let S=s[w.indexOf(x)-1];if(typeof S>"u"&&n.cssMode){let E;s.forEach((F,L)=>{x>=F&&(E=L)}),typeof E<"u"&&(S=s[E>0?E-1:E])}let A=0;if(typeof S<"u"&&(A=a.indexOf(S),A<0&&(A=i.activeIndex-1),n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(A=A-i.slidesPerViewDynamic("previous",!0)+1,A=Math.max(A,0))),n.rewind&&i.isBeginning){const E=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(E,o,e,t)}else if(n.loop&&i.activeIndex===0&&n.cssMode)return requestAnimationFrame(()=>{i.slideTo(A,o,e,t)}),!0;return i.slideTo(A,o,e,t)}function Gf(o,e,t){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof o>"u"&&(o=i.params.speed),i.slideTo(i.activeIndex,o,e,t)}function Uf(o,e,t,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const n=this;if(n.destroyed)return;typeof o>"u"&&(o=n.params.speed);let s=n.activeIndex;const a=Math.min(n.params.slidesPerGroupSkip,s),l=a+Math.floor((s-a)/n.params.slidesPerGroup),c=n.rtlTranslate?n.translate:-n.translate;if(c>=n.snapGrid[l]){const u=n.snapGrid[l],f=n.snapGrid[l+1];c-u>(f-u)*i&&(s+=n.params.slidesPerGroup)}else{const u=n.snapGrid[l-1],f=n.snapGrid[l];c-u<=(f-u)*i&&(s-=n.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,n.slidesGrid.length-1),n.slideTo(s,o,e,t)}function Wf(){const o=this;if(o.destroyed)return;const{params:e,slidesEl:t}=o,i=e.slidesPerView==="auto"?o.slidesPerViewDynamic():e.slidesPerView;let n=o.clickedIndex,s;const a=o.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(o.animating)return;s=parseInt(o.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n<o.loopedSlides-i/2||n>o.slides.length-o.loopedSlides+i/2?(o.loopFix(),n=o.getSlideIndex(Ti(t,`${a}[data-swiper-slide-index="${s}"]`)[0]),ta(()=>{o.slideTo(n)})):o.slideTo(n):n>o.slides.length-i?(o.loopFix(),n=o.getSlideIndex(Ti(t,`${a}[data-swiper-slide-index="${s}"]`)[0]),ta(()=>{o.slideTo(n)})):o.slideTo(n)}else o.slideTo(n)}var qf={slideTo:Bf,slideToLoop:jf,slideNext:Hf,slidePrev:Vf,slideReset:Gf,slideToClosest:Uf,slideToClickedSlide:Wf};function Xf(o){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;const n=()=>{Ti(i,`.${t.slideClass}, swiper-slide`).forEach((m,y)=>{m.setAttribute("data-swiper-slide-index",y)})},s=e.grid&&t.grid&&t.grid.rows>1,a=t.slidesPerGroup*(s?t.grid.rows:1),l=e.slides.length%a!==0,c=s&&e.slides.length%t.grid.rows!==0,u=f=>{for(let m=0;m<f;m+=1){const y=e.isElement?ia("swiper-slide",[t.slideBlankClass]):ia("div",[t.slideClass,t.slideBlankClass]);e.slidesEl.append(y)}};if(l){if(t.loopAddBlankSlides){const f=a-e.slides.length%a;u(f),e.recalcSlides(),e.updateSlides()}else Pr("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else if(c){if(t.loopAddBlankSlides){const f=t.grid.rows-e.slides.length%t.grid.rows;u(f),e.recalcSlides(),e.updateSlides()}else Pr("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else n();e.loopFix({slideRealIndex:o,direction:t.centeredSlides?void 0:"next"})}function Yf(o){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:n,activeSlideIndex:s,byController:a,byMousewheel:l}=o===void 0?{}:o;const c=this;if(!c.params.loop)return;c.emit("beforeLoopFix");const{slides:u,allowSlidePrev:f,allowSlideNext:m,slidesEl:y,params:x}=c,{centeredSlides:w}=x;if(c.allowSlidePrev=!0,c.allowSlideNext=!0,c.virtual&&x.virtual.enabled){t&&(!x.centeredSlides&&c.snapIndex===0?c.slideTo(c.virtual.slides.length,0,!1,!0):x.centeredSlides&&c.snapIndex<x.slidesPerView?c.slideTo(c.virtual.slides.length+c.snapIndex,0,!1,!0):c.snapIndex===c.snapGrid.length-1&&c.slideTo(c.virtual.slidesBefore,0,!1,!0)),c.allowSlidePrev=f,c.allowSlideNext=m,c.emit("loopFix");return}let S=x.slidesPerView;S==="auto"?S=c.slidesPerViewDynamic():(S=Math.ceil(parseFloat(x.slidesPerView,10)),w&&S%2===0&&(S=S+1));const A=x.slidesPerGroupAuto?S:x.slidesPerGroup;let E=A;E%A!==0&&(E+=A-E%A),E+=x.loopAdditionalSlides,c.loopedSlides=E;const F=c.grid&&x.grid&&x.grid.rows>1;u.length<S+E?Pr("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):F&&x.grid.fill==="row"&&Pr("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const L=[],N=[];let d=c.activeIndex;typeof s>"u"?s=c.getSlideIndex(u.filter(K=>K.classList.contains(x.slideActiveClass))[0]):d=s;const W=i==="next"||!i,G=i==="prev"||!i;let q=0,ne=0;const X=F?Math.ceil(u.length/x.grid.rows):u.length,J=(F?u[s].column:s)+(w&&typeof n>"u"?-S/2+.5:0);if(J<E){q=Math.max(E-J,A);for(let K=0;K<E-J;K+=1){const oe=K-Math.floor(K/X)*X;if(F){const ge=X-oe-1;for(let Me=u.length-1;Me>=0;Me-=1)u[Me].column===ge&&L.push(Me)}else L.push(X-oe-1)}}else if(J+S>X-E){ne=Math.max(J-(X-E*2),A);for(let K=0;K<ne;K+=1){const oe=K-Math.floor(K/X)*X;F?u.forEach((ge,Me)=>{ge.column===oe&&N.push(Me)}):N.push(oe)}}if(c.__preventObserver__=!0,requestAnimationFrame(()=>{c.__preventObserver__=!1}),G&&L.forEach(K=>{u[K].swiperLoopMoveDOM=!0,y.prepend(u[K]),u[K].swiperLoopMoveDOM=!1}),W&&N.forEach(K=>{u[K].swiperLoopMoveDOM=!0,y.append(u[K]),u[K].swiperLoopMoveDOM=!1}),c.recalcSlides(),x.slidesPerView==="auto"?c.updateSlides():F&&(L.length>0&&G||N.length>0&&W)&&c.slides.forEach((K,oe)=>{c.grid.updateSlide(oe,K,c.slides)}),x.watchSlidesProgress&&c.updateSlidesOffset(),t){if(L.length>0&&G){if(typeof e>"u"){const K=c.slidesGrid[d],ge=c.slidesGrid[d+q]-K;l?c.setTranslate(c.translate-ge):(c.slideTo(d+Math.ceil(q),0,!1,!0),n&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-ge,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-ge))}else if(n){const K=F?L.length/x.grid.rows:L.length;c.slideTo(c.activeIndex+K,0,!1,!0),c.touchEventsData.currentTranslate=c.translate}}else if(N.length>0&&W)if(typeof e>"u"){const K=c.slidesGrid[d],ge=c.slidesGrid[d-ne]-K;l?c.setTranslate(c.translate-ge):(c.slideTo(d-ne,0,!1,!0),n&&(c.touchEventsData.startTranslate=c.touchEventsData.startTranslate-ge,c.touchEventsData.currentTranslate=c.touchEventsData.currentTranslate-ge))}else{const K=F?N.length/x.grid.rows:N.length;c.slideTo(c.activeIndex-K,0,!1,!0)}}if(c.allowSlidePrev=f,c.allowSlideNext=m,c.controller&&c.controller.control&&!a){const K={slideRealIndex:e,direction:i,setTranslate:n,activeSlideIndex:s,byController:!0};Array.isArray(c.controller.control)?c.controller.control.forEach(oe=>{!oe.destroyed&&oe.params.loop&&oe.loopFix({...K,slideTo:oe.params.slidesPerView===x.slidesPerView?t:!1})}):c.controller.control instanceof c.constructor&&c.controller.control.params.loop&&c.controller.control.loopFix({...K,slideTo:c.controller.control.params.slidesPerView===x.slidesPerView?t:!1})}c.emit("loopFix")}function $f(){const o=this,{params:e,slidesEl:t}=o;if(!e.loop||o.virtual&&o.params.virtual.enabled)return;o.recalcSlides();const i=[];o.slides.forEach(n=>{const s=typeof n.swiperSlideIndex>"u"?n.getAttribute("data-swiper-slide-index")*1:n.swiperSlideIndex;i[s]=n}),o.slides.forEach(n=>{n.removeAttribute("data-swiper-slide-index")}),i.forEach(n=>{t.append(n)}),o.recalcSlides(),o.slideTo(o.realIndex,0)}var Kf={loopCreate:Xf,loopFix:Yf,loopDestroy:$f};function Zf(o){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=o?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Jf(){const o=this;o.params.watchOverflow&&o.isLocked||o.params.cssMode||(o.isElement&&(o.__preventObserver__=!0),o[o.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",o.isElement&&requestAnimationFrame(()=>{o.__preventObserver__=!1}))}var Qf={setGrabCursor:Zf,unsetGrabCursor:Jf};function ep(o,e){e===void 0&&(e=this);function t(i){if(!i||i===Wn()||i===_t())return null;i.assignedSlot&&(i=i.assignedSlot);const n=i.closest(o);return!n&&!i.getRootNode?null:n||t(i.getRootNode().host)}return t(e)}function yc(o,e,t){const i=_t(),{params:n}=o,s=n.edgeSwipeDetection,a=n.edgeSwipeThreshold;return s&&(t<=a||t>=i.innerWidth-a)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function tp(o){const e=this,t=Wn();let i=o;i.originalEvent&&(i=i.originalEvent);const n=e.touchEventsData;if(i.type==="pointerdown"){if(n.pointerId!==null&&n.pointerId!==i.pointerId)return;n.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(n.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){yc(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:l}=e;if(!l||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let c=i.target;if(s.touchEventsTarget==="wrapper"&&!af(c,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||n.isTouched&&n.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",f=i.composedPath?i.composedPath():i.path;u&&i.target&&i.target.shadowRoot&&f&&(c=f[0]);const m=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,y=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(y?ep(m,c):c.closest(m))){e.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;a.currentX=i.pageX,a.currentY=i.pageY;const x=a.currentX,w=a.currentY;if(!yc(e,i,x))return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=x,a.startY=w,n.touchStartTime=kr(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(n.allowThresholdMove=!1);let S=!0;c.matches(n.focusableElements)&&(S=!1,c.nodeName==="SELECT"&&(n.isTouched=!1)),t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==c&&t.activeElement.blur();const A=S&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||A)&&!c.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function ip(o){const e=Wn(),t=this,i=t.touchEventsData,{params:n,touches:s,rtlTranslate:a,enabled:l}=t;if(!l||!n.simulateTouch&&o.pointerType==="mouse")return;let c=o;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(i.touchId!==null||c.pointerId!==i.pointerId))return;let u;if(c.type==="touchmove"){if(u=[...c.changedTouches].filter(W=>W.identifier===i.touchId)[0],!u||u.identifier!==i.touchId)return}else u=c;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",c);return}const f=u.pageX,m=u.pageY;if(c.preventedByNestedSwiper){s.startX=f,s.startY=m;return}if(!t.allowTouchMove){c.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:f,startY:m,currentX:f,currentY:m}),i.touchStartTime=kr());return}if(n.touchReleaseOnEdges&&!n.loop){if(t.isVertical()){if(m<s.startY&&t.translate<=t.maxTranslate()||m>s.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(f<s.startX&&t.translate<=t.maxTranslate()||f>s.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&c.target===e.activeElement&&c.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=f,s.currentY=m;const y=s.currentX-s.startX,x=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(y**2+x**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let W;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:y*y+x*x>=25&&(W=Math.atan2(Math.abs(x),Math.abs(y))*180/Math.PI,i.isScrolling=t.isHorizontal()?W>n.touchAngle:90-W>n.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",c),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||c.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!n.cssMode&&c.cancelable&&c.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&c.stopPropagation();let w=t.isHorizontal()?y:x,S=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;n.oneWayMovement&&(w=Math.abs(w)*(a?1:-1),S=Math.abs(S)*(a?1:-1)),s.diff=w,w*=n.touchRatio,a&&(w=-w,S=-S);const A=t.touchesDirection;t.swipeDirection=w>0?"prev":"next",t.touchesDirection=S>0?"prev":"next";const E=t.params.loop&&!n.cssMode,F=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(E&&F&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const W=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(W)}i.allowMomentumBounce=!1,n.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",c)}let L;if(new Date().getTime(),i.isMoved&&i.allowThresholdMove&&A!==t.touchesDirection&&E&&F&&Math.abs(w)>=1){Object.assign(s,{startX:f,startY:m,currentX:f,currentY:m,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",c),i.isMoved=!0,i.currentTranslate=w+i.startTranslate;let N=!0,d=n.resistanceRatio;if(n.touchReleaseOnEdges&&(d=0),w>0?(E&&F&&!L&&i.allowThresholdMove&&i.currentTranslate>(n.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(n.slidesPerView!=="auto"&&t.slides.length-n.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(N=!1,n.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+w)**d))):w<0&&(E&&F&&!L&&i.allowThresholdMove&&i.currentTranslate<(n.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(n.slidesPerView!=="auto"&&t.slides.length-n.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(n.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(N=!1,n.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-w)**d))),N&&(c.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),n.threshold>0)if(Math.abs(w)>n.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!n.followFinger||n.cssMode||((n.freeMode&&n.freeMode.enabled&&t.freeMode||n.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function np(o){const e=this,t=e.touchEventsData;let i=o;i.originalEvent&&(i=i.originalEvent);let n;if(i.type==="touchend"||i.type==="touchcancel"){if(n=[...i.changedTouches].filter(d=>d.identifier===t.touchId)[0],!n||n.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;n=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:a,touches:l,rtlTranslate:c,slidesGrid:u,enabled:f}=e;if(!f||!a.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&a.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}a.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const m=kr(),y=m-t.touchStartTime;if(e.allowClick){const d=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(d&&d[0]||i.target,d),e.emit("tap click",i),y<300&&m-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=kr(),ta(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||l.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let x;if(a.followFinger?x=c?e.translate:-e.translate:x=-t.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:x});return}const w=x>=-e.maxTranslate()&&!e.params.loop;let S=0,A=e.slidesSizesGrid[0];for(let d=0;d<u.length;d+=d<a.slidesPerGroupSkip?1:a.slidesPerGroup){const W=d<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[d+W]<"u"?(w||x>=u[d]&&x<u[d+W])&&(S=d,A=u[d+W]-u[d]):(w||x>=u[d])&&(S=d,A=u[u.length-1]-u[u.length-2])}let E=null,F=null;a.rewind&&(e.isBeginning?F=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(E=0));const L=(x-u[S])/A,N=S<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(y>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(L>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?E:S+N):e.slideTo(S)),e.swipeDirection==="prev"&&(L>1-a.longSwipesRatio?e.slideTo(S+N):F!==null&&L<0&&Math.abs(L)>a.longSwipesRatio?e.slideTo(F):e.slideTo(S))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(S+N):e.slideTo(S):(e.swipeDirection==="next"&&e.slideTo(E!==null?E:S+N),e.swipeDirection==="prev"&&e.slideTo(F!==null?F:S))}}function xc(){const o=this,{params:e,el:t}=o;if(t&&t.offsetWidth===0)return;e.breakpoints&&o.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:n,snapGrid:s}=o,a=o.virtual&&o.params.virtual.enabled;o.allowSlideNext=!0,o.allowSlidePrev=!0,o.updateSize(),o.updateSlides(),o.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&o.isEnd&&!o.isBeginning&&!o.params.centeredSlides&&!l?o.slideTo(o.slides.length-1,0,!1,!0):o.params.loop&&!a?o.slideToLoop(o.realIndex,0,!1,!0):o.slideTo(o.activeIndex,0,!1,!0),o.autoplay&&o.autoplay.running&&o.autoplay.paused&&(clearTimeout(o.autoplay.resizeTimeout),o.autoplay.resizeTimeout=setTimeout(()=>{o.autoplay&&o.autoplay.running&&o.autoplay.paused&&o.autoplay.resume()},500)),o.allowSlidePrev=n,o.allowSlideNext=i,o.params.watchOverflow&&s!==o.snapGrid&&o.checkOverflow()}function sp(o){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&o.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(o.stopPropagation(),o.stopImmediatePropagation())))}function rp(){const o=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=o;if(!i)return;o.previousTranslate=o.translate,o.isHorizontal()?o.translate=-e.scrollLeft:o.translate=-e.scrollTop,o.translate===0&&(o.translate=0),o.updateActiveIndex(),o.updateSlidesClasses();let n;const s=o.maxTranslate()-o.minTranslate();s===0?n=0:n=(o.translate-o.minTranslate())/s,n!==o.progress&&o.updateProgress(t?-o.translate:o.translate),o.emit("setTranslate",o.translate,!1)}function op(o){const e=this;Tr(e,o.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function ap(){const o=this;o.documentTouchHandlerProceeded||(o.documentTouchHandlerProceeded=!0,o.params.touchReleaseOnEdges&&(o.el.style.touchAction="auto"))}const Xc=(o,e)=>{const t=Wn(),{params:i,el:n,wrapperEl:s,device:a}=o,l=!!i.nested,c=e==="on"?"addEventListener":"removeEventListener",u=e;!n||typeof n=="string"||(t[c]("touchstart",o.onDocumentTouchStart,{passive:!1,capture:l}),n[c]("touchstart",o.onTouchStart,{passive:!1}),n[c]("pointerdown",o.onTouchStart,{passive:!1}),t[c]("touchmove",o.onTouchMove,{passive:!1,capture:l}),t[c]("pointermove",o.onTouchMove,{passive:!1,capture:l}),t[c]("touchend",o.onTouchEnd,{passive:!0}),t[c]("pointerup",o.onTouchEnd,{passive:!0}),t[c]("pointercancel",o.onTouchEnd,{passive:!0}),t[c]("touchcancel",o.onTouchEnd,{passive:!0}),t[c]("pointerout",o.onTouchEnd,{passive:!0}),t[c]("pointerleave",o.onTouchEnd,{passive:!0}),t[c]("contextmenu",o.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&n[c]("click",o.onClick,!0),i.cssMode&&s[c]("scroll",o.onScroll),i.updateOnWindowResize?o[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",xc,!0):o[u]("observerUpdate",xc,!0),n[c]("load",o.onLoad,{capture:!0}))};function lp(){const o=this,{params:e}=o;o.onTouchStart=tp.bind(o),o.onTouchMove=ip.bind(o),o.onTouchEnd=np.bind(o),o.onDocumentTouchStart=ap.bind(o),e.cssMode&&(o.onScroll=rp.bind(o)),o.onClick=sp.bind(o),o.onLoad=op.bind(o),Xc(o,"on")}function cp(){Xc(this,"off")}var hp={attachEvents:lp,detachEvents:cp};const bc=(o,e)=>o.grid&&e.grid&&e.grid.rows>1;function up(){const o=this,{realIndex:e,initialized:t,params:i,el:n}=o,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=o.getBreakpoint(s,o.params.breakpointsBase,o.el);if(!a||o.currentBreakpoint===a)return;const c=(a in s?s[a]:void 0)||o.originalParams,u=bc(o,i),f=bc(o,c),m=o.params.grabCursor,y=c.grabCursor,x=i.enabled;u&&!f?(n.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),o.emitContainerClasses()):!u&&f&&(n.classList.add(`${i.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&i.grid.fill==="column")&&n.classList.add(`${i.containerModifierClass}grid-column`),o.emitContainerClasses()),m&&!y?o.unsetGrabCursor():!m&&y&&o.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(L=>{if(typeof c[L]>"u")return;const N=i[L]&&i[L].enabled,d=c[L]&&c[L].enabled;N&&!d&&o[L].disable(),!N&&d&&o[L].enable()});const w=c.direction&&c.direction!==i.direction,S=i.loop&&(c.slidesPerView!==i.slidesPerView||w),A=i.loop;w&&t&&o.changeDirection(),At(o.params,c);const E=o.params.enabled,F=o.params.loop;Object.assign(o,{allowTouchMove:o.params.allowTouchMove,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev}),x&&!E?o.disable():!x&&E&&o.enable(),o.currentBreakpoint=a,o.emit("_beforeBreakpoint",c),t&&(S?(o.loopDestroy(),o.loopCreate(e),o.updateSlides()):!A&&F?(o.loopCreate(e),o.updateSlides()):A&&!F&&o.loopDestroy()),o.emit("breakpoint",c)}function dp(o,e,t){if(e===void 0&&(e="window"),!o||e==="container"&&!t)return;let i=!1;const n=_t(),s=e==="window"?n.innerHeight:t.clientHeight,a=Object.keys(o).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const c=parseFloat(l.substr(1));return{value:s*c,point:l}}return{value:l,point:l}});a.sort((l,c)=>parseInt(l.value,10)-parseInt(c.value,10));for(let l=0;l<a.length;l+=1){const{point:c,value:u}=a[l];e==="window"?n.matchMedia(`(min-width: ${u}px)`).matches&&(i=c):u<=t.clientWidth&&(i=c)}return i||"max"}var fp={setBreakpoint:up,getBreakpoint:dp};function pp(o,e){const t=[];return o.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(n=>{i[n]&&t.push(e+n)}):typeof i=="string"&&t.push(e+i)}),t}function mp(){const o=this,{classNames:e,params:t,rtl:i,el:n,device:s}=o,a=pp(["initialized",t.direction,{"free-mode":o.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),n.classList.add(...e),o.emitContainerClasses()}function gp(){const o=this,{el:e,classNames:t}=o;!e||typeof e=="string"||(e.classList.remove(...t),o.emitContainerClasses())}var yp={addClasses:mp,removeClasses:gp};function xp(){const o=this,{isLocked:e,params:t}=o,{slidesOffsetBefore:i}=t;if(i){const n=o.slides.length-1,s=o.slidesGrid[n]+o.slidesSizesGrid[n]+i*2;o.isLocked=o.size>s}else o.isLocked=o.snapGrid.length===1;t.allowSlideNext===!0&&(o.allowSlideNext=!o.isLocked),t.allowSlidePrev===!0&&(o.allowSlidePrev=!o.isLocked),e&&e!==o.isLocked&&(o.isEnd=!1),e!==o.isLocked&&o.emit(o.isLocked?"lock":"unlock")}var bp={checkOverflow:xp},wc={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function wp(o,e){return function(i){i===void 0&&(i={});const n=Object.keys(i)[0],s=i[n];if(typeof s!="object"||s===null){At(e,i);return}if(o[n]===!0&&(o[n]={enabled:!0}),n==="navigation"&&o[n]&&o[n].enabled&&!o[n].prevEl&&!o[n].nextEl&&(o[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&o[n]&&o[n].enabled&&!o[n].el&&(o[n].auto=!0),!(n in o&&"enabled"in s)){At(e,i);return}typeof o[n]=="object"&&!("enabled"in o[n])&&(o[n].enabled=!0),o[n]||(o[n]={enabled:!1}),At(e,i)}}const Vo={eventsEmitter:yf,update:Cf,translate:Lf,transition:Df,slide:qf,loop:Kf,grabCursor:Qf,events:hp,breakpoints:fp,checkOverflow:bp,classes:yp},Go={};class Mt{constructor(){let e,t;for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];n.length===1&&n[0].constructor&&Object.prototype.toString.call(n[0]).slice(8,-1)==="Object"?t=n[0]:[e,t]=n,t||(t={}),t=At({},t),e&&!t.el&&(t.el=e);const a=Wn();if(t.el&&typeof t.el=="string"&&a.querySelectorAll(t.el).length>1){const f=[];return a.querySelectorAll(t.el).forEach(m=>{const y=At({},t,{el:m});f.push(new Mt(y))}),f}const l=this;l.__swiper__=!0,l.support=Uc(),l.device=Wc({userAgent:t.userAgent}),l.browser=pf(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],t.modules&&Array.isArray(t.modules)&&l.modules.push(...t.modules);const c={};l.modules.forEach(f=>{f({params:t,swiper:l,extendParams:wp(t,c),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const u=At({},wc,c);return l.params=At({},u,Go,t),l.originalParams=At({},l.params),l.passedParams=At({},t),l.params&&l.params.on&&Object.keys(l.params.on).forEach(f=>{l.on(f,l.params.on[f])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,n=Ti(t,`.${i.slideClass}, swiper-slide`),s=pc(n[0]);return pc(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=Ti(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const n=i.minTranslate(),a=(i.maxTranslate()-n)*e+n;i.translateTo(a,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:n,slides:s,slidesGrid:a,slidesSizesGrid:l,size:c,activeIndex:u}=i;let f=1;if(typeof n.slidesPerView=="number")return n.slidesPerView;if(n.centeredSlides){let m=s[u]?Math.ceil(s[u].swiperSlideSize):0,y;for(let x=u+1;x<s.length;x+=1)s[x]&&!y&&(m+=Math.ceil(s[x].swiperSlideSize),f+=1,m>c&&(y=!0));for(let x=u-1;x>=0;x-=1)s[x]&&!y&&(m+=s[x].swiperSlideSize,f+=1,m>c&&(y=!0))}else if(e==="current")for(let m=u+1;m<s.length;m+=1)(t?a[m]+l[m]-a[u]<c:a[m]-a[u]<c)&&(f+=1);else for(let m=u-1;m>=0;m-=1)a[u]-a[m]<c&&(f+=1);return f}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&Tr(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function n(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)n(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const a=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||n()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,n=i.params.direction;return e||(e=n==="horizontal"?"vertical":"horizontal"),e===n||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${n}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(n()):Ti(i,n())[0];return!a&&t.params.createElements&&(a=ia("div",t.params.wrapperClass),i.append(a),Ti(i,`.${t.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(t,{el:i,wrapperEl:a,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Bi(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Bi(i,"direction")==="rtl"),wrongRTL:Bi(a,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach(s=>{s.complete?Tr(t,s):s.addEventListener("load",a=>{Tr(t,a.target)})}),na(t),t.initialized=!0,na(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:n,el:s,wrapperEl:a,slides:l}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(c=>{c.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(c=>{i.off(c)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),nf(i)),i.destroyed=!0),null}static extendDefaults(e){At(Go,e)}static get extendedDefaults(){return Go}static get defaults(){return wc}static installModule(e){Mt.prototype.__modules__||(Mt.prototype.__modules__=[]);const t=Mt.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Mt.installModule(t)),Mt):(Mt.installModule(e),Mt)}}Object.keys(Vo).forEach(o=>{Object.keys(Vo[o]).forEach(e=>{Mt.prototype[e]=Vo[o][e]})});Mt.use([mf,gf]);const De=new Iu,Mi=new Lr(75,window.innerWidth/innerHeight,.1,1e3);let Hi=new(void 0)({canvas:document.querySelector("#bg")});Hi.setPixelRatio(window.devicePixelRatio);Hi.setSize(window.innerWidth,innerHeight);Mi.position.setZ(800);Mi.position.setY(5);const vp=new sd(16777215),Tp=new gd(2e3,800),Fr=new xd(Mi,Hi.domElement);Fr.enableZoom=!1;Fr.noZoom=!0;Fr.enabled=!1;De.add(vp);De.add(Tp);let ct=new z(5,800,0);const vc=4500;let ms=null;const Yc=document.querySelector(".swiper-slide-num"),zr=document.querySelectorAll(".heading"),$c=1500;var Rn=null;const Et=new Mt(".swiper",{direction:"vertical",loop:!0,speed:$c,mousewheel:!1,keyboard:{enabled:!0},pagination:{el:".swiper-pagination-custom",loop:!0,bulletClass:"swiper-bullet-custom",bulletActiveClass:"is-active",bulletElement:"button",clickable:!0}}),$t=new Mt(".Swiper_Portfolio",{direction:"horizontal",slidesPerView:1,spaceBetween:30,speed:$c,mousewheel:!1,pagination:{el:".swiper-pagination_2",clickable:!0}});document.body.addEventListener("wheel",o=>{o.preventDefault(),Et.realIndex==3?$t.realIndex==4&&o.wheelDeltaY<0||$t.realIndex==0&&o.wheelDeltaY>0?o.wheelDeltaY<0?Et.slideNext():Et.slidePrev():o.wheelDeltaY<0?$t.slideNext():$t.slidePrev():o.wheelDeltaY<0?Et.slideNext():Et.slidePrev(),$t.realIndex==0&&(Et.slidePrev(),$t.slideNext()),$t.realIndex==4&&(Et.slideNext(),$t.slidePrev()),$t.realIndex==2&&(De.background=new Le(16777215)),($t.realIndex==1||$t.realIndex==3)&&(De.background=new Le(0))});Et.on("slideNextTransitionStart",()=>{let o=Et.realIndex;switch(Yc.textContent=o+1,zr.forEach(e=>e.classList.remove("is-active")),zr[o].classList.add("is-active"),o){case 0:ct=new z(0,5,800),document.querySelector(".navbar").style.display="grid";break;case 1:ct=new z(0,5,400),document.querySelector(".navbar").style.display="none";break;case 2:ct=new z(-400,5,200),document.querySelector(".navbar").style.display="none";break;case 3:ct=new z(0,5,100),document.querySelector(".navbar").style.display="none";break;case 4:ct=new z(0,100,0),document.querySelector(".navbar").style.display="none";break;default:ct=new z(0,200,200),document.querySelector(".navbar").style.display="none";break}ms=null,Rn=ct,gsap.timeline({defaults:{duration:Ma/5e3}}).to(".front",{translateY:"100%"}).set(".front",{translateY:"-100%"}).to(".front",{translateY:"0%"})});Et.on("slidePrevTransitionStart",()=>{let o=Et.realIndex;switch(Yc.textContent=o+1,zr.forEach(e=>e.classList.remove("is-active")),zr[o].classList.add("is-active"),o){case 0:ct=new z(0,5,800),document.querySelector(".navbar").style.display="grid";break;case 1:ct=new z(0,5,400),document.querySelector(".navbar").style.display="none";break;case 2:ct=new z(-400,5,200),document.querySelector(".navbar").style.display="none";break;case 3:ct=new z(0,5,100),document.querySelector(".navbar").style.display="none";break;case 4:ct=new z(0,100,0),document.querySelector(".navbar").style.display="none";break;default:ct=new z(0,5,800),document.querySelector(".navbar").style.display="none";break}ms=null,Rn=ct,gsap.timeline({defaults:{duration:Ma/2e3}}).to(".front",{translateY:"-100%"}).set(".front",{translateY:"100%"}).to(".front",{translateY:"0%"})});document.getElementById("go_To_Contacts").addEventListener("click",function(){Et.slideTo(4)});document.getElementById("w-node-_475191de-f6e8-9024-5d0a-bd63c5d18fb7-67f9e306").addEventListener("click",function(){Et.slideTo(1)});const Fi=[],gs=[],Ma=.03;let wr=0;function Kc(o){if(requestAnimationFrame(Kc),Rn!=null){ms||(ms=o);const e=o-ms;if(e>=vc)Mi.position.copy(Rn),Rn=null;else{const t=e/vc;Mi.position.lerp(Rn,t)}}Zc.forEach((e,t)=>{e.rotation.x+=sa[t][0],e.rotation.y+=sa[t][1]}),wr+=Ma;for(let e=0;e<Ln.length;e++){let t=Fi[e]+(gs[e]-Fi[e])*Math.sin(wr);e%2,Fi[e]+(gs[e]-Fi[e])*Math.sin(wr),Ln[e].position.y=t}Fr.update(),Hi.setSize(window.innerWidth,innerHeight),Hi.render(De,Mi)}const Rr=new md;Hi.domElement.addEventListener("mousemove",Mp);let zn;function Mp(o){const e=new pe;e.x=o.clientX/window.innerWidth*2-1,e.y=-(o.clientY/window.innerHeight)*2+1,Rr.setFromCamera(e,Mi);const t=Rr.intersectObjects(De.children,!0);if(t.length>0){t[0].object.name=="Space_Invader"?t[0].object.material.color.set(2223626):t[0].object.name=="Moon"||t[0].object.name=="Space_Invader_kill"||(t[0].object.name.indexOf("Ð¡ÑÐµÑÐ°")==0?t[0].object.material.color.set(268435455):t[0].object.name.indexOf("Object")==0||t[0].object.type!="GridHelper"&&(t[0].object.material.color.set(16711680),document.getElementById("bg").style.cursor="default"));try{zn.object.id!=t[0].object.id&&zn.object.name=="Space_Invader"&&zn.object.material.color.set(16777215)}catch{zn=t[0]}if(t[0].object.name!="world")try{De.getObjectByName("world").material.color.set(65793)}catch{zn=t[0]}zn=t[0],t[0].object.name.indexOf("Object")==0?document.getElementById("bg").style.cursor="pointer":document.getElementById("bg").style.cursor="default"}else document.getElementById("bg").style.cursor="default"}Hi.domElement.addEventListener("click",Sp);function Sp(o){const e=new pe;e.x=o.clientX/window.innerWidth*2-1,e.y=-(o.clientY/window.innerHeight)*2+1,Rr.setFromCamera(e,Mi);const t=Rr.intersectObjects(De.children,!0);t.length>0&&t[0].object.name=="Space_Invader"&&(t[0].object.name="Space_Invader_kill",t[0].object.material.color.set(16711680))}function Ap(){const o=new ya(1,32,16),e=new ni({color:16777215}),t=new ln(o,e),i=lt.randFloatSpread(800),n=lt.randFloat(0,800),s=lt.randFloatSpread(800);t.position.set(i,n,s),De.add(t)}Array(1e3).fill().forEach(Ap);const Ep=new ua(150,80),_p=new ni({color:0,side:ra}),Sa=new ln(Ep,_p);Sa.rotation.x=90*Math.PI/180;Sa.position.set(0,-1,350);De.add(Sa);const Zc=[],sa=[];function Cp(){const o=new ha(20,20,20),e=new Zl(o),t=new ws({color:16777215});t.linewidth=5;const i=new Cr(e,t),n=lt.randFloat(2,10),s=lt.randFloat(0,10),a=lt.randFloat(3,7),l=1,c=!1,u=0,f=lt.randFloat(3.8786724068467,6.283185307179586),m=new ga(n,s,a,l,c,u,f),y=new ni({color:16777215}),x=new ln(m,y),w=new Zl(m),S=new ws({color:0,linewidth:2}),A=new Cr(w,S),E=lt.randFloatSpread(1e3),F=lt.randFloat(0,1e3),L=lt.randFloatSpread(1e3);let N=lt.randFloat(0,.01),d=lt.randFloat(0,.01);i.position.set(E,F,L),x.position.set(E,F,L),A.position.set(E,F,L),sa.push([N,d]),Zc.push(i),De.add(i),De.add(x),De.add(A)}Array(1050).fill().forEach(Cp);const Aa=new bd;var Ln=[];Aa.load("imgs/3d_space_invader.glb",function(o){let e=-60,t=0;for(let i=0;i<40;i+=10)for(let n=10;n<120;n+=10)n=n%50===0?n+31:n,Ln[Ln.length]=Ir(o.scene),Fi[Fi.length]=i-5,gs[gs.length]=i+5,kp(Ln[Ln.length-1],e+n,t+i,350);Kc()});const wi={color:16777215,transmission:1,opacity:1,metalness:0,roughness:.26,ior:1.5,thickness:3.59,specularIntensity:0,specularColor:16777215,envMapIntensity:1,lightIntensity:1,exposure:1};function Ip(){const o=document.createElement("canvas");o.width=2,o.height=2;const e=o.getContext("2d");return e.fillStyle="white",e.fillRect(0,1,2,1),o}const Ms=new Du(Ip());Ms.magFilter=Ar;Ms.wrapT=an;Ms.wrapS=an;Ms.repeat.set(1,3.5);function kp(o,e,t,i){const s=Ea(o);o.scale.set(10/s,10/s,10/s);const a=new z(e,t,i);o.position.copy(a),o.traverse(l=>{l.isMesh&&(l.material=new ni({color:wi.color,metalness:wi.metalness,roughness:wi.roughness,ior:wi.ior,alphaMap:Ms,envMapIntensity:wi.envMapIntensity,transmission:wi.transmission,specularIntensity:wi.specularIntensity,specularColor:wi.specularColor,opacity:wi.opacity,side:ra,transparent:!0}))}),De.add(o)}function Ea(o){const e=new ri().setFromObject(o),t=new z;return e.getSize(t),t.length()}const Jc=new Or(16777215,1,500);Jc.position.set(0,35,70);De.add(Jc);Aa.load("imgs/world.glb",function(o){var e=Ir(o.scene);const t=120,i=Ea(e);e.scale.set(t/i,t/i,t/i);const n=new z(0,35,0);e.position.copy(n),e.rotation.y=.01,De.add(e);function s(){requestAnimationFrame(s),e.rotation.y+=.01,Hi.render(De,Mi)}s()});const Qc=new Or("#ffffff",4,500);Qc.position.set(0,26,780);De.add(Qc);const eh=new Or("#ffffff",4,500);eh.position.set(0,26,580);De.add(eh);var vr=[];Aa.load("imgs/asteroide.glb",function(o){[[-15,40,720],[11,35,750],[15,10,800],[17,9,750],[15,15,500],[37,12,730],[24,14,630],[23,10,670],[30,10,520],[15,5,570],[20,15,450],[27,25,744],[23,11,666],[18,17,550],[32,20,654],[0,30,611],[-40,10,760],[-15,5,750],[-15,15,500],[-30,12,730],[-20,18,630],[-20,10,670],[-30,7,520],[-15,5,570],[-20,15,450],[-27,25,744],[-23,11,666],[-18,17,550],[-32,20,654],[-1,20,711]].forEach(i=>{vr[vr.length]=Ir(o.scene),Pp(vr[vr.length-1],i[0],i[1],i[2])});var t=Ir(o.scene);De.add(t)});function Pp(o,e,t,i){const s=Ea(o);o.scale.set(40/s,40/s,40/s),o.traverse(l=>{l.isMesh&&(l.material.color.set("#ffffff"),l.material.wireframe=!0)});const a=new z(e,t,i);o.position.copy(a),De.add(o)}document.getElementById("downloadcv").addEventListener("click",function(){var o=document.createElement("a");o.href="imgs/Docs/CV-Luis Carvalho.pdf",o.download="CV-Luis Carvalho.pdf",o.dispatchEvent(new MouseEvent("click"))})});export default zp();
